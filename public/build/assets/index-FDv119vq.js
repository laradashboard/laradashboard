function za(t,l){for(var i=0;i<l.length;i++){const s=l[i];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in t)){const d=Object.getOwnPropertyDescriptor(s,c);d&&Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Ma(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ca={exports:{}},Uo={},Sa={exports:{}},Ee={};var Cd;function Rp(){if(Cd)return Ee;Cd=1;var t=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function N(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function C(I,F,ie){this.props=I,this.context=F,this.refs=w,this.updater=ie||j}C.prototype.isReactComponent={},C.prototype.setState=function(I,F){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,F,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function S(){}S.prototype=C.prototype;function T(I,F,ie){this.props=I,this.context=F,this.refs=w,this.updater=ie||j}var $=T.prototype=new S;$.constructor=T,E($,C.prototype),$.isPureReactComponent=!0;var L=Array.isArray,A=Object.prototype.hasOwnProperty,P={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function W(I,F,ie){var ne,ge={},ue=null,Ce=null;if(F!=null)for(ne in F.ref!==void 0&&(Ce=F.ref),F.key!==void 0&&(ue=""+F.key),F)A.call(F,ne)&&!M.hasOwnProperty(ne)&&(ge[ne]=F[ne]);var ye=arguments.length-2;if(ye===1)ge.children=ie;else if(1<ye){for(var ke=Array(ye),be=0;be<ye;be++)ke[be]=arguments[be+2];ge.children=ke}if(I&&I.defaultProps)for(ne in ye=I.defaultProps,ye)ge[ne]===void 0&&(ge[ne]=ye[ne]);return{$$typeof:t,type:I,key:ue,ref:Ce,props:ge,_owner:P.current}}function G(I,F){return{$$typeof:t,type:I.type,key:F,ref:I.ref,props:I.props,_owner:I._owner}}function U(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function X(I){var F={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ie){return F[ie]})}var O=/\/+/g;function J(I,F){return typeof I=="object"&&I!==null&&I.key!=null?X(""+I.key):F.toString(36)}function te(I,F,ie,ne,ge){var ue=typeof I;(ue==="undefined"||ue==="boolean")&&(I=null);var Ce=!1;if(I===null)Ce=!0;else switch(ue){case"string":case"number":Ce=!0;break;case"object":switch(I.$$typeof){case t:case l:Ce=!0}}if(Ce)return Ce=I,ge=ge(Ce),I=ne===""?"."+J(Ce,0):ne,L(ge)?(ie="",I!=null&&(ie=I.replace(O,"$&/")+"/"),te(ge,F,ie,"",function(be){return be})):ge!=null&&(U(ge)&&(ge=G(ge,ie+(!ge.key||Ce&&Ce.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+I)),F.push(ge)),1;if(Ce=0,ne=ne===""?".":ne+":",L(I))for(var ye=0;ye<I.length;ye++){ue=I[ye];var ke=ne+J(ue,ye);Ce+=te(ue,F,ie,ke,ge)}else if(ke=N(I),typeof ke=="function")for(I=ke.call(I),ye=0;!(ue=I.next()).done;)ue=ue.value,ke=ne+J(ue,ye++),Ce+=te(ue,F,ie,ke,ge);else if(ue==="object")throw F=String(I),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ce}function re(I,F,ie){if(I==null)return I;var ne=[],ge=0;return te(I,ne,"","",function(ue){return F.call(ie,ue,ge++)}),ne}function ae(I){if(I._status===-1){var F=I._result;F=F(),F.then(function(ie){(I._status===0||I._status===-1)&&(I._status=1,I._result=ie)},function(ie){(I._status===0||I._status===-1)&&(I._status=2,I._result=ie)}),I._status===-1&&(I._status=0,I._result=F)}if(I._status===1)return I._result.default;throw I._result}var pe={current:null},V={transition:null},ee={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:V,ReactCurrentOwner:P};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:re,forEach:function(I,F,ie){re(I,function(){F.apply(this,arguments)},ie)},count:function(I){var F=0;return re(I,function(){F++}),F},toArray:function(I){return re(I,function(F){return F})||[]},only:function(I){if(!U(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ee.Component=C,Ee.Fragment=i,Ee.Profiler=c,Ee.PureComponent=T,Ee.StrictMode=s,Ee.Suspense=p,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ee.act=K,Ee.cloneElement=function(I,F,ie){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ne=E({},I.props),ge=I.key,ue=I.ref,Ce=I._owner;if(F!=null){if(F.ref!==void 0&&(ue=F.ref,Ce=P.current),F.key!==void 0&&(ge=""+F.key),I.type&&I.type.defaultProps)var ye=I.type.defaultProps;for(ke in F)A.call(F,ke)&&!M.hasOwnProperty(ke)&&(ne[ke]=F[ke]===void 0&&ye!==void 0?ye[ke]:F[ke])}var ke=arguments.length-2;if(ke===1)ne.children=ie;else if(1<ke){ye=Array(ke);for(var be=0;be<ke;be++)ye[be]=arguments[be+2];ne.children=ye}return{$$typeof:t,type:I.type,key:ge,ref:ue,props:ne,_owner:Ce}},Ee.createContext=function(I){return I={$$typeof:g,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:d,_context:I},I.Consumer=I},Ee.createElement=W,Ee.createFactory=function(I){var F=W.bind(null,I);return F.type=I,F},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(I){return{$$typeof:m,render:I}},Ee.isValidElement=U,Ee.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:ae}},Ee.memo=function(I,F){return{$$typeof:v,type:I,compare:F===void 0?null:F}},Ee.startTransition=function(I){var F=V.transition;V.transition={};try{I()}finally{V.transition=F}},Ee.unstable_act=K,Ee.useCallback=function(I,F){return pe.current.useCallback(I,F)},Ee.useContext=function(I){return pe.current.useContext(I)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(I){return pe.current.useDeferredValue(I)},Ee.useEffect=function(I,F){return pe.current.useEffect(I,F)},Ee.useId=function(){return pe.current.useId()},Ee.useImperativeHandle=function(I,F,ie){return pe.current.useImperativeHandle(I,F,ie)},Ee.useInsertionEffect=function(I,F){return pe.current.useInsertionEffect(I,F)},Ee.useLayoutEffect=function(I,F){return pe.current.useLayoutEffect(I,F)},Ee.useMemo=function(I,F){return pe.current.useMemo(I,F)},Ee.useReducer=function(I,F,ie){return pe.current.useReducer(I,F,ie)},Ee.useRef=function(I){return pe.current.useRef(I)},Ee.useState=function(I){return pe.current.useState(I)},Ee.useSyncExternalStore=function(I,F,ie){return pe.current.useSyncExternalStore(I,F,ie)},Ee.useTransition=function(){return pe.current.useTransition()},Ee.version="18.3.1",Ee}var Sd;function Oa(){return Sd||(Sd=1,Sa.exports=Rp()),Sa.exports}var jd;function Lp(){if(jd)return Uo;jd=1;var t=Oa(),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function g(m,p,v){var b,y={},N=null,j=null;v!==void 0&&(N=""+v),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(j=p.ref);for(b in p)s.call(p,b)&&!d.hasOwnProperty(b)&&(y[b]=p[b]);if(m&&m.defaultProps)for(b in p=m.defaultProps,p)y[b]===void 0&&(y[b]=p[b]);return{$$typeof:l,type:m,key:N,ref:j,props:y,_owner:c.current}}return Uo.Fragment=i,Uo.jsx=g,Uo.jsxs=g,Uo}var Nd;function Ap(){return Nd||(Nd=1,Ca.exports=Lp()),Ca.exports}var r=Ap();const Bp=Ma(r),R2=za({__proto__:null,default:Bp},[r]);var x=Oa();const He=Ma(x),L2=za({__proto__:null,default:He},[x]);var ja={exports:{}},zt={},Na={exports:{}},Ea={};var Ed;function Ip(){return Ed||(Ed=1,(function(t){function l(V,ee){var K=V.length;V.push(ee);e:for(;0<K;){var I=K-1>>>1,F=V[I];if(0<c(F,ee))V[I]=ee,V[K]=F,K=I;else break e}}function i(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var ee=V[0],K=V.pop();if(K!==ee){V[0]=K;e:for(var I=0,F=V.length,ie=F>>>1;I<ie;){var ne=2*(I+1)-1,ge=V[ne],ue=ne+1,Ce=V[ue];if(0>c(ge,K))ue<F&&0>c(Ce,ge)?(V[I]=Ce,V[ue]=K,I=ue):(V[I]=ge,V[ne]=K,I=ne);else if(ue<F&&0>c(Ce,K))V[I]=Ce,V[ue]=K,I=ue;else break e}}return ee}function c(V,ee){var K=V.sortIndex-ee.sortIndex;return K!==0?K:V.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var g=Date,m=g.now();t.unstable_now=function(){return g.now()-m}}var p=[],v=[],b=1,y=null,N=3,j=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(V){for(var ee=i(v);ee!==null;){if(ee.callback===null)s(v);else if(ee.startTime<=V)s(v),ee.sortIndex=ee.expirationTime,l(p,ee);else break;ee=i(v)}}function L(V){if(w=!1,$(V),!E)if(i(p)!==null)E=!0,ae(A);else{var ee=i(v);ee!==null&&pe(L,ee.startTime-V)}}function A(V,ee){E=!1,w&&(w=!1,S(W),W=-1),j=!0;var K=N;try{for($(ee),y=i(p);y!==null&&(!(y.expirationTime>ee)||V&&!X());){var I=y.callback;if(typeof I=="function"){y.callback=null,N=y.priorityLevel;var F=I(y.expirationTime<=ee);ee=t.unstable_now(),typeof F=="function"?y.callback=F:y===i(p)&&s(p),$(ee)}else s(p);y=i(p)}if(y!==null)var ie=!0;else{var ne=i(v);ne!==null&&pe(L,ne.startTime-ee),ie=!1}return ie}finally{y=null,N=K,j=!1}}var P=!1,M=null,W=-1,G=5,U=-1;function X(){return!(t.unstable_now()-U<G)}function O(){if(M!==null){var V=t.unstable_now();U=V;var ee=!0;try{ee=M(!0,V)}finally{ee?J():(P=!1,M=null)}}else P=!1}var J;if(typeof T=="function")J=function(){T(O)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=O,J=function(){re.postMessage(null)}}else J=function(){C(O,0)};function ae(V){M=V,P||(P=!0,J())}function pe(V,ee){W=C(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){E||j||(E=!0,ae(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return i(p)},t.unstable_next=function(V){switch(N){case 1:case 2:case 3:var ee=3;break;default:ee=N}var K=N;N=ee;try{return V()}finally{N=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=N;N=V;try{return ee()}finally{N=K}},t.unstable_scheduleCallback=function(V,ee,K){var I=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,V){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,V={id:b++,callback:ee,priorityLevel:V,startTime:K,expirationTime:F,sortIndex:-1},K>I?(V.sortIndex=K,l(v,V),i(p)===null&&V===i(v)&&(w?(S(W),W=-1):w=!0,pe(L,K-I))):(V.sortIndex=F,l(p,V),E||j||(E=!0,ae(A))),V},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(V){var ee=N;return function(){var K=N;N=ee;try{return V.apply(this,arguments)}finally{N=K}}}})(Ea)),Ea}var $d;function _p(){return $d||($d=1,Na.exports=Ip()),Na.exports}var Td;function Dp(){if(Td)return zt;Td=1;var t=Oa(),l=_p();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,c={};function d(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(c[e]=n,e=0;e<n.length;e++)s.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},y={};function N(e){return p.call(y,e)?!0:p.call(b,e)?!1:v.test(e)?y[e]=!0:(b[e]=!0,!1)}function j(e,n,o,a){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,n,o,a){if(n===null||typeof n>"u"||j(e,n,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function w(e,n,o,a,u,h,k){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new w(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(S,T);C[n]=new w(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(S,T);C[n]=new w(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(S,T);C[n]=new w(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,n,o,a){var u=C.hasOwnProperty(n)?C[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(E(n,o,u,a)&&(o=null),a||u===null?N(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):u.mustUseProperty?e[u.propertyName]=o===null?u.type===3?!1:"":o:(n=u.attributeName,a=u.attributeNamespace,o===null?e.removeAttribute(n):(u=u.type,o=u===3||u===4&&o===!0?"":""+o,a?e.setAttributeNS(a,n,o):e.setAttribute(n,o))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),X=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),V=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,I;function F(e){if(I===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||""}return`
`+I+e}var ie=!1;function ne(e,n){if(!e||ie)return"";ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var a=H}Reflect.construct(e,[],n)}else{try{n.call()}catch(H){a=H}e.call(n.prototype)}else{try{throw Error()}catch(H){a=H}e()}}catch(H){if(H&&a&&typeof H.stack=="string"){for(var u=H.stack.split(`
`),h=a.stack.split(`
`),k=u.length-1,R=h.length-1;1<=k&&0<=R&&u[k]!==h[R];)R--;for(;1<=k&&0<=R;k--,R--)if(u[k]!==h[R]){if(k!==1||R!==1)do if(k--,R--,0>R||u[k]!==h[R]){var B=`
`+u[k].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=k&&0<=R);break}}}finally{ie=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?F(e):""}function ge(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case P:return"Portal";case G:return"Profiler";case W:return"StrictMode";case J:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case ae:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function Ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function be(e){var n=ke(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,h=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(k){a=""+k,h.call(this,k)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(k){a=""+k},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Mt(e){e._valueTracker||(e._valueTracker=be(e))}function Qe(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=ke(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function mt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ut(e,n){var o=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Ne(e,n){var o=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;o=ye(n.value!=null?n.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ct(e,n){n=n.checked,n!=null&&$(e,"checked",n,!1)}function En(e,n){Ct(e,n);var o=ye(n.value),a=n.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?qt(e,n.type,o):n.hasOwnProperty("defaultValue")&&qt(e,n.type,ye(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Qt(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function qt(e,n,o){(n!=="number"||mt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var xt=Array.isArray;function Ot(e,n,o,a){if(e=e.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<e.length;o++)u=n.hasOwnProperty("$"+e[o].value),e[o].selected!==u&&(e[o].selected=u),u&&a&&(e[o].defaultSelected=!0)}else{for(o=""+ye(o),n=null,u=0;u<e.length;u++){if(e[u].value===o){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function vn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return K({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ur(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(xt(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:ye(o)}}function Mn(e,n){var o=ye(n.value),a=ye(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function Tr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Rr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ht,bn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,o,a,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ht=Ht||document.createElement("div"),Ht.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function wn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lr=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(e){Lr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),dt[n]=dt[e]})});function Ar(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||dt.hasOwnProperty(e)&&dt[e]?(""+n).trim():n+"px"}function On(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var a=o.indexOf("--")===0,u=Ar(o,n[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,u):e[o]=u}}var dr=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(e,n){if(n){if(dr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function fr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,sn=null,De=null;function qe(e){if(e=To(e)){if(typeof pr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=Tl(n),pr(e.stateNode,e.type,n))}}function nt(e){sn?De?De.push(e):De=[e]:sn=e}function Et(){if(sn){var e=sn,n=De;if(De=sn=null,qe(e),n)for(e=0;e<n.length;e++)qe(n[e])}}function ft(e,n){return e(n)}function Je(){}var gt=!1;function an(e,n,o){if(gt)return e(n,o);gt=!0;try{return ft(e,n,o)}finally{gt=!1,(sn!==null||De!==null)&&(Je(),Et())}}function Be(e,n){var o=e.stateNode;if(o===null)return null;var a=Tl(o);if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var $t=!1;if(m)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch{$t=!1}function Tt(e,n,o,a,u,h,k,R,B){var H=Array.prototype.slice.call(arguments,3);try{n.apply(o,H)}catch(Q){this.onError(Q)}}var rt=!1,Rt=null,yt=!1,cn=null,ot={onError:function(e){rt=!0,Rt=e}};function ao(e,n,o,a,u,h,k,R,B){rt=!1,Rt=null,Tt.apply(ot,arguments)}function Hi(e,n,o,a,u,h,k,R,B){if(ao.apply(this,arguments),rt){if(rt){var H=Rt;rt=!1,Rt=null}else throw Error(i(198));yt||(yt=!0,cn=H)}}function $n(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function il(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function sl(e){if($n(e)!==e)throw Error(i(188))}function Fi(e){var n=e.alternate;if(!n){if(n=$n(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,a=n;;){var u=o.return;if(u===null)break;var h=u.alternate;if(h===null){if(a=u.return,a!==null){o=a;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===o)return sl(u),e;if(h===a)return sl(u),n;h=h.sibling}throw Error(i(188))}if(o.return!==a.return)o=u,a=h;else{for(var k=!1,R=u.child;R;){if(R===o){k=!0,o=u,a=h;break}if(R===a){k=!0,a=u,o=h;break}R=R.sibling}if(!k){for(R=h.child;R;){if(R===o){k=!0,o=h,a=u;break}if(R===a){k=!0,a=h,o=u;break}R=R.sibling}if(!k)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function al(e){return e=Fi(e),e!==null?cl(e):null}function cl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=cl(e);if(n!==null)return n;e=e.sibling}return null}var ul=l.unstable_scheduleCallback,co=l.unstable_cancelCallback,Br=l.unstable_shouldYield,Se=l.unstable_requestPaint,je=l.unstable_now,Ue=l.unstable_getCurrentPriorityLevel,Lt=l.unstable_ImmediatePriority,un=l.unstable_UserBlockingPriority,Ft=l.unstable_NormalPriority,Tn=l.unstable_LowPriority,Rn=l.unstable_IdlePriority,Wt=null,lt=null;function Za(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Wt,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Xf,Wi=Math.log,Gf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(Wi(e)/Gf|0)|0}var dl=64,fl=4194304;function uo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,n){var o=e.pendingLanes;if(o===0)return 0;var a=0,u=e.suspendedLanes,h=e.pingedLanes,k=o&268435455;if(k!==0){var R=k&~u;R!==0?a=uo(R):(h&=k,h!==0&&(a=uo(h)))}else k=o&~u,k!==0?a=uo(k):h!==0&&(a=uo(h));if(a===0)return 0;if(n!==0&&n!==a&&(n&u)===0&&(u=a&-a,h=n&-n,u>=h||u===16&&(h&4194240)!==0))return n;if((a&4)!==0&&(a|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)o=31-At(n),u=1<<o,a|=e[o],n&=~u;return a}function Yf(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var k=31-At(h),R=1<<k,B=u[k];B===-1?((R&o)===0||(R&a)!==0)&&(u[k]=Yf(R,n)):B<=n&&(e.expiredLanes|=R),h&=~R}}function Ui(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ec(){var e=dl;return dl<<=1,(dl&4194240)===0&&(dl=64),e}function Vi(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function fo(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-At(n),e[n]=o}function qf(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var u=31-At(o),h=1<<u;n[u]=0,a[u]=-1,e[u]=-1,o&=~h}}function Ki(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-At(o),u=1<<a;u&n|e[a]&n&&(e[a]|=n),o&=~u}}var Le=0;function tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var nc,Gi,rc,oc,lc,Xi=!1,pl=[],Wn=null,Un=null,Vn=null,go=new Map,po=new Map,Kn=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,n){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function ho(e,n,o,a,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:h,targetContainers:[u]},n!==null&&(n=To(n),n!==null&&Gi(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Zf(e,n,o,a,u){switch(n){case"focusin":return Wn=ho(Wn,e,n,o,a,u),!0;case"dragenter":return Un=ho(Un,e,n,o,a,u),!0;case"mouseover":return Vn=ho(Vn,e,n,o,a,u),!0;case"pointerover":var h=u.pointerId;return go.set(h,ho(go.get(h)||null,e,n,o,a,u)),!0;case"gotpointercapture":return h=u.pointerId,po.set(h,ho(po.get(h)||null,e,n,o,a,u)),!0}return!1}function sc(e){var n=hr(e.target);if(n!==null){var o=$n(n);if(o!==null){if(n=o.tag,n===13){if(n=il(o),n!==null){e.blockedOn=n,lc(e.priority,function(){rc(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Qi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);Fn=a,o.target.dispatchEvent(a),Fn=null}else return n=To(o),n!==null&&Gi(n),e.blockedOn=o,!1;n.shift()}return!0}function ac(e,n,o){hl(e)&&o.delete(n)}function eg(){Xi=!1,Wn!==null&&hl(Wn)&&(Wn=null),Un!==null&&hl(Un)&&(Un=null),Vn!==null&&hl(Vn)&&(Vn=null),go.forEach(ac),po.forEach(ac)}function mo(e,n){e.blockedOn===n&&(e.blockedOn=null,Xi||(Xi=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,eg)))}function xo(e){function n(u){return mo(u,e)}if(0<pl.length){mo(pl[0],e);for(var o=1;o<pl.length;o++){var a=pl[o];a.blockedOn===e&&(a.blockedOn=null)}}for(Wn!==null&&mo(Wn,e),Un!==null&&mo(Un,e),Vn!==null&&mo(Vn,e),go.forEach(n),po.forEach(n),o=0;o<Kn.length;o++)a=Kn[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<Kn.length&&(o=Kn[0],o.blockedOn===null);)sc(o),o.blockedOn===null&&Kn.shift()}var Ir=L.ReactCurrentBatchConfig,ml=!0;function tg(e,n,o,a){var u=Le,h=Ir.transition;Ir.transition=null;try{Le=1,Yi(e,n,o,a)}finally{Le=u,Ir.transition=h}}function ng(e,n,o,a){var u=Le,h=Ir.transition;Ir.transition=null;try{Le=4,Yi(e,n,o,a)}finally{Le=u,Ir.transition=h}}function Yi(e,n,o,a){if(ml){var u=Qi(e,n,o,a);if(u===null)gs(e,n,a,xl,o),ic(e,a);else if(Zf(u,e,n,o,a))a.stopPropagation();else if(ic(e,a),n&4&&-1<Jf.indexOf(e)){for(;u!==null;){var h=To(u);if(h!==null&&nc(h),h=Qi(e,n,o,a),h===null&&gs(e,n,a,xl,o),h===u)break;u=h}u!==null&&a.stopPropagation()}else gs(e,n,a,null,o)}}var xl=null;function Qi(e,n,o,a){if(xl=null,e=gr(a),e=hr(e),e!==null)if(n=$n(e),n===null)e=null;else if(o=n.tag,o===13){if(e=il(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return xl=e,null}function cc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ue()){case Lt:return 1;case un:return 4;case Ft:case Tn:return 16;case Rn:return 536870912;default:return 16}default:return 16}}var Gn=null,qi=null,yl=null;function uc(){if(yl)return yl;var e,n=qi,o=n.length,a,u="value"in Gn?Gn.value:Gn.textContent,h=u.length;for(e=0;e<o&&n[e]===u[e];e++);var k=o-e;for(a=1;a<=k&&n[o-a]===u[h-a];a++);return yl=u.slice(e,1<a?1-a:void 0)}function vl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function dc(){return!1}function Ut(e){function n(o,a,u,h,k){this._reactName=o,this._targetInst=u,this.type=a,this.nativeEvent=h,this.target=k,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(o=e[R],this[R]=o?o(h):h[R]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?bl:dc,this.isPropagationStopped=dc,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),n}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Ut(_r),yo=K({},_r,{view:0,detail:0}),rg=Ut(yo),Zi,es,vo,wl=K({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(Zi=e.screenX-vo.screenX,es=e.screenY-vo.screenY):es=Zi=0,vo=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:es}}),fc=Ut(wl),og=K({},wl,{dataTransfer:0}),lg=Ut(og),ig=K({},yo,{relatedTarget:0}),ts=Ut(ig),sg=K({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=Ut(sg),cg=K({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=Ut(cg),dg=K({},_r,{data:0}),gc=Ut(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pg[e])?!!n[e]:!1}function ns(){return hg}var mg=K({},yo,{key:function(e){if(e.key){var n=fg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xg=Ut(mg),yg=K({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=Ut(yg),vg=K({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),bg=Ut(vg),wg=K({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),kg=Ut(wg),Cg=K({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=Ut(Cg),jg=[9,13,27,32],rs=m&&"CompositionEvent"in window,bo=null;m&&"documentMode"in document&&(bo=document.documentMode);var Ng=m&&"TextEvent"in window&&!bo,hc=m&&(!rs||bo&&8<bo&&11>=bo),mc=" ",xc=!1;function yc(e,n){switch(e){case"keyup":return jg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Eg(e,n){switch(e){case"compositionend":return vc(n);case"keypress":return n.which!==32?null:(xc=!0,mc);case"textInput":return e=n.data,e===mc&&xc?null:e;default:return null}}function $g(e,n){if(Dr)return e==="compositionend"||!rs&&yc(e,n)?(e=uc(),yl=qi=Gn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hc&&n.locale!=="ko"?null:n.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Tg[e.type]:n==="textarea"}function wc(e,n,o,a){nt(a),n=Nl(n,"onChange"),0<n.length&&(o=new Ji("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var wo=null,ko=null;function Rg(e){Mc(e,0)}function kl(e){var n=Hr(e);if(Qe(n))return e}function Lg(e,n){if(e==="change")return n}var kc=!1;if(m){var os;if(m){var ls="oninput"in document;if(!ls){var Cc=document.createElement("div");Cc.setAttribute("oninput","return;"),ls=typeof Cc.oninput=="function"}os=ls}else os=!1;kc=os&&(!document.documentMode||9<document.documentMode)}function Sc(){wo&&(wo.detachEvent("onpropertychange",jc),ko=wo=null)}function jc(e){if(e.propertyName==="value"&&kl(ko)){var n=[];wc(n,ko,e,gr(e)),an(Rg,n)}}function Ag(e,n,o){e==="focusin"?(Sc(),wo=n,ko=o,wo.attachEvent("onpropertychange",jc)):e==="focusout"&&Sc()}function Bg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(ko)}function Ig(e,n){if(e==="click")return kl(n)}function _g(e,n){if(e==="input"||e==="change")return kl(n)}function Dg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:Dg;function Co(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var u=o[a];if(!p.call(n,u)||!dn(e[u],n[u]))return!1}return!0}function Nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,n){var o=Nc(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Nc(o)}}function $c(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?$c(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tc(){for(var e=window,n=mt();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=mt(e.document)}return n}function is(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Pg(e){var n=Tc(),o=e.focusedElem,a=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&$c(o.ownerDocument.documentElement,o)){if(a!==null&&is(o)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=o.textContent.length,h=Math.min(a.start,u);a=a.end===void 0?h:Math.min(a.end,u),!e.extend&&h>a&&(u=a,a=h,h=u),u=Ec(o,h);var k=Ec(o,a);u&&k&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),h>a?(e.addRange(n),e.extend(k.node,k.offset)):(n.setEnd(k.node,k.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zg=m&&"documentMode"in document&&11>=document.documentMode,Pr=null,ss=null,So=null,as=!1;function Rc(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;as||Pr==null||Pr!==mt(a)||(a=Pr,"selectionStart"in a&&is(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),So&&Co(So,a)||(So=a,a=Nl(ss,"onSelect"),0<a.length&&(n=new Ji("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=Pr)))}function Cl(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var zr={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},cs={},Lc={};m&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Sl(e){if(cs[e])return cs[e];if(!zr[e])return e;var n=zr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Lc)return cs[e]=n[o];return e}var Ac=Sl("animationend"),Bc=Sl("animationiteration"),Ic=Sl("animationstart"),_c=Sl("transitionend"),Dc=new Map,Pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,n){Dc.set(e,n),d(n,[e])}for(var us=0;us<Pc.length;us++){var ds=Pc[us],Mg=ds.toLowerCase(),Og=ds[0].toUpperCase()+ds.slice(1);Xn(Mg,"on"+Og)}Xn(Ac,"onAnimationEnd"),Xn(Bc,"onAnimationIteration"),Xn(Ic,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(_c,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function zc(e,n,o){var a=e.type||"unknown-event";e.currentTarget=o,Hi(a,n,void 0,e),e.currentTarget=null}function Mc(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],u=a.event;a=a.listeners;e:{var h=void 0;if(n)for(var k=a.length-1;0<=k;k--){var R=a[k],B=R.instance,H=R.currentTarget;if(R=R.listener,B!==h&&u.isPropagationStopped())break e;zc(u,R,H),h=B}else for(k=0;k<a.length;k++){if(R=a[k],B=R.instance,H=R.currentTarget,R=R.listener,B!==h&&u.isPropagationStopped())break e;zc(u,R,H),h=B}}}if(yt)throw e=cn,yt=!1,cn=null,e}function ze(e,n){var o=n[vs];o===void 0&&(o=n[vs]=new Set);var a=e+"__bubble";o.has(a)||(Oc(n,e,2,!1),o.add(a))}function fs(e,n,o){var a=0;n&&(a|=4),Oc(o,e,a,n)}var jl="_reactListening"+Math.random().toString(36).slice(2);function No(e){if(!e[jl]){e[jl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Hg.has(o)||fs(o,!1,e),fs(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jl]||(n[jl]=!0,fs("selectionchange",!1,n))}}function Oc(e,n,o,a){switch(cc(n)){case 1:var u=tg;break;case 4:u=ng;break;default:u=Yi}o=u.bind(null,n,o,e),u=void 0,!$t||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,o,{capture:!0,passive:u}):e.addEventListener(n,o,!0):u!==void 0?e.addEventListener(n,o,{passive:u}):e.addEventListener(n,o,!1)}function gs(e,n,o,a,u){var h=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var k=a.tag;if(k===3||k===4){var R=a.stateNode.containerInfo;if(R===u||R.nodeType===8&&R.parentNode===u)break;if(k===4)for(k=a.return;k!==null;){var B=k.tag;if((B===3||B===4)&&(B=k.stateNode.containerInfo,B===u||B.nodeType===8&&B.parentNode===u))return;k=k.return}for(;R!==null;){if(k=hr(R),k===null)return;if(B=k.tag,B===5||B===6){a=h=k;continue e}R=R.parentNode}}a=a.return}an(function(){var H=h,Q=gr(o),q=[];e:{var Y=Dc.get(e);if(Y!==void 0){var oe=Ji,se=e;switch(e){case"keypress":if(vl(o)===0)break e;case"keydown":case"keyup":oe=xg;break;case"focusin":se="focus",oe=ts;break;case"focusout":se="blur",oe=ts;break;case"beforeblur":case"afterblur":oe=ts;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=bg;break;case Ac:case Bc:case Ic:oe=ag;break;case _c:oe=kg;break;case"scroll":oe=rg;break;case"wheel":oe=Sg;break;case"copy":case"cut":case"paste":oe=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=pc}var ce=(n&4)!==0,Xe=!ce&&e==="scroll",D=ce?Y!==null?Y+"Capture":null:Y;ce=[];for(var _=H,z;_!==null;){z=_;var Z=z.stateNode;if(z.tag===5&&Z!==null&&(z=Z,D!==null&&(Z=Be(_,D),Z!=null&&ce.push(Eo(_,Z,z)))),Xe)break;_=_.return}0<ce.length&&(Y=new oe(Y,se,null,o,Q),q.push({event:Y,listeners:ce}))}}if((n&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",Y&&o!==Fn&&(se=o.relatedTarget||o.fromElement)&&(hr(se)||se[Ln]))break e;if((oe||Y)&&(Y=Q.window===Q?Q:(Y=Q.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(se=o.relatedTarget||o.toElement,oe=H,se=se?hr(se):null,se!==null&&(Xe=$n(se),se!==Xe||se.tag!==5&&se.tag!==6)&&(se=null)):(oe=null,se=H),oe!==se)){if(ce=fc,Z="onMouseLeave",D="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ce=pc,Z="onPointerLeave",D="onPointerEnter",_="pointer"),Xe=oe==null?Y:Hr(oe),z=se==null?Y:Hr(se),Y=new ce(Z,_+"leave",oe,o,Q),Y.target=Xe,Y.relatedTarget=z,Z=null,hr(Q)===H&&(ce=new ce(D,_+"enter",se,o,Q),ce.target=z,ce.relatedTarget=Xe,Z=ce),Xe=Z,oe&&se)t:{for(ce=oe,D=se,_=0,z=ce;z;z=Mr(z))_++;for(z=0,Z=D;Z;Z=Mr(Z))z++;for(;0<_-z;)ce=Mr(ce),_--;for(;0<z-_;)D=Mr(D),z--;for(;_--;){if(ce===D||D!==null&&ce===D.alternate)break t;ce=Mr(ce),D=Mr(D)}ce=null}else ce=null;oe!==null&&Hc(q,Y,oe,ce,!1),se!==null&&Xe!==null&&Hc(q,Xe,se,ce,!0)}}e:{if(Y=H?Hr(H):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var de=Lg;else if(bc(Y))if(kc)de=_g;else{de=Bg;var he=Ag}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(de=Ig);if(de&&(de=de(e,H))){wc(q,de,o,Q);break e}he&&he(e,Y,H),e==="focusout"&&(he=Y._wrapperState)&&he.controlled&&Y.type==="number"&&qt(Y,"number",Y.value)}switch(he=H?Hr(H):window,e){case"focusin":(bc(he)||he.contentEditable==="true")&&(Pr=he,ss=H,So=null);break;case"focusout":So=ss=Pr=null;break;case"mousedown":as=!0;break;case"contextmenu":case"mouseup":case"dragend":as=!1,Rc(q,o,Q);break;case"selectionchange":if(zg)break;case"keydown":case"keyup":Rc(q,o,Q)}var me;if(rs)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Dr?yc(e,o)&&(we="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(hc&&o.locale!=="ko"&&(Dr||we!=="onCompositionStart"?we==="onCompositionEnd"&&Dr&&(me=uc()):(Gn=Q,qi="value"in Gn?Gn.value:Gn.textContent,Dr=!0)),he=Nl(H,we),0<he.length&&(we=new gc(we,e,null,o,Q),q.push({event:we,listeners:he}),me?we.data=me:(me=vc(o),me!==null&&(we.data=me)))),(me=Ng?Eg(e,o):$g(e,o))&&(H=Nl(H,"onBeforeInput"),0<H.length&&(Q=new gc("onBeforeInput","beforeinput",null,o,Q),q.push({event:Q,listeners:H}),Q.data=me))}Mc(q,n)})}function Eo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Nl(e,n){for(var o=n+"Capture",a=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Be(e,o),h!=null&&a.unshift(Eo(e,h,u)),h=Be(e,n),h!=null&&a.push(Eo(e,h,u))),e=e.return}return a}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hc(e,n,o,a,u){for(var h=n._reactName,k=[];o!==null&&o!==a;){var R=o,B=R.alternate,H=R.stateNode;if(B!==null&&B===a)break;R.tag===5&&H!==null&&(R=H,u?(B=Be(o,h),B!=null&&k.unshift(Eo(o,B,R))):u||(B=Be(o,h),B!=null&&k.push(Eo(o,B,R)))),o=o.return}k.length!==0&&e.push({event:n,listeners:k})}var Fg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace(Fg,`
`).replace(Wg,"")}function El(e,n,o){if(n=Fc(n),Fc(e)!==n&&o)throw Error(i(425))}function $l(){}var ps=null,hs=null;function ms(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xs=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,Wc=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof Wc<"u"?function(e){return Wc.resolve(null).then(e).catch(Kg)}:xs;function Kg(e){setTimeout(function(){throw e})}function ys(e,n){var o=n,a=0;do{var u=o.nextSibling;if(e.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(a===0){e.removeChild(u),xo(n);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=u}while(o);xo(n)}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Uc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Or=Math.random().toString(36).slice(2),kn="__reactFiber$"+Or,$o="__reactProps$"+Or,Ln="__reactContainer$"+Or,vs="__reactEvents$"+Or,Gg="__reactListeners$"+Or,Xg="__reactHandles$"+Or;function hr(e){var n=e[kn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ln]||o[kn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Uc(e);e!==null;){if(o=e[kn])return o;e=Uc(e)}return n}e=o,o=e.parentNode}return null}function To(e){return e=e[kn]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Tl(e){return e[$o]||null}var bs=[],Fr=-1;function Qn(e){return{current:e}}function Me(e){0>Fr||(e.current=bs[Fr],bs[Fr]=null,Fr--)}function Ie(e,n){Fr++,bs[Fr]=e.current,e.current=n}var qn={},vt=Qn(qn),Bt=Qn(!1),mr=qn;function Wr(e,n){var o=e.type.contextTypes;if(!o)return qn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in o)u[h]=n[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function It(e){return e=e.childContextTypes,e!=null}function Rl(){Me(Bt),Me(vt)}function Vc(e,n,o){if(vt.current!==qn)throw Error(i(168));Ie(vt,n),Ie(Bt,o)}function Kc(e,n,o){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(i(108,Ce(e)||"Unknown",u));return K({},o,a)}function Ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,mr=vt.current,Ie(vt,e),Ie(Bt,Bt.current),!0}function Gc(e,n,o){var a=e.stateNode;if(!a)throw Error(i(169));o?(e=Kc(e,n,mr),a.__reactInternalMemoizedMergedChildContext=e,Me(Bt),Me(vt),Ie(vt,e)):Me(Bt),Ie(Bt,o)}var An=null,Al=!1,ws=!1;function Xc(e){An===null?An=[e]:An.push(e)}function Yg(e){Al=!0,Xc(e)}function Jn(){if(!ws&&An!==null){ws=!0;var e=0,n=Le;try{var o=An;for(Le=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}An=null,Al=!1}catch(u){throw An!==null&&(An=An.slice(e+1)),ul(Lt,Jn),u}finally{Le=n,ws=!1}}return null}var Ur=[],Vr=0,Bl=null,Il=0,Zt=[],en=0,xr=null,Bn=1,In="";function yr(e,n){Ur[Vr++]=Il,Ur[Vr++]=Bl,Bl=e,Il=n}function Yc(e,n,o){Zt[en++]=Bn,Zt[en++]=In,Zt[en++]=xr,xr=e;var a=Bn;e=In;var u=32-At(a)-1;a&=~(1<<u),o+=1;var h=32-At(n)+u;if(30<h){var k=u-u%5;h=(a&(1<<k)-1).toString(32),a>>=k,u-=k,Bn=1<<32-At(n)+u|o<<u|a,In=h+e}else Bn=1<<h|o<<u|a,In=e}function ks(e){e.return!==null&&(yr(e,1),Yc(e,1,0))}function Cs(e){for(;e===Bl;)Bl=Ur[--Vr],Ur[Vr]=null,Il=Ur[--Vr],Ur[Vr]=null;for(;e===xr;)xr=Zt[--en],Zt[en]=null,In=Zt[--en],Zt[en]=null,Bn=Zt[--en],Zt[en]=null}var Vt=null,Kt=null,Oe=!1,fn=null;function Qc(e,n){var o=on(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function qc(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Vt=e,Kt=Yn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Vt=e,Kt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=xr!==null?{id:Bn,overflow:In}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=on(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Vt=e,Kt=null,!0):!1;default:return!1}}function Ss(e){return(e.mode&1)!==0&&(e.flags&128)===0}function js(e){if(Oe){var n=Kt;if(n){var o=n;if(!qc(e,n)){if(Ss(e))throw Error(i(418));n=Yn(o.nextSibling);var a=Vt;n&&qc(e,n)?Qc(a,o):(e.flags=e.flags&-4097|2,Oe=!1,Vt=e)}}else{if(Ss(e))throw Error(i(418));e.flags=e.flags&-4097|2,Oe=!1,Vt=e}}}function Jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function _l(e){if(e!==Vt)return!1;if(!Oe)return Jc(e),Oe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ms(e.type,e.memoizedProps)),n&&(n=Kt)){if(Ss(e))throw Zc(),Error(i(418));for(;n;)Qc(e,n),n=Yn(n.nextSibling)}if(Jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Kt=Yn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Kt=null}}else Kt=Vt?Yn(e.stateNode.nextSibling):null;return!0}function Zc(){for(var e=Kt;e;)e=Yn(e.nextSibling)}function Kr(){Kt=Vt=null,Oe=!1}function Ns(e){fn===null?fn=[e]:fn.push(e)}var Qg=L.ReactCurrentBatchConfig;function Ro(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var a=o.stateNode}if(!a)throw Error(i(147,e));var u=a,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(k){var R=u.refs;k===null?delete R[h]:R[h]=k},n._stringRef=h,n)}if(typeof e!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,e))}return e}function Dl(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function eu(e){var n=e._init;return n(e._payload)}function tu(e){function n(D,_){if(e){var z=D.deletions;z===null?(D.deletions=[_],D.flags|=16):z.push(_)}}function o(D,_){if(!e)return null;for(;_!==null;)n(D,_),_=_.sibling;return null}function a(D,_){for(D=new Map;_!==null;)_.key!==null?D.set(_.key,_):D.set(_.index,_),_=_.sibling;return D}function u(D,_){return D=ir(D,_),D.index=0,D.sibling=null,D}function h(D,_,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<_?(D.flags|=2,_):z):(D.flags|=2,_)):(D.flags|=1048576,_)}function k(D){return e&&D.alternate===null&&(D.flags|=2),D}function R(D,_,z,Z){return _===null||_.tag!==6?(_=xa(z,D.mode,Z),_.return=D,_):(_=u(_,z),_.return=D,_)}function B(D,_,z,Z){var de=z.type;return de===M?Q(D,_,z.props.children,Z,z.key):_!==null&&(_.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&eu(de)===_.type)?(Z=u(_,z.props),Z.ref=Ro(D,_,z),Z.return=D,Z):(Z=ii(z.type,z.key,z.props,null,D.mode,Z),Z.ref=Ro(D,_,z),Z.return=D,Z)}function H(D,_,z,Z){return _===null||_.tag!==4||_.stateNode.containerInfo!==z.containerInfo||_.stateNode.implementation!==z.implementation?(_=ya(z,D.mode,Z),_.return=D,_):(_=u(_,z.children||[]),_.return=D,_)}function Q(D,_,z,Z,de){return _===null||_.tag!==7?(_=Nr(z,D.mode,Z,de),_.return=D,_):(_=u(_,z),_.return=D,_)}function q(D,_,z){if(typeof _=="string"&&_!==""||typeof _=="number")return _=xa(""+_,D.mode,z),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case A:return z=ii(_.type,_.key,_.props,null,D.mode,z),z.ref=Ro(D,null,_),z.return=D,z;case P:return _=ya(_,D.mode,z),_.return=D,_;case ae:var Z=_._init;return q(D,Z(_._payload),z)}if(xt(_)||ee(_))return _=Nr(_,D.mode,z,null),_.return=D,_;Dl(D,_)}return null}function Y(D,_,z,Z){var de=_!==null?_.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return de!==null?null:R(D,_,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===de?B(D,_,z,Z):null;case P:return z.key===de?H(D,_,z,Z):null;case ae:return de=z._init,Y(D,_,de(z._payload),Z)}if(xt(z)||ee(z))return de!==null?null:Q(D,_,z,Z,null);Dl(D,z)}return null}function oe(D,_,z,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return D=D.get(z)||null,R(_,D,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return D=D.get(Z.key===null?z:Z.key)||null,B(_,D,Z,de);case P:return D=D.get(Z.key===null?z:Z.key)||null,H(_,D,Z,de);case ae:var he=Z._init;return oe(D,_,z,he(Z._payload),de)}if(xt(Z)||ee(Z))return D=D.get(z)||null,Q(_,D,Z,de,null);Dl(_,Z)}return null}function se(D,_,z,Z){for(var de=null,he=null,me=_,we=_=0,at=null;me!==null&&we<z.length;we++){me.index>we?(at=me,me=null):at=me.sibling;var Te=Y(D,me,z[we],Z);if(Te===null){me===null&&(me=at);break}e&&me&&Te.alternate===null&&n(D,me),_=h(Te,_,we),he===null?de=Te:he.sibling=Te,he=Te,me=at}if(we===z.length)return o(D,me),Oe&&yr(D,we),de;if(me===null){for(;we<z.length;we++)me=q(D,z[we],Z),me!==null&&(_=h(me,_,we),he===null?de=me:he.sibling=me,he=me);return Oe&&yr(D,we),de}for(me=a(D,me);we<z.length;we++)at=oe(me,D,we,z[we],Z),at!==null&&(e&&at.alternate!==null&&me.delete(at.key===null?we:at.key),_=h(at,_,we),he===null?de=at:he.sibling=at,he=at);return e&&me.forEach(function(sr){return n(D,sr)}),Oe&&yr(D,we),de}function ce(D,_,z,Z){var de=ee(z);if(typeof de!="function")throw Error(i(150));if(z=de.call(z),z==null)throw Error(i(151));for(var he=de=null,me=_,we=_=0,at=null,Te=z.next();me!==null&&!Te.done;we++,Te=z.next()){me.index>we?(at=me,me=null):at=me.sibling;var sr=Y(D,me,Te.value,Z);if(sr===null){me===null&&(me=at);break}e&&me&&sr.alternate===null&&n(D,me),_=h(sr,_,we),he===null?de=sr:he.sibling=sr,he=sr,me=at}if(Te.done)return o(D,me),Oe&&yr(D,we),de;if(me===null){for(;!Te.done;we++,Te=z.next())Te=q(D,Te.value,Z),Te!==null&&(_=h(Te,_,we),he===null?de=Te:he.sibling=Te,he=Te);return Oe&&yr(D,we),de}for(me=a(D,me);!Te.done;we++,Te=z.next())Te=oe(me,D,we,Te.value,Z),Te!==null&&(e&&Te.alternate!==null&&me.delete(Te.key===null?we:Te.key),_=h(Te,_,we),he===null?de=Te:he.sibling=Te,he=Te);return e&&me.forEach(function(Tp){return n(D,Tp)}),Oe&&yr(D,we),de}function Xe(D,_,z,Z){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var de=z.key,he=_;he!==null;){if(he.key===de){if(de=z.type,de===M){if(he.tag===7){o(D,he.sibling),_=u(he,z.props.children),_.return=D,D=_;break e}}else if(he.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ae&&eu(de)===he.type){o(D,he.sibling),_=u(he,z.props),_.ref=Ro(D,he,z),_.return=D,D=_;break e}o(D,he);break}else n(D,he);he=he.sibling}z.type===M?(_=Nr(z.props.children,D.mode,Z,z.key),_.return=D,D=_):(Z=ii(z.type,z.key,z.props,null,D.mode,Z),Z.ref=Ro(D,_,z),Z.return=D,D=Z)}return k(D);case P:e:{for(he=z.key;_!==null;){if(_.key===he)if(_.tag===4&&_.stateNode.containerInfo===z.containerInfo&&_.stateNode.implementation===z.implementation){o(D,_.sibling),_=u(_,z.children||[]),_.return=D,D=_;break e}else{o(D,_);break}else n(D,_);_=_.sibling}_=ya(z,D.mode,Z),_.return=D,D=_}return k(D);case ae:return he=z._init,Xe(D,_,he(z._payload),Z)}if(xt(z))return se(D,_,z,Z);if(ee(z))return ce(D,_,z,Z);Dl(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,_!==null&&_.tag===6?(o(D,_.sibling),_=u(_,z),_.return=D,D=_):(o(D,_),_=xa(z,D.mode,Z),_.return=D,D=_),k(D)):o(D,_)}return Xe}var Gr=tu(!0),nu=tu(!1),Pl=Qn(null),zl=null,Xr=null,Es=null;function $s(){Es=Xr=zl=null}function Ts(e){var n=Pl.current;Me(Pl),e._currentValue=n}function Rs(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function Yr(e,n){zl=e,Es=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(_t=!0),e.firstContext=null)}function tn(e){var n=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:n,next:null},Xr===null){if(zl===null)throw Error(i(308));Xr=e,zl.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return n}var vr=null;function Ls(e){vr===null?vr=[e]:vr.push(e)}function ru(e,n,o,a){var u=n.interleaved;return u===null?(o.next=o,Ls(n)):(o.next=u.next,u.next=o),n.interleaved=o,_n(e,a)}function _n(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Zn=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ou(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function er(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,($e&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,_n(e,o)}return u=a.interleaved,u===null?(n.next=n,Ls(a)):(n.next=u.next,u.next=n),a.interleaved=n,_n(e,o)}function Ml(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Ki(e,o)}}function lu(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var u=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var k={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?u=h=k:h=h.next=k,o=o.next}while(o!==null);h===null?u=h=n:h=h.next=n}else u=h=n;o={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Ol(e,n,o,a){var u=e.updateQueue;Zn=!1;var h=u.firstBaseUpdate,k=u.lastBaseUpdate,R=u.shared.pending;if(R!==null){u.shared.pending=null;var B=R,H=B.next;B.next=null,k===null?h=H:k.next=H,k=B;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,R=Q.lastBaseUpdate,R!==k&&(R===null?Q.firstBaseUpdate=H:R.next=H,Q.lastBaseUpdate=B))}if(h!==null){var q=u.baseState;k=0,Q=H=B=null,R=h;do{var Y=R.lane,oe=R.eventTime;if((a&Y)===Y){Q!==null&&(Q=Q.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var se=e,ce=R;switch(Y=n,oe=o,ce.tag){case 1:if(se=ce.payload,typeof se=="function"){q=se.call(oe,q,Y);break e}q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ce.payload,Y=typeof se=="function"?se.call(oe,q,Y):se,Y==null)break e;q=K({},q,Y);break e;case 2:Zn=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,Y=u.effects,Y===null?u.effects=[R]:Y.push(R))}else oe={eventTime:oe,lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Q===null?(H=Q=oe,B=q):Q=Q.next=oe,k|=Y;if(R=R.next,R===null){if(R=u.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,u.lastBaseUpdate=Y,u.shared.pending=null}}while(!0);if(Q===null&&(B=q),u.baseState=B,u.firstBaseUpdate=H,u.lastBaseUpdate=Q,n=u.shared.interleaved,n!==null){u=n;do k|=u.lane,u=u.next;while(u!==n)}else h===null&&(u.shared.lanes=0);kr|=k,e.lanes=k,e.memoizedState=q}}function iu(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=o,typeof u!="function")throw Error(i(191,u));u.call(a)}}}var Lo={},Cn=Qn(Lo),Ao=Qn(Lo),Bo=Qn(Lo);function br(e){if(e===Lo)throw Error(i(174));return e}function Bs(e,n){switch(Ie(Bo,n),Ie(Ao,e),Ie(Cn,Lo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Jt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Jt(n,e)}Me(Cn),Ie(Cn,n)}function Qr(){Me(Cn),Me(Ao),Me(Bo)}function su(e){br(Bo.current);var n=br(Cn.current),o=Jt(n,e.type);n!==o&&(Ie(Ao,e),Ie(Cn,o))}function Is(e){Ao.current===e&&(Me(Cn),Me(Ao))}var Fe=Qn(0);function Hl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _s=[];function Ds(){for(var e=0;e<_s.length;e++)_s[e]._workInProgressVersionPrimary=null;_s.length=0}var Fl=L.ReactCurrentDispatcher,Ps=L.ReactCurrentBatchConfig,wr=0,We=null,Ze=null,it=null,Wl=!1,Io=!1,_o=0,qg=0;function bt(){throw Error(i(321))}function zs(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!dn(e[o],n[o]))return!1;return!0}function Ms(e,n,o,a,u,h){if(wr=h,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Fl.current=e===null||e.memoizedState===null?tp:np,e=o(a,u),Io){h=0;do{if(Io=!1,_o=0,25<=h)throw Error(i(301));h+=1,it=Ze=null,n.updateQueue=null,Fl.current=rp,e=o(a,u)}while(Io)}if(Fl.current=Kl,n=Ze!==null&&Ze.next!==null,wr=0,it=Ze=We=null,Wl=!1,n)throw Error(i(300));return e}function Os(){var e=_o!==0;return _o=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?We.memoizedState=it=e:it=it.next=e,it}function nn(){if(Ze===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=it===null?We.memoizedState:it.next;if(n!==null)it=n,Ze=e;else{if(e===null)throw Error(i(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?We.memoizedState=it=e:it=it.next=e}return it}function Do(e,n){return typeof n=="function"?n(e):n}function Hs(e){var n=nn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=Ze,u=a.baseQueue,h=o.pending;if(h!==null){if(u!==null){var k=u.next;u.next=h.next,h.next=k}a.baseQueue=u=h,o.pending=null}if(u!==null){h=u.next,a=a.baseState;var R=k=null,B=null,H=h;do{var Q=H.lane;if((wr&Q)===Q)B!==null&&(B=B.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),a=H.hasEagerState?H.eagerState:e(a,H.action);else{var q={lane:Q,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};B===null?(R=B=q,k=a):B=B.next=q,We.lanes|=Q,kr|=Q}H=H.next}while(H!==null&&H!==h);B===null?k=a:B.next=R,dn(a,n.memoizedState)||(_t=!0),n.memoizedState=a,n.baseState=k,n.baseQueue=B,o.lastRenderedState=a}if(e=o.interleaved,e!==null){u=e;do h=u.lane,We.lanes|=h,kr|=h,u=u.next;while(u!==e)}else u===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Fs(e){var n=nn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=o.dispatch,u=o.pending,h=n.memoizedState;if(u!==null){o.pending=null;var k=u=u.next;do h=e(h,k.action),k=k.next;while(k!==u);dn(h,n.memoizedState)||(_t=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,a]}function au(){}function cu(e,n){var o=We,a=nn(),u=n(),h=!dn(a.memoizedState,u);if(h&&(a.memoizedState=u,_t=!0),a=a.queue,Ws(fu.bind(null,o,a,e),[e]),a.getSnapshot!==n||h||it!==null&&it.memoizedState.tag&1){if(o.flags|=2048,Po(9,du.bind(null,o,a,u,n),void 0,null),st===null)throw Error(i(349));(wr&30)!==0||uu(o,n,u)}return u}function uu(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function du(e,n,o,a){n.value=o,n.getSnapshot=a,gu(n)&&pu(e)}function fu(e,n,o){return o(function(){gu(n)&&pu(e)})}function gu(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!dn(e,o)}catch{return!0}}function pu(e){var n=_n(e,1);n!==null&&mn(n,e,1,-1)}function hu(e){var n=Sn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},n.queue=e,e=e.dispatch=ep.bind(null,We,e),[n.memoizedState,e]}function Po(e,n,o,a){return e={tag:e,create:n,destroy:o,deps:a,next:null},n=We.updateQueue,n===null?(n={lastEffect:null,stores:null},We.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e)),e}function mu(){return nn().memoizedState}function Ul(e,n,o,a){var u=Sn();We.flags|=e,u.memoizedState=Po(1|n,o,void 0,a===void 0?null:a)}function Vl(e,n,o,a){var u=nn();a=a===void 0?null:a;var h=void 0;if(Ze!==null){var k=Ze.memoizedState;if(h=k.destroy,a!==null&&zs(a,k.deps)){u.memoizedState=Po(n,o,h,a);return}}We.flags|=e,u.memoizedState=Po(1|n,o,h,a)}function xu(e,n){return Ul(8390656,8,e,n)}function Ws(e,n){return Vl(2048,8,e,n)}function yu(e,n){return Vl(4,2,e,n)}function vu(e,n){return Vl(4,4,e,n)}function bu(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wu(e,n,o){return o=o!=null?o.concat([e]):null,Vl(4,4,bu.bind(null,n,e),o)}function Us(){}function ku(e,n){var o=nn();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&zs(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function Cu(e,n){var o=nn();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&zs(n,a[1])?a[0]:(e=e(),o.memoizedState=[e,n],e)}function Su(e,n,o){return(wr&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=o):(dn(o,n)||(o=ec(),We.lanes|=o,kr|=o,e.baseState=!0),n)}function Jg(e,n){var o=Le;Le=o!==0&&4>o?o:4,e(!0);var a=Ps.transition;Ps.transition={};try{e(!1),n()}finally{Le=o,Ps.transition=a}}function ju(){return nn().memoizedState}function Zg(e,n,o){var a=or(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Nu(e))Eu(n,o);else if(o=ru(e,n,o,a),o!==null){var u=jt();mn(o,e,a,u),$u(o,n,a)}}function ep(e,n,o){var a=or(e),u={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nu(e))Eu(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var k=n.lastRenderedState,R=h(k,o);if(u.hasEagerState=!0,u.eagerState=R,dn(R,k)){var B=n.interleaved;B===null?(u.next=u,Ls(n)):(u.next=B.next,B.next=u),n.interleaved=u;return}}catch{}o=ru(e,n,u,a),o!==null&&(u=jt(),mn(o,e,a,u),$u(o,n,a))}}function Nu(e){var n=e.alternate;return e===We||n!==null&&n===We}function Eu(e,n){Io=Wl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function $u(e,n,o){if((o&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Ki(e,o)}}var Kl={readContext:tn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},tp={readContext:tn,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:xu,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Ul(4194308,4,bu.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Ul(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ul(4,2,e,n)},useMemo:function(e,n){var o=Sn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var a=Sn();return n=o!==void 0?o(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Zg.bind(null,We,e),[a.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:hu,useDebugValue:Us,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=hu(!1),n=e[0];return e=Jg.bind(null,e[1]),Sn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var a=We,u=Sn();if(Oe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),st===null)throw Error(i(349));(wr&30)!==0||uu(a,n,o)}u.memoizedState=o;var h={value:o,getSnapshot:n};return u.queue=h,xu(fu.bind(null,a,h,e),[e]),a.flags|=2048,Po(9,du.bind(null,a,h,o,n),void 0,null),o},useId:function(){var e=Sn(),n=st.identifierPrefix;if(Oe){var o=In,a=Bn;o=(a&~(1<<32-At(a)-1)).toString(32)+o,n=":"+n+"R"+o,o=_o++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=qg++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},np={readContext:tn,useCallback:ku,useContext:tn,useEffect:Ws,useImperativeHandle:wu,useInsertionEffect:yu,useLayoutEffect:vu,useMemo:Cu,useReducer:Hs,useRef:mu,useState:function(){return Hs(Do)},useDebugValue:Us,useDeferredValue:function(e){var n=nn();return Su(n,Ze.memoizedState,e)},useTransition:function(){var e=Hs(Do)[0],n=nn().memoizedState;return[e,n]},useMutableSource:au,useSyncExternalStore:cu,useId:ju,unstable_isNewReconciler:!1},rp={readContext:tn,useCallback:ku,useContext:tn,useEffect:Ws,useImperativeHandle:wu,useInsertionEffect:yu,useLayoutEffect:vu,useMemo:Cu,useReducer:Fs,useRef:mu,useState:function(){return Fs(Do)},useDebugValue:Us,useDeferredValue:function(e){var n=nn();return Ze===null?n.memoizedState=e:Su(n,Ze.memoizedState,e)},useTransition:function(){var e=Fs(Do)[0],n=nn().memoizedState;return[e,n]},useMutableSource:au,useSyncExternalStore:cu,useId:ju,unstable_isNewReconciler:!1};function gn(e,n){if(e&&e.defaultProps){n=K({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Vs(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:K({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Gl={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var a=jt(),u=or(e),h=Dn(a,u);h.payload=n,o!=null&&(h.callback=o),n=er(e,h,u),n!==null&&(mn(n,e,u,a),Ml(n,e,u))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=jt(),u=or(e),h=Dn(a,u);h.tag=1,h.payload=n,o!=null&&(h.callback=o),n=er(e,h,u),n!==null&&(mn(n,e,u,a),Ml(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=jt(),a=or(e),u=Dn(o,a);u.tag=2,n!=null&&(u.callback=n),n=er(e,u,a),n!==null&&(mn(n,e,a,o),Ml(n,e,a))}};function Tu(e,n,o,a,u,h,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,k):n.prototype&&n.prototype.isPureReactComponent?!Co(o,a)||!Co(u,h):!0}function Ru(e,n,o){var a=!1,u=qn,h=n.contextType;return typeof h=="object"&&h!==null?h=tn(h):(u=It(n)?mr:vt.current,a=n.contextTypes,h=(a=a!=null)?Wr(e,u):qn),n=new n(o,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Gl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),n}function Lu(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&Gl.enqueueReplaceState(n,n.state,null)}function Ks(e,n,o,a){var u=e.stateNode;u.props=o,u.state=e.memoizedState,u.refs={},As(e);var h=n.contextType;typeof h=="object"&&h!==null?u.context=tn(h):(h=It(n)?mr:vt.current,u.context=Wr(e,h)),u.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Vs(e,n,h,o),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Gl.enqueueReplaceState(u,u.state,null),Ol(e,o,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,n){try{var o="",a=n;do o+=ge(a),a=a.return;while(a);var u=o}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:u,digest:null}}function Gs(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function Xs(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var op=typeof WeakMap=="function"?WeakMap:Map;function Au(e,n,o){o=Dn(-1,o),o.tag=3,o.payload={element:null};var a=n.value;return o.callback=function(){ei||(ei=!0,ca=a),Xs(e,n)},o}function Bu(e,n,o){o=Dn(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;o.payload=function(){return a(u)},o.callback=function(){Xs(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){Xs(e,n),typeof a!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var k=n.stack;this.componentDidCatch(n.value,{componentStack:k!==null?k:""})}),o}function Iu(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new op;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(o)||(u.add(o),e=yp.bind(null,e,n,o),n.then(e,e))}function _u(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Du(e,n,o,a,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Dn(-1,1),n.tag=2,er(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var lp=L.ReactCurrentOwner,_t=!1;function St(e,n,o,a){n.child=e===null?nu(n,null,o,a):Gr(n,e.child,o,a)}function Pu(e,n,o,a,u){o=o.render;var h=n.ref;return Yr(n,u),a=Ms(e,n,o,a,h,u),o=Os(),e!==null&&!_t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Pn(e,n,u)):(Oe&&o&&ks(n),n.flags|=1,St(e,n,a,u),n.child)}function zu(e,n,o,a,u){if(e===null){var h=o.type;return typeof h=="function"&&!ma(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=h,Mu(e,n,h,a,u)):(e=ii(o.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,(e.lanes&u)===0){var k=h.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(k,a)&&e.ref===n.ref)return Pn(e,n,u)}return n.flags|=1,e=ir(h,a),e.ref=n.ref,e.return=n,n.child=e}function Mu(e,n,o,a,u){if(e!==null){var h=e.memoizedProps;if(Co(h,a)&&e.ref===n.ref)if(_t=!1,n.pendingProps=a=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,Pn(e,n,u)}return Ys(e,n,o,a,u)}function Ou(e,n,o){var a=n.pendingProps,u=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Zr,Gt),Gt|=o;else{if((o&1073741824)===0)return e=h!==null?h.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ie(Zr,Gt),Gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:o,Ie(Zr,Gt),Gt|=a}else h!==null?(a=h.baseLanes|o,n.memoizedState=null):a=o,Ie(Zr,Gt),Gt|=a;return St(e,n,u,o),n.child}function Hu(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Ys(e,n,o,a,u){var h=It(o)?mr:vt.current;return h=Wr(n,h),Yr(n,u),o=Ms(e,n,o,a,h,u),a=Os(),e!==null&&!_t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Pn(e,n,u)):(Oe&&a&&ks(n),n.flags|=1,St(e,n,o,u),n.child)}function Fu(e,n,o,a,u){if(It(o)){var h=!0;Ll(n)}else h=!1;if(Yr(n,u),n.stateNode===null)Yl(e,n),Ru(n,o,a),Ks(n,o,a,u),a=!0;else if(e===null){var k=n.stateNode,R=n.memoizedProps;k.props=R;var B=k.context,H=o.contextType;typeof H=="object"&&H!==null?H=tn(H):(H=It(o)?mr:vt.current,H=Wr(n,H));var Q=o.getDerivedStateFromProps,q=typeof Q=="function"||typeof k.getSnapshotBeforeUpdate=="function";q||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==a||B!==H)&&Lu(n,k,a,H),Zn=!1;var Y=n.memoizedState;k.state=Y,Ol(n,a,k,u),B=n.memoizedState,R!==a||Y!==B||Bt.current||Zn?(typeof Q=="function"&&(Vs(n,o,Q,a),B=n.memoizedState),(R=Zn||Tu(n,o,R,a,Y,B,H))?(q||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(n.flags|=4194308)):(typeof k.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=B),k.props=a,k.state=B,k.context=H,a=R):(typeof k.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{k=n.stateNode,ou(e,n),R=n.memoizedProps,H=n.type===n.elementType?R:gn(n.type,R),k.props=H,q=n.pendingProps,Y=k.context,B=o.contextType,typeof B=="object"&&B!==null?B=tn(B):(B=It(o)?mr:vt.current,B=Wr(n,B));var oe=o.getDerivedStateFromProps;(Q=typeof oe=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==q||Y!==B)&&Lu(n,k,a,B),Zn=!1,Y=n.memoizedState,k.state=Y,Ol(n,a,k,u);var se=n.memoizedState;R!==q||Y!==se||Bt.current||Zn?(typeof oe=="function"&&(Vs(n,o,oe,a),se=n.memoizedState),(H=Zn||Tu(n,o,H,a,Y,se,B)||!1)?(Q||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(a,se,B),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(a,se,B)),typeof k.componentDidUpdate=="function"&&(n.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=se),k.props=a,k.state=se,k.context=B,a=H):(typeof k.componentDidUpdate!="function"||R===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),a=!1)}return Qs(e,n,o,a,h,u)}function Qs(e,n,o,a,u,h){Hu(e,n);var k=(n.flags&128)!==0;if(!a&&!k)return u&&Gc(n,o,!1),Pn(e,n,h);a=n.stateNode,lp.current=n;var R=k&&typeof o.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&k?(n.child=Gr(n,e.child,null,h),n.child=Gr(n,null,R,h)):St(e,n,R,h),n.memoizedState=a.state,u&&Gc(n,o,!0),n.child}function Wu(e){var n=e.stateNode;n.pendingContext?Vc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Vc(e,n.context,!1),Bs(e,n.containerInfo)}function Uu(e,n,o,a,u){return Kr(),Ns(u),n.flags|=256,St(e,n,o,a),n.child}var qs={dehydrated:null,treeContext:null,retryLane:0};function Js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,n,o){var a=n.pendingProps,u=Fe.current,h=!1,k=(n.flags&128)!==0,R;if((R=k)||(R=e!==null&&e.memoizedState===null?!1:(u&2)!==0),R?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ie(Fe,u&1),e===null)return js(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(k=a.children,e=a.fallback,h?(a=n.mode,h=n.child,k={mode:"hidden",children:k},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=k):h=si(k,a,0,null),e=Nr(e,a,o,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=Js(o),n.memoizedState=qs,e):Zs(n,k));if(u=e.memoizedState,u!==null&&(R=u.dehydrated,R!==null))return ip(e,n,k,a,R,u,o);if(h){h=a.fallback,k=n.mode,u=e.child,R=u.sibling;var B={mode:"hidden",children:a.children};return(k&1)===0&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=B,n.deletions=null):(a=ir(u,B),a.subtreeFlags=u.subtreeFlags&14680064),R!==null?h=ir(R,h):(h=Nr(h,k,o,null),h.flags|=2),h.return=n,a.return=n,a.sibling=h,n.child=a,a=h,h=n.child,k=e.child.memoizedState,k=k===null?Js(o):{baseLanes:k.baseLanes|o,cachePool:null,transitions:k.transitions},h.memoizedState=k,h.childLanes=e.childLanes&~o,n.memoizedState=qs,a}return h=e.child,e=h.sibling,a=ir(h,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=o),a.return=n,a.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=a,n.memoizedState=null,a}function Zs(e,n){return n=si({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Xl(e,n,o,a){return a!==null&&Ns(a),Gr(n,e.child,null,o),e=Zs(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ip(e,n,o,a,u,h,k){if(o)return n.flags&256?(n.flags&=-257,a=Gs(Error(i(422))),Xl(e,n,k,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=a.fallback,u=n.mode,a=si({mode:"visible",children:a.children},u,0,null),h=Nr(h,u,k,null),h.flags|=2,a.return=n,h.return=n,a.sibling=h,n.child=a,(n.mode&1)!==0&&Gr(n,e.child,null,k),n.child.memoizedState=Js(k),n.memoizedState=qs,h);if((n.mode&1)===0)return Xl(e,n,k,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var R=a.dgst;return a=R,h=Error(i(419)),a=Gs(h,a,void 0),Xl(e,n,k,a)}if(R=(k&e.childLanes)!==0,_t||R){if(a=st,a!==null){switch(k&-k){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|k))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,_n(e,u),mn(a,e,u,-1))}return ha(),a=Gs(Error(i(421))),Xl(e,n,k,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=vp.bind(null,e),u._reactRetry=n,null):(e=h.treeContext,Kt=Yn(u.nextSibling),Vt=n,Oe=!0,fn=null,e!==null&&(Zt[en++]=Bn,Zt[en++]=In,Zt[en++]=xr,Bn=e.id,In=e.overflow,xr=n),n=Zs(n,a.children),n.flags|=4096,n)}function Ku(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Rs(e.return,n,o)}function ea(e,n,o,a,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=o,h.tailMode=u)}function Gu(e,n,o){var a=n.pendingProps,u=a.revealOrder,h=a.tail;if(St(e,n,a.children,o),a=Fe.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ku(e,o,n);else if(e.tag===19)Ku(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ie(Fe,a),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(o=n.child,u=null;o!==null;)e=o.alternate,e!==null&&Hl(e)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),ea(n,!1,u,o,h);break;case"backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Hl(e)===null){n.child=u;break}e=u.sibling,u.sibling=o,o=u,u=e}ea(n,!0,o,null,h);break;case"together":ea(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Yl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Pn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=ir(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=ir(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function sp(e,n,o){switch(n.tag){case 3:Wu(n),Kr();break;case 5:su(n);break;case 1:It(n.type)&&Ll(n);break;case 4:Bs(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;Ie(Pl,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ie(Fe,Fe.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Vu(e,n,o):(Ie(Fe,Fe.current&1),e=Pn(e,n,o),e!==null?e.sibling:null);Ie(Fe,Fe.current&1);break;case 19:if(a=(o&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Gu(e,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ie(Fe,Fe.current),a)break;return null;case 22:case 23:return n.lanes=0,Ou(e,n,o)}return Pn(e,n,o)}var Xu,ta,Yu,Qu;Xu=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ta=function(){},Yu=function(e,n,o,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,br(Cn.current);var h=null;switch(o){case"input":u=ut(e,u),a=ut(e,a),h=[];break;case"select":u=K({},u,{value:void 0}),a=K({},a,{value:void 0}),h=[];break;case"textarea":u=vn(e,u),a=vn(e,a),h=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=$l)}Hn(o,a);var k;o=null;for(H in u)if(!a.hasOwnProperty(H)&&u.hasOwnProperty(H)&&u[H]!=null)if(H==="style"){var R=u[H];for(k in R)R.hasOwnProperty(k)&&(o||(o={}),o[k]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(c.hasOwnProperty(H)?h||(h=[]):(h=h||[]).push(H,null));for(H in a){var B=a[H];if(R=u?.[H],a.hasOwnProperty(H)&&B!==R&&(B!=null||R!=null))if(H==="style")if(R){for(k in R)!R.hasOwnProperty(k)||B&&B.hasOwnProperty(k)||(o||(o={}),o[k]="");for(k in B)B.hasOwnProperty(k)&&R[k]!==B[k]&&(o||(o={}),o[k]=B[k])}else o||(h||(h=[]),h.push(H,o)),o=B;else H==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,R=R?R.__html:void 0,B!=null&&R!==B&&(h=h||[]).push(H,B)):H==="children"?typeof B!="string"&&typeof B!="number"||(h=h||[]).push(H,""+B):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(c.hasOwnProperty(H)?(B!=null&&H==="onScroll"&&ze("scroll",e),h||R===B||(h=[])):(h=h||[]).push(H,B))}o&&(h=h||[]).push("style",o);var H=h;(n.updateQueue=H)&&(n.flags|=4)}},Qu=function(e,n,o,a){o!==a&&(n.flags|=4)};function zo(e,n){if(!Oe)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function ap(e,n,o){var a=n.pendingProps;switch(Cs(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return It(n.type)&&Rl(),wt(n),null;case 3:return a=n.stateNode,Qr(),Me(Bt),Me(vt),Ds(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_l(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fn!==null&&(fa(fn),fn=null))),ta(e,n),wt(n),null;case 5:Is(n);var u=br(Bo.current);if(o=n.type,e!==null&&n.stateNode!=null)Yu(e,n,o,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(i(166));return wt(n),null}if(e=br(Cn.current),_l(n)){a=n.stateNode,o=n.type;var h=n.memoizedProps;switch(a[kn]=n,a[$o]=h,e=(n.mode&1)!==0,o){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(u=0;u<jo.length;u++)ze(jo[u],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":Ne(a,h),ze("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},ze("invalid",a);break;case"textarea":ur(a,h),ze("invalid",a)}Hn(o,h),u=null;for(var k in h)if(h.hasOwnProperty(k)){var R=h[k];k==="children"?typeof R=="string"?a.textContent!==R&&(h.suppressHydrationWarning!==!0&&El(a.textContent,R,e),u=["children",R]):typeof R=="number"&&a.textContent!==""+R&&(h.suppressHydrationWarning!==!0&&El(a.textContent,R,e),u=["children",""+R]):c.hasOwnProperty(k)&&R!=null&&k==="onScroll"&&ze("scroll",a)}switch(o){case"input":Mt(a),Qt(a,h,!0);break;case"textarea":Mt(a),Tr(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=$l)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{k=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rr(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=k.createElement(o,{is:a.is}):(e=k.createElement(o),o==="select"&&(k=e,a.multiple?k.multiple=!0:a.size&&(k.size=a.size))):e=k.createElementNS(e,o),e[kn]=n,e[$o]=a,Xu(e,n,!1,!1),n.stateNode=e;e:{switch(k=fr(o,a),o){case"dialog":ze("cancel",e),ze("close",e),u=a;break;case"iframe":case"object":case"embed":ze("load",e),u=a;break;case"video":case"audio":for(u=0;u<jo.length;u++)ze(jo[u],e);u=a;break;case"source":ze("error",e),u=a;break;case"img":case"image":case"link":ze("error",e),ze("load",e),u=a;break;case"details":ze("toggle",e),u=a;break;case"input":Ne(e,a),u=ut(e,a),ze("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=K({},a,{value:void 0}),ze("invalid",e);break;case"textarea":ur(e,a),u=vn(e,a),ze("invalid",e);break;default:u=a}Hn(o,u),R=u;for(h in R)if(R.hasOwnProperty(h)){var B=R[h];h==="style"?On(e,B):h==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&bn(e,B)):h==="children"?typeof B=="string"?(o!=="textarea"||B!=="")&&wn(e,B):typeof B=="number"&&wn(e,""+B):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?B!=null&&h==="onScroll"&&ze("scroll",e):B!=null&&$(e,h,B,k))}switch(o){case"input":Mt(e),Qt(e,a,!1);break;case"textarea":Mt(e),Tr(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ye(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Ot(e,!!a.multiple,h,!1):a.defaultValue!=null&&Ot(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=$l)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return wt(n),null;case 6:if(e&&n.stateNode!=null)Qu(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(i(166));if(o=br(Bo.current),br(Cn.current),_l(n)){if(a=n.stateNode,o=n.memoizedProps,a[kn]=n,(h=a.nodeValue!==o)&&(e=Vt,e!==null))switch(e.tag){case 3:El(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&El(a.nodeValue,o,(e.mode&1)!==0)}h&&(n.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[kn]=n,n.stateNode=a}return wt(n),null;case 13:if(Me(Fe),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Kt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Zc(),Kr(),n.flags|=98560,h=!1;else if(h=_l(n),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(i(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[kn]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else fn!==null&&(fa(fn),fn=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Fe.current&1)!==0?et===0&&(et=3):ha())),n.updateQueue!==null&&(n.flags|=4),wt(n),null);case 4:return Qr(),ta(e,n),e===null&&No(n.stateNode.containerInfo),wt(n),null;case 10:return Ts(n.type._context),wt(n),null;case 17:return It(n.type)&&Rl(),wt(n),null;case 19:if(Me(Fe),h=n.memoizedState,h===null)return wt(n),null;if(a=(n.flags&128)!==0,k=h.rendering,k===null)if(a)zo(h,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(k=Hl(e),k!==null){for(n.flags|=128,zo(h,!1),a=k.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=o,o=n.child;o!==null;)h=o,e=a,h.flags&=14680066,k=h.alternate,k===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=k.childLanes,h.lanes=k.lanes,h.child=k.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=k.memoizedProps,h.memoizedState=k.memoizedState,h.updateQueue=k.updateQueue,h.type=k.type,e=k.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Ie(Fe,Fe.current&1|2),n.child}e=e.sibling}h.tail!==null&&je()>eo&&(n.flags|=128,a=!0,zo(h,!1),n.lanes=4194304)}else{if(!a)if(e=Hl(k),e!==null){if(n.flags|=128,a=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!k.alternate&&!Oe)return wt(n),null}else 2*je()-h.renderingStartTime>eo&&o!==1073741824&&(n.flags|=128,a=!0,zo(h,!1),n.lanes=4194304);h.isBackwards?(k.sibling=n.child,n.child=k):(o=h.last,o!==null?o.sibling=k:n.child=k,h.last=k)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=je(),n.sibling=null,o=Fe.current,Ie(Fe,a?o&1|2:o&1),n):(wt(n),null);case 22:case 23:return pa(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(Gt&1073741824)!==0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function cp(e,n){switch(Cs(n),n.tag){case 1:return It(n.type)&&Rl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qr(),Me(Bt),Me(vt),Ds(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Is(n),null;case 13:if(Me(Fe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Me(Fe),null;case 4:return Qr(),null;case 10:return Ts(n.type._context),null;case 22:case 23:return pa(),null;case 24:return null;default:return null}}var Ql=!1,kt=!1,up=typeof WeakSet=="function"?WeakSet:Set,le=null;function Jr(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Ve(e,n,a)}else o.current=null}function na(e,n,o){try{o()}catch(a){Ve(e,n,a)}}var qu=!1;function dp(e,n){if(ps=ml,e=Tc(),is(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var u=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var k=0,R=-1,B=-1,H=0,Q=0,q=e,Y=null;t:for(;;){for(var oe;q!==o||u!==0&&q.nodeType!==3||(R=k+u),q!==h||a!==0&&q.nodeType!==3||(B=k+a),q.nodeType===3&&(k+=q.nodeValue.length),(oe=q.firstChild)!==null;)Y=q,q=oe;for(;;){if(q===e)break t;if(Y===o&&++H===u&&(R=k),Y===h&&++Q===a&&(B=k),(oe=q.nextSibling)!==null)break;q=Y,Y=q.parentNode}q=oe}o=R===-1||B===-1?null:{start:R,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(hs={focusedElem:e,selectionRange:o},ml=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){n=le;try{var se=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ce=se.memoizedProps,Xe=se.memoizedState,D=n.stateNode,_=D.getSnapshotBeforeUpdate(n.elementType===n.type?ce:gn(n.type,ce),Xe);D.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var z=n.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Z){Ve(n,n.return,Z)}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}return se=qu,qu=!1,se}function Mo(e,n,o){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&na(n,o,h)}u=u.next}while(u!==a)}}function ql(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==n)}}function ra(e){var n=e.ref;if(n!==null){var o=e.stateNode;e.tag,e=o,typeof n=="function"?n(e):n.current=e}}function Ju(e){var n=e.alternate;n!==null&&(e.alternate=null,Ju(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[kn],delete n[$o],delete n[vs],delete n[Gg],delete n[Xg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oa(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=$l));else if(a!==4&&(e=e.child,e!==null))for(oa(e,n,o),e=e.sibling;e!==null;)oa(e,n,o),e=e.sibling}function la(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(la(e,n,o),e=e.sibling;e!==null;)la(e,n,o),e=e.sibling}var pt=null,pn=!1;function tr(e,n,o){for(o=o.child;o!==null;)td(e,n,o),o=o.sibling}function td(e,n,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Wt,o)}catch{}switch(o.tag){case 5:kt||Jr(o,n);case 6:var a=pt,u=pn;pt=null,tr(e,n,o),pt=a,pn=u,pt!==null&&(pn?(e=pt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):pt.removeChild(o.stateNode));break;case 18:pt!==null&&(pn?(e=pt,o=o.stateNode,e.nodeType===8?ys(e.parentNode,o):e.nodeType===1&&ys(e,o),xo(e)):ys(pt,o.stateNode));break;case 4:a=pt,u=pn,pt=o.stateNode.containerInfo,pn=!0,tr(e,n,o),pt=a,pn=u;break;case 0:case 11:case 14:case 15:if(!kt&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var h=u,k=h.destroy;h=h.tag,k!==void 0&&((h&2)!==0||(h&4)!==0)&&na(o,n,k),u=u.next}while(u!==a)}tr(e,n,o);break;case 1:if(!kt&&(Jr(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(R){Ve(o,n,R)}tr(e,n,o);break;case 21:tr(e,n,o);break;case 22:o.mode&1?(kt=(a=kt)||o.memoizedState!==null,tr(e,n,o),kt=a):tr(e,n,o);break;default:tr(e,n,o)}}function nd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new up),n.forEach(function(a){var u=bp.bind(null,e,a);o.has(a)||(o.add(a),a.then(u,u))})}}function hn(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];try{var h=e,k=n,R=k;e:for(;R!==null;){switch(R.tag){case 5:pt=R.stateNode,pn=!1;break e;case 3:pt=R.stateNode.containerInfo,pn=!0;break e;case 4:pt=R.stateNode.containerInfo,pn=!0;break e}R=R.return}if(pt===null)throw Error(i(160));td(h,k,u),pt=null,pn=!1;var B=u.alternate;B!==null&&(B.return=null),u.return=null}catch(H){Ve(u,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)rd(n,e),n=n.sibling}function rd(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(n,e),jn(e),a&4){try{Mo(3,e,e.return),ql(3,e)}catch(ce){Ve(e,e.return,ce)}try{Mo(5,e,e.return)}catch(ce){Ve(e,e.return,ce)}}break;case 1:hn(n,e),jn(e),a&512&&o!==null&&Jr(o,o.return);break;case 5:if(hn(n,e),jn(e),a&512&&o!==null&&Jr(o,o.return),e.flags&32){var u=e.stateNode;try{wn(u,"")}catch(ce){Ve(e,e.return,ce)}}if(a&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,k=o!==null?o.memoizedProps:h,R=e.type,B=e.updateQueue;if(e.updateQueue=null,B!==null)try{R==="input"&&h.type==="radio"&&h.name!=null&&Ct(u,h),fr(R,k);var H=fr(R,h);for(k=0;k<B.length;k+=2){var Q=B[k],q=B[k+1];Q==="style"?On(u,q):Q==="dangerouslySetInnerHTML"?bn(u,q):Q==="children"?wn(u,q):$(u,Q,q,H)}switch(R){case"input":En(u,h);break;case"textarea":Mn(u,h);break;case"select":var Y=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var oe=h.value;oe!=null?Ot(u,!!h.multiple,oe,!1):Y!==!!h.multiple&&(h.defaultValue!=null?Ot(u,!!h.multiple,h.defaultValue,!0):Ot(u,!!h.multiple,h.multiple?[]:"",!1))}u[$o]=h}catch(ce){Ve(e,e.return,ce)}}break;case 6:if(hn(n,e),jn(e),a&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(ce){Ve(e,e.return,ce)}}break;case 3:if(hn(n,e),jn(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{xo(n.containerInfo)}catch(ce){Ve(e,e.return,ce)}break;case 4:hn(n,e),jn(e);break;case 13:hn(n,e),jn(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(aa=je())),a&4&&nd(e);break;case 22:if(Q=o!==null&&o.memoizedState!==null,e.mode&1?(kt=(H=kt)||Q,hn(n,e),kt=H):hn(n,e),jn(e),a&8192){if(H=e.memoizedState!==null,(e.stateNode.isHidden=H)&&!Q&&(e.mode&1)!==0)for(le=e,Q=e.child;Q!==null;){for(q=le=Q;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Mo(4,Y,Y.return);break;case 1:Jr(Y,Y.return);var se=Y.stateNode;if(typeof se.componentWillUnmount=="function"){a=Y,o=Y.return;try{n=a,se.props=n.memoizedProps,se.state=n.memoizedState,se.componentWillUnmount()}catch(ce){Ve(a,o,ce)}}break;case 5:Jr(Y,Y.return);break;case 22:if(Y.memoizedState!==null){id(q);continue}}oe!==null?(oe.return=Y,le=oe):id(q)}Q=Q.sibling}e:for(Q=null,q=e;;){if(q.tag===5){if(Q===null){Q=q;try{u=q.stateNode,H?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(R=q.stateNode,B=q.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null,R.style.display=Ar("display",k))}catch(ce){Ve(e,e.return,ce)}}}else if(q.tag===6){if(Q===null)try{q.stateNode.nodeValue=H?"":q.memoizedProps}catch(ce){Ve(e,e.return,ce)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;Q===q&&(Q=null),q=q.return}Q===q&&(Q=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:hn(n,e),jn(e),a&4&&nd(e);break;case 21:break;default:hn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Zu(o)){var a=o;break e}o=o.return}throw Error(i(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(wn(u,""),a.flags&=-33);var h=ed(e);la(e,h,u);break;case 3:case 4:var k=a.stateNode.containerInfo,R=ed(e);oa(e,R,k);break;default:throw Error(i(161))}}catch(B){Ve(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fp(e,n,o){le=e,od(e)}function od(e,n,o){for(var a=(e.mode&1)!==0;le!==null;){var u=le,h=u.child;if(u.tag===22&&a){var k=u.memoizedState!==null||Ql;if(!k){var R=u.alternate,B=R!==null&&R.memoizedState!==null||kt;R=Ql;var H=kt;if(Ql=k,(kt=B)&&!H)for(le=u;le!==null;)k=le,B=k.child,k.tag===22&&k.memoizedState!==null?sd(u):B!==null?(B.return=k,le=B):sd(u);for(;h!==null;)le=h,od(h),h=h.sibling;le=u,Ql=R,kt=H}ld(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,le=h):ld(e)}}function ld(e){for(;le!==null;){var n=le;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:kt||ql(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!kt)if(o===null)a.componentDidMount();else{var u=n.elementType===n.type?o.memoizedProps:gn(n.type,o.memoizedProps);a.componentDidUpdate(u,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&iu(n,h,a);break;case 3:var k=n.updateQueue;if(k!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}iu(n,k,o)}break;case 5:var R=n.stateNode;if(o===null&&n.flags&4){o=R;var B=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&o.focus();break;case"img":B.src&&(o.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var H=n.alternate;if(H!==null){var Q=H.memoizedState;if(Q!==null){var q=Q.dehydrated;q!==null&&xo(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}kt||n.flags&512&&ra(n)}catch(Y){Ve(n,n.return,Y)}}if(n===e){le=null;break}if(o=n.sibling,o!==null){o.return=n.return,le=o;break}le=n.return}}function id(e){for(;le!==null;){var n=le;if(n===e){le=null;break}var o=n.sibling;if(o!==null){o.return=n.return,le=o;break}le=n.return}}function sd(e){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{ql(4,n)}catch(B){Ve(n,o,B)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(B){Ve(n,u,B)}}var h=n.return;try{ra(n)}catch(B){Ve(n,h,B)}break;case 5:var k=n.return;try{ra(n)}catch(B){Ve(n,k,B)}}}catch(B){Ve(n,n.return,B)}if(n===e){le=null;break}var R=n.sibling;if(R!==null){R.return=n.return,le=R;break}le=n.return}}var gp=Math.ceil,Jl=L.ReactCurrentDispatcher,ia=L.ReactCurrentOwner,rn=L.ReactCurrentBatchConfig,$e=0,st=null,Ye=null,ht=0,Gt=0,Zr=Qn(0),et=0,Oo=null,kr=0,Zl=0,sa=0,Ho=null,Dt=null,aa=0,eo=1/0,zn=null,ei=!1,ca=null,nr=null,ti=!1,rr=null,ni=0,Fo=0,ua=null,ri=-1,oi=0;function jt(){return($e&6)!==0?je():ri!==-1?ri:ri=je()}function or(e){return(e.mode&1)===0?1:($e&2)!==0&&ht!==0?ht&-ht:Qg.transition!==null?(oi===0&&(oi=ec()),oi):(e=Le,e!==0||(e=window.event,e=e===void 0?16:cc(e.type)),e)}function mn(e,n,o,a){if(50<Fo)throw Fo=0,ua=null,Error(i(185));fo(e,o,a),(($e&2)===0||e!==st)&&(e===st&&(($e&2)===0&&(Zl|=o),et===4&&lr(e,ht)),Pt(e,a),o===1&&$e===0&&(n.mode&1)===0&&(eo=je()+500,Al&&Jn()))}function Pt(e,n){var o=e.callbackNode;Qf(e,n);var a=gl(e,e===st?ht:0);if(a===0)o!==null&&co(o),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(o!=null&&co(o),n===1)e.tag===0?Yg(cd.bind(null,e)):Xc(cd.bind(null,e)),Vg(function(){($e&6)===0&&Jn()}),o=null;else{switch(tc(a)){case 1:o=Lt;break;case 4:o=un;break;case 16:o=Ft;break;case 536870912:o=Rn;break;default:o=Ft}o=xd(o,ad.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function ad(e,n){if(ri=-1,oi=0,($e&6)!==0)throw Error(i(327));var o=e.callbackNode;if(to()&&e.callbackNode!==o)return null;var a=gl(e,e===st?ht:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=li(e,a);else{n=a;var u=$e;$e|=2;var h=dd();(st!==e||ht!==n)&&(zn=null,eo=je()+500,Sr(e,n));do try{mp();break}catch(R){ud(e,R)}while(!0);$s(),Jl.current=h,$e=u,Ye!==null?n=0:(st=null,ht=0,n=et)}if(n!==0){if(n===2&&(u=Ui(e),u!==0&&(a=u,n=da(e,u))),n===1)throw o=Oo,Sr(e,0),lr(e,a),Pt(e,je()),o;if(n===6)lr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!pp(u)&&(n=li(e,a),n===2&&(h=Ui(e),h!==0&&(a=h,n=da(e,h))),n===1))throw o=Oo,Sr(e,0),lr(e,a),Pt(e,je()),o;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(i(345));case 2:jr(e,Dt,zn);break;case 3:if(lr(e,a),(a&130023424)===a&&(n=aa+500-je(),10<n)){if(gl(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){jt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=xs(jr.bind(null,e,Dt,zn),n);break}jr(e,Dt,zn);break;case 4:if(lr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var k=31-At(a);h=1<<k,k=n[k],k>u&&(u=k),a&=~h}if(a=u,a=je()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*gp(a/1960))-a,10<a){e.timeoutHandle=xs(jr.bind(null,e,Dt,zn),a);break}jr(e,Dt,zn);break;case 5:jr(e,Dt,zn);break;default:throw Error(i(329))}}}return Pt(e,je()),e.callbackNode===o?ad.bind(null,e):null}function da(e,n){var o=Ho;return e.current.memoizedState.isDehydrated&&(Sr(e,n).flags|=256),e=li(e,n),e!==2&&(n=Dt,Dt=o,n!==null&&fa(n)),e}function fa(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function pp(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var u=o[a],h=u.getSnapshot;u=u.value;try{if(!dn(h(),u))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(e,n){for(n&=~sa,n&=~Zl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-At(n),a=1<<o;e[o]=-1,n&=~a}}function cd(e){if(($e&6)!==0)throw Error(i(327));to();var n=gl(e,0);if((n&1)===0)return Pt(e,je()),null;var o=li(e,n);if(e.tag!==0&&o===2){var a=Ui(e);a!==0&&(n=a,o=da(e,a))}if(o===1)throw o=Oo,Sr(e,0),lr(e,n),Pt(e,je()),o;if(o===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,jr(e,Dt,zn),Pt(e,je()),null}function ga(e,n){var o=$e;$e|=1;try{return e(n)}finally{$e=o,$e===0&&(eo=je()+500,Al&&Jn())}}function Cr(e){rr!==null&&rr.tag===0&&($e&6)===0&&to();var n=$e;$e|=1;var o=rn.transition,a=Le;try{if(rn.transition=null,Le=1,e)return e()}finally{Le=a,rn.transition=o,$e=n,($e&6)===0&&Jn()}}function pa(){Gt=Zr.current,Me(Zr)}function Sr(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Ug(o)),Ye!==null)for(o=Ye.return;o!==null;){var a=o;switch(Cs(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Rl();break;case 3:Qr(),Me(Bt),Me(vt),Ds();break;case 5:Is(a);break;case 4:Qr();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:Ts(a.type._context);break;case 22:case 23:pa()}o=o.return}if(st=e,Ye=e=ir(e.current,null),ht=Gt=n,et=0,Oo=null,sa=Zl=kr=0,Dt=Ho=null,vr!==null){for(n=0;n<vr.length;n++)if(o=vr[n],a=o.interleaved,a!==null){o.interleaved=null;var u=a.next,h=o.pending;if(h!==null){var k=h.next;h.next=u,a.next=k}o.pending=a}vr=null}return e}function ud(e,n){do{var o=Ye;try{if($s(),Fl.current=Kl,Wl){for(var a=We.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Wl=!1}if(wr=0,it=Ze=We=null,Io=!1,_o=0,ia.current=null,o===null||o.return===null){et=1,Oo=n,Ye=null;break}e:{var h=e,k=o.return,R=o,B=n;if(n=ht,R.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var H=B,Q=R,q=Q.tag;if((Q.mode&1)===0&&(q===0||q===11||q===15)){var Y=Q.alternate;Y?(Q.updateQueue=Y.updateQueue,Q.memoizedState=Y.memoizedState,Q.lanes=Y.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var oe=_u(k);if(oe!==null){oe.flags&=-257,Du(oe,k,R,h,n),oe.mode&1&&Iu(h,H,n),n=oe,B=H;var se=n.updateQueue;if(se===null){var ce=new Set;ce.add(B),n.updateQueue=ce}else se.add(B);break e}else{if((n&1)===0){Iu(h,H,n),ha();break e}B=Error(i(426))}}else if(Oe&&R.mode&1){var Xe=_u(k);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Du(Xe,k,R,h,n),Ns(qr(B,R));break e}}h=B=qr(B,R),et!==4&&(et=2),Ho===null?Ho=[h]:Ho.push(h),h=k;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var D=Au(h,B,n);lu(h,D);break e;case 1:R=B;var _=h.type,z=h.stateNode;if((h.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(nr===null||!nr.has(z)))){h.flags|=65536,n&=-n,h.lanes|=n;var Z=Bu(h,R,n);lu(h,Z);break e}}h=h.return}while(h!==null)}gd(o)}catch(de){n=de,Ye===o&&o!==null&&(Ye=o=o.return);continue}break}while(!0)}function dd(){var e=Jl.current;return Jl.current=Kl,e===null?Kl:e}function ha(){(et===0||et===3||et===2)&&(et=4),st===null||(kr&268435455)===0&&(Zl&268435455)===0||lr(st,ht)}function li(e,n){var o=$e;$e|=2;var a=dd();(st!==e||ht!==n)&&(zn=null,Sr(e,n));do try{hp();break}catch(u){ud(e,u)}while(!0);if($s(),$e=o,Jl.current=a,Ye!==null)throw Error(i(261));return st=null,ht=0,et}function hp(){for(;Ye!==null;)fd(Ye)}function mp(){for(;Ye!==null&&!Br();)fd(Ye)}function fd(e){var n=md(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,n===null?gd(e):Ye=n,ia.current=null}function gd(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=ap(o,n,Gt),o!==null){Ye=o;return}}else{if(o=cp(o,n),o!==null){o.flags&=32767,Ye=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ye=null;return}}if(n=n.sibling,n!==null){Ye=n;return}Ye=n=e}while(n!==null);et===0&&(et=5)}function jr(e,n,o){var a=Le,u=rn.transition;try{rn.transition=null,Le=1,xp(e,n,o,a)}finally{rn.transition=u,Le=a}return null}function xp(e,n,o,a){do to();while(rr!==null);if(($e&6)!==0)throw Error(i(327));o=e.finishedWork;var u=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var h=o.lanes|o.childLanes;if(qf(e,h),e===st&&(Ye=st=null,ht=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ti||(ti=!0,xd(Ft,function(){return to(),null})),h=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||h){h=rn.transition,rn.transition=null;var k=Le;Le=1;var R=$e;$e|=4,ia.current=null,dp(e,o),rd(o,e),Pg(hs),ml=!!ps,hs=ps=null,e.current=o,fp(o),Se(),$e=R,Le=k,rn.transition=h}else e.current=o;if(ti&&(ti=!1,rr=e,ni=u),h=e.pendingLanes,h===0&&(nr=null),Za(o.stateNode),Pt(e,je()),n!==null)for(a=e.onRecoverableError,o=0;o<n.length;o++)u=n[o],a(u.value,{componentStack:u.stack,digest:u.digest});if(ei)throw ei=!1,e=ca,ca=null,e;return(ni&1)!==0&&e.tag!==0&&to(),h=e.pendingLanes,(h&1)!==0?e===ua?Fo++:(Fo=0,ua=e):Fo=0,Jn(),null}function to(){if(rr!==null){var e=tc(ni),n=rn.transition,o=Le;try{if(rn.transition=null,Le=16>e?16:e,rr===null)var a=!1;else{if(e=rr,rr=null,ni=0,($e&6)!==0)throw Error(i(331));var u=$e;for($e|=4,le=e.current;le!==null;){var h=le,k=h.child;if((le.flags&16)!==0){var R=h.deletions;if(R!==null){for(var B=0;B<R.length;B++){var H=R[B];for(le=H;le!==null;){var Q=le;switch(Q.tag){case 0:case 11:case 15:Mo(8,Q,h)}var q=Q.child;if(q!==null)q.return=Q,le=q;else for(;le!==null;){Q=le;var Y=Q.sibling,oe=Q.return;if(Ju(Q),Q===H){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var se=h.alternate;if(se!==null){var ce=se.child;if(ce!==null){se.child=null;do{var Xe=ce.sibling;ce.sibling=null,ce=Xe}while(ce!==null)}}le=h}}if((h.subtreeFlags&2064)!==0&&k!==null)k.return=h,le=k;else e:for(;le!==null;){if(h=le,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Mo(9,h,h.return)}var D=h.sibling;if(D!==null){D.return=h.return,le=D;break e}le=h.return}}var _=e.current;for(le=_;le!==null;){k=le;var z=k.child;if((k.subtreeFlags&2064)!==0&&z!==null)z.return=k,le=z;else e:for(k=_;le!==null;){if(R=le,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ql(9,R)}}catch(de){Ve(R,R.return,de)}if(R===k){le=null;break e}var Z=R.sibling;if(Z!==null){Z.return=R.return,le=Z;break e}le=R.return}}if($e=u,Jn(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Wt,e)}catch{}a=!0}return a}finally{Le=o,rn.transition=n}}return!1}function pd(e,n,o){n=qr(o,n),n=Au(e,n,1),e=er(e,n,1),n=jt(),e!==null&&(fo(e,1,n),Pt(e,n))}function Ve(e,n,o){if(e.tag===3)pd(e,e,o);else for(;n!==null;){if(n.tag===3){pd(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(nr===null||!nr.has(a))){e=qr(o,e),e=Bu(n,e,1),n=er(n,e,1),e=jt(),n!==null&&(fo(n,1,e),Pt(n,e));break}}n=n.return}}function yp(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),n=jt(),e.pingedLanes|=e.suspendedLanes&o,st===e&&(ht&o)===o&&(et===4||et===3&&(ht&130023424)===ht&&500>je()-aa?Sr(e,0):sa|=o),Pt(e,n)}function hd(e,n){n===0&&((e.mode&1)===0?n=1:(n=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var o=jt();e=_n(e,n),e!==null&&(fo(e,n,o),Pt(e,o))}function vp(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),hd(e,o)}function bp(e,n){var o=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(o=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(n),hd(e,o)}var md;md=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)_t=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return _t=!1,sp(e,n,o);_t=(e.flags&131072)!==0}else _t=!1,Oe&&(n.flags&1048576)!==0&&Yc(n,Il,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Yl(e,n),e=n.pendingProps;var u=Wr(n,vt.current);Yr(n,o),u=Ms(null,n,a,e,u,o);var h=Os();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,It(a)?(h=!0,Ll(n)):h=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,As(n),u.updater=Gl,n.stateNode=u,u._reactInternals=n,Ks(n,a,e,o),n=Qs(null,n,a,!0,h,o)):(n.tag=0,Oe&&h&&ks(n),St(null,n,u,o),n=n.child),n;case 16:a=n.elementType;e:{switch(Yl(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=kp(a),e=gn(a,e),u){case 0:n=Ys(null,n,a,e,o);break e;case 1:n=Fu(null,n,a,e,o);break e;case 11:n=Pu(null,n,a,e,o);break e;case 14:n=zu(null,n,a,gn(a.type,e),o);break e}throw Error(i(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:gn(a,u),Ys(e,n,a,u,o);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:gn(a,u),Fu(e,n,a,u,o);case 3:e:{if(Wu(n),e===null)throw Error(i(387));a=n.pendingProps,h=n.memoizedState,u=h.element,ou(e,n),Ol(n,a,null,o);var k=n.memoizedState;if(a=k.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){u=qr(Error(i(423)),n),n=Uu(e,n,a,o,u);break e}else if(a!==u){u=qr(Error(i(424)),n),n=Uu(e,n,a,o,u);break e}else for(Kt=Yn(n.stateNode.containerInfo.firstChild),Vt=n,Oe=!0,fn=null,o=nu(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Kr(),a===u){n=Pn(e,n,o);break e}St(e,n,a,o)}n=n.child}return n;case 5:return su(n),e===null&&js(n),a=n.type,u=n.pendingProps,h=e!==null?e.memoizedProps:null,k=u.children,ms(a,u)?k=null:h!==null&&ms(a,h)&&(n.flags|=32),Hu(e,n),St(e,n,k,o),n.child;case 6:return e===null&&js(n),null;case 13:return Vu(e,n,o);case 4:return Bs(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Gr(n,null,a,o):St(e,n,a,o),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:gn(a,u),Pu(e,n,a,u,o);case 7:return St(e,n,n.pendingProps,o),n.child;case 8:return St(e,n,n.pendingProps.children,o),n.child;case 12:return St(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,h=n.memoizedProps,k=u.value,Ie(Pl,a._currentValue),a._currentValue=k,h!==null)if(dn(h.value,k)){if(h.children===u.children&&!Bt.current){n=Pn(e,n,o);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var R=h.dependencies;if(R!==null){k=h.child;for(var B=R.firstContext;B!==null;){if(B.context===a){if(h.tag===1){B=Dn(-1,o&-o),B.tag=2;var H=h.updateQueue;if(H!==null){H=H.shared;var Q=H.pending;Q===null?B.next=B:(B.next=Q.next,Q.next=B),H.pending=B}}h.lanes|=o,B=h.alternate,B!==null&&(B.lanes|=o),Rs(h.return,o,n),R.lanes|=o;break}B=B.next}}else if(h.tag===10)k=h.type===n.type?null:h.child;else if(h.tag===18){if(k=h.return,k===null)throw Error(i(341));k.lanes|=o,R=k.alternate,R!==null&&(R.lanes|=o),Rs(k,o,n),k=h.sibling}else k=h.child;if(k!==null)k.return=h;else for(k=h;k!==null;){if(k===n){k=null;break}if(h=k.sibling,h!==null){h.return=k.return,k=h;break}k=k.return}h=k}St(e,n,u.children,o),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,Yr(n,o),u=tn(u),a=a(u),n.flags|=1,St(e,n,a,o),n.child;case 14:return a=n.type,u=gn(a,n.pendingProps),u=gn(a.type,u),zu(e,n,a,u,o);case 15:return Mu(e,n,n.type,n.pendingProps,o);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:gn(a,u),Yl(e,n),n.tag=1,It(a)?(e=!0,Ll(n)):e=!1,Yr(n,o),Ru(n,a,u),Ks(n,a,u,o),Qs(null,n,a,!0,e,o);case 19:return Gu(e,n,o);case 22:return Ou(e,n,o)}throw Error(i(156,n.tag))};function xd(e,n){return ul(e,n)}function wp(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,n,o,a){return new wp(e,n,o,a)}function ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kp(e){if(typeof e=="function")return ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O)return 11;if(e===re)return 14}return 2}function ir(e,n){var o=e.alternate;return o===null?(o=on(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function ii(e,n,o,a,u,h){var k=2;if(a=e,typeof e=="function")ma(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case M:return Nr(o.children,u,h,n);case W:k=8,u|=8;break;case G:return e=on(12,o,n,u|2),e.elementType=G,e.lanes=h,e;case J:return e=on(13,o,n,u),e.elementType=J,e.lanes=h,e;case te:return e=on(19,o,n,u),e.elementType=te,e.lanes=h,e;case pe:return si(o,u,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:k=10;break e;case X:k=9;break e;case O:k=11;break e;case re:k=14;break e;case ae:k=16,a=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=on(k,o,n,u),n.elementType=e,n.type=a,n.lanes=h,n}function Nr(e,n,o,a){return e=on(7,e,a,n),e.lanes=o,e}function si(e,n,o,a){return e=on(22,e,a,n),e.elementType=pe,e.lanes=o,e.stateNode={isHidden:!1},e}function xa(e,n,o){return e=on(6,e,null,n),e.lanes=o,e}function ya(e,n,o){return n=on(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Cp(e,n,o,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function va(e,n,o,a,u,h,k,R,B){return e=new Cp(e,n,o,R,B),n===1?(n=1,h===!0&&(n|=8)):n=0,h=on(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(h),e}function Sp(e,n,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:a==null?null:""+a,children:e,containerInfo:n,implementation:o}}function yd(e){if(!e)return qn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(It(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var o=e.type;if(It(o))return Kc(e,o,n)}return n}function vd(e,n,o,a,u,h,k,R,B){return e=va(o,a,!0,e,u,h,k,R,B),e.context=yd(null),o=e.current,a=jt(),u=or(o),h=Dn(a,u),h.callback=n??null,er(o,h,u),e.current.lanes=u,fo(e,u,a),Pt(e,a),e}function ai(e,n,o,a){var u=n.current,h=jt(),k=or(u);return o=yd(o),n.context===null?n.context=o:n.pendingContext=o,n=Dn(h,k),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=er(u,n,k),e!==null&&(mn(e,u,k,h),Ml(e,u,k)),k}function ci(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function bd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function ba(e,n){bd(e,n),(e=e.alternate)&&bd(e,n)}function jp(){return null}var wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function wa(e){this._internalRoot=e}ui.prototype.render=wa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));ai(e,n,null,null)},ui.prototype.unmount=wa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Cr(function(){ai(null,e,null,null)}),n[Ln]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var n=oc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Kn.length&&n!==0&&n<Kn[o].priority;o++);Kn.splice(o,0,e),o===0&&sc(e)}};function ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function Np(e,n,o,a,u){if(u){if(typeof a=="function"){var h=a;a=function(){var H=ci(k);h.call(H)}}var k=vd(n,a,e,0,null,!1,!1,"",kd);return e._reactRootContainer=k,e[Ln]=k.current,No(e.nodeType===8?e.parentNode:e),Cr(),k}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var R=a;a=function(){var H=ci(B);R.call(H)}}var B=va(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=B,e[Ln]=B.current,No(e.nodeType===8?e.parentNode:e),Cr(function(){ai(n,B,o,a)}),B}function fi(e,n,o,a,u){var h=o._reactRootContainer;if(h){var k=h;if(typeof u=="function"){var R=u;u=function(){var B=ci(k);R.call(B)}}ai(n,k,e,u)}else k=Np(o,n,e,u,a);return ci(k)}nc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=uo(n.pendingLanes);o!==0&&(Ki(n,o|1),Pt(n,je()),($e&6)===0&&(eo=je()+500,Jn()))}break;case 13:Cr(function(){var a=_n(e,1);if(a!==null){var u=jt();mn(a,e,1,u)}}),ba(e,1)}},Gi=function(e){if(e.tag===13){var n=_n(e,134217728);if(n!==null){var o=jt();mn(n,e,134217728,o)}ba(e,134217728)}},rc=function(e){if(e.tag===13){var n=or(e),o=_n(e,n);if(o!==null){var a=jt();mn(o,e,n,a)}ba(e,n)}},oc=function(){return Le},lc=function(e,n){var o=Le;try{return Le=e,n()}finally{Le=o}},pr=function(e,n,o){switch(n){case"input":if(En(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var u=Tl(a);if(!u)throw Error(i(90));Qe(a),En(a,u)}}}break;case"textarea":Mn(e,o);break;case"select":n=o.value,n!=null&&Ot(e,!!o.multiple,n,!1)}},ft=ga,Je=Cr;var Ep={usingClientEntryPoint:!1,Events:[To,Hr,Tl,nt,Et,ga]},Wo={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$p={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=al(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{Wt=gi.inject($p),lt=gi}catch{}}return zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ep,zt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ka(n))throw Error(i(200));return Sp(e,n,null,o)},zt.createRoot=function(e,n){if(!ka(e))throw Error(i(299));var o=!1,a="",u=wd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=va(e,1,!1,null,null,o,!1,a,u),e[Ln]=n.current,No(e.nodeType===8?e.parentNode:e),new wa(n)},zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=al(n),e=e===null?null:e.stateNode,e},zt.flushSync=function(e){return Cr(e)},zt.hydrate=function(e,n,o){if(!di(n))throw Error(i(200));return fi(null,e,n,!0,o)},zt.hydrateRoot=function(e,n,o){if(!ka(e))throw Error(i(405));var a=o!=null&&o.hydratedSources||null,u=!1,h="",k=wd;if(o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),n=vd(n,null,e,1,o??null,u,!1,h,k),e[Ln]=n.current,No(e),a)for(e=0;e<a.length;e++)o=a[e],u=o._getVersion,u=u(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,u]:n.mutableSourceEagerHydrationData.push(o,u);return new ui(n)},zt.render=function(e,n,o){if(!di(n))throw Error(i(200));return fi(null,e,n,!1,o)},zt.unmountComponentAtNode=function(e){if(!di(e))throw Error(i(40));return e._reactRootContainer?(Cr(function(){fi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1},zt.unstable_batchedUpdates=ga,zt.unstable_renderSubtreeIntoContainer=function(e,n,o,a){if(!di(o))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return fi(e,n,o,!1,a)},zt.version="18.3.1-next-f1338f8080-20240426",zt}var Rd;function rf(){if(Rd)return ja.exports;Rd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}return t(),ja.exports=Dp(),ja.exports}var cr=rf();const Pp=Ma(cr),A2=za({__proto__:null,default:Pp},[cr]);var pi={},Ld;function zp(){if(Ld)return pi;Ld=1;var t=rf();return pi.createRoot=t.createRoot,pi.hydrateRoot=t.hydrateRoot,pi}var B2=zp();function Mp(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return x.useMemo(()=>s=>{l.forEach(c=>c(s))},l)}const _i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lo(t){const l=Object.prototype.toString.call(t);return l==="[object Window]"||l==="[object global]"}function Ha(t){return"nodeType"in t}function Nt(t){var l,i;return t?lo(t)?t:Ha(t)&&(l=(i=t.ownerDocument)==null?void 0:i.defaultView)!=null?l:window:window}function Fa(t){const{Document:l}=Nt(t);return t instanceof l}function el(t){return lo(t)?!1:t instanceof Nt(t).HTMLElement}function of(t){return t instanceof Nt(t).SVGElement}function io(t){return t?lo(t)?t.document:Ha(t)?Fa(t)?t:el(t)||of(t)?t.ownerDocument:document:document:document}const xn=_i?x.useLayoutEffect:x.useEffect;function Di(t){const l=x.useRef(t);return xn(()=>{l.current=t}),x.useCallback(function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return l.current==null?void 0:l.current(...s)},[])}function Op(){const t=x.useRef(null),l=x.useCallback((s,c)=>{t.current=setInterval(s,c)},[]),i=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[l,i]}function Qo(t,l){l===void 0&&(l=[t]);const i=x.useRef(t);return xn(()=>{i.current!==t&&(i.current=t)},l),i}function tl(t,l){const i=x.useRef();return x.useMemo(()=>{const s=t(i.current);return i.current=s,s},[...l])}function ji(t){const l=Di(t),i=x.useRef(null),s=x.useCallback(c=>{c!==i.current&&l?.(c,i.current),i.current=c},[]);return[i,s]}function Ni(t){const l=x.useRef();return x.useEffect(()=>{l.current=t},[t]),l.current}let $a={};function nl(t,l){return x.useMemo(()=>{if(l)return l;const i=$a[t]==null?0:$a[t]+1;return $a[t]=i,t+"-"+i},[t,l])}function lf(t){return function(l){for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];return s.reduce((d,g)=>{const m=Object.entries(g);for(const[p,v]of m){const b=d[p];b!=null&&(d[p]=b+t*v)}return d},{...l})}}const ro=lf(1),Ei=lf(-1);function Hp(t){return"clientX"in t&&"clientY"in t}function Pi(t){if(!t)return!1;const{KeyboardEvent:l}=Nt(t.target);return l&&t instanceof l}function Fp(t){if(!t)return!1;const{TouchEvent:l}=Nt(t.target);return l&&t instanceof l}function $i(t){if(Fp(t)){if(t.touches&&t.touches.length){const{clientX:l,clientY:i}=t.touches[0];return{x:l,y:i}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:l,clientY:i}=t.changedTouches[0];return{x:l,y:i}}}return Hp(t)?{x:t.clientX,y:t.clientY}:null}const Nn=Object.freeze({Translate:{toString(t){if(!t)return;const{x:l,y:i}=t;return"translate3d("+(l?Math.round(l):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:l,scaleY:i}=t;return"scaleX("+l+") scaleY("+i+")"}},Transform:{toString(t){if(t)return[Nn.Translate.toString(t),Nn.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:l,duration:i,easing:s}=t;return l+" "+i+"ms "+s}}}),Ad="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wp(t){return t.matches(Ad)?t:t.querySelector(Ad)}const Up={display:"none"};function Vp(t){let{id:l,value:i}=t;return He.createElement("div",{id:l,style:Up},i)}function Kp(t){let{id:l,announcement:i,ariaLiveType:s="assertive"}=t;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return He.createElement("div",{id:l,style:c,role:"status","aria-live":s,"aria-atomic":!0},i)}function Gp(){const[t,l]=x.useState("");return{announce:x.useCallback(s=>{s!=null&&l(s)},[]),announcement:t}}const sf=x.createContext(null);function Xp(t){const l=x.useContext(sf);x.useEffect(()=>{if(!l)throw new Error("useDndMonitor must be used within a children of <DndContext>");return l(t)},[t,l])}function Yp(){const[t]=x.useState(()=>new Set),l=x.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[x.useCallback(s=>{let{type:c,event:d}=s;t.forEach(g=>{var m;return(m=g[c])==null?void 0:m.call(g,d)})},[t]),l]}const Qp={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},qp={onDragStart(t){let{active:l}=t;return"Picked up draggable item "+l.id+"."},onDragOver(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was moved over droppable area "+i.id+".":"Draggable item "+l.id+" is no longer over a droppable area."},onDragEnd(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was dropped over droppable area "+i.id:"Draggable item "+l.id+" was dropped."},onDragCancel(t){let{active:l}=t;return"Dragging was cancelled. Draggable item "+l.id+" was dropped."}};function Jp(t){let{announcements:l=qp,container:i,hiddenTextDescribedById:s,screenReaderInstructions:c=Qp}=t;const{announce:d,announcement:g}=Gp(),m=nl("DndLiveRegion"),[p,v]=x.useState(!1);if(x.useEffect(()=>{v(!0)},[]),Xp(x.useMemo(()=>({onDragStart(y){let{active:N}=y;d(l.onDragStart({active:N}))},onDragMove(y){let{active:N,over:j}=y;l.onDragMove&&d(l.onDragMove({active:N,over:j}))},onDragOver(y){let{active:N,over:j}=y;d(l.onDragOver({active:N,over:j}))},onDragEnd(y){let{active:N,over:j}=y;d(l.onDragEnd({active:N,over:j}))},onDragCancel(y){let{active:N,over:j}=y;d(l.onDragCancel({active:N,over:j}))}}),[d,l])),!p)return null;const b=He.createElement(He.Fragment,null,He.createElement(Vp,{id:s,value:c.draggable}),He.createElement(Kp,{id:m,announcement:g}));return i?cr.createPortal(b,i):b}var tt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(tt||(tt={}));function Ti(){}function Zp(t,l){return x.useMemo(()=>({sensor:t,options:l??{}}),[t,l])}function eh(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return x.useMemo(()=>[...l].filter(s=>s!=null),[...l])}const yn=Object.freeze({x:0,y:0});function af(t,l){return Math.sqrt(Math.pow(t.x-l.x,2)+Math.pow(t.y-l.y,2))}function th(t,l){const i=$i(t);if(!i)return"0 0";const s={x:(i.x-l.left)/l.width*100,y:(i.y-l.top)/l.height*100};return s.x+"% "+s.y+"%"}function cf(t,l){let{data:{value:i}}=t,{data:{value:s}}=l;return i-s}function nh(t,l){let{data:{value:i}}=t,{data:{value:s}}=l;return s-i}function rh(t){let{left:l,top:i,height:s,width:c}=t;return[{x:l,y:i},{x:l+c,y:i},{x:l,y:i+s},{x:l+c,y:i+s}]}function oh(t,l){if(!t||t.length===0)return null;const[i]=t;return i[l]}function Bd(t,l,i){return l===void 0&&(l=t.left),i===void 0&&(i=t.top),{x:l+t.width*.5,y:i+t.height*.5}}const lh=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:s}=t;const c=Bd(l,l.left,l.top),d=[];for(const g of s){const{id:m}=g,p=i.get(m);if(p){const v=af(Bd(p),c);d.push({id:m,data:{droppableContainer:g,value:v}})}}return d.sort(cf)};function ih(t,l){const i=Math.max(l.top,t.top),s=Math.max(l.left,t.left),c=Math.min(l.left+l.width,t.left+t.width),d=Math.min(l.top+l.height,t.top+t.height),g=c-s,m=d-i;if(s<c&&i<d){const p=l.width*l.height,v=t.width*t.height,b=g*m,y=b/(p+v-b);return Number(y.toFixed(4))}return 0}const sh=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:s}=t;const c=[];for(const d of s){const{id:g}=d,m=i.get(g);if(m){const p=ih(m,l);p>0&&c.push({id:g,data:{droppableContainer:d,value:p}})}}return c.sort(nh)};function ah(t,l){const{top:i,left:s,bottom:c,right:d}=l;return i<=t.y&&t.y<=c&&s<=t.x&&t.x<=d}const ch=t=>{let{droppableContainers:l,droppableRects:i,pointerCoordinates:s}=t;if(!s)return[];const c=[];for(const d of l){const{id:g}=d,m=i.get(g);if(m&&ah(s,m)){const v=rh(m).reduce((y,N)=>y+af(s,N),0),b=Number((v/4).toFixed(4));c.push({id:g,data:{droppableContainer:d,value:b}})}}return c.sort(cf)};function uh(t,l,i){return{...t,scaleX:l&&i?l.width/i.width:1,scaleY:l&&i?l.height/i.height:1}}function uf(t,l){return t&&l?{x:t.left-l.left,y:t.top-l.top}:yn}function dh(t){return function(i){for(var s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];return c.reduce((g,m)=>({...g,top:g.top+t*m.y,bottom:g.bottom+t*m.y,left:g.left+t*m.x,right:g.right+t*m.x}),{...i})}}const fh=dh(1);function df(t){if(t.startsWith("matrix3d(")){const l=t.slice(9,-1).split(/, /);return{x:+l[12],y:+l[13],scaleX:+l[0],scaleY:+l[5]}}else if(t.startsWith("matrix(")){const l=t.slice(7,-1).split(/, /);return{x:+l[4],y:+l[5],scaleX:+l[0],scaleY:+l[3]}}return null}function gh(t,l,i){const s=df(l);if(!s)return t;const{scaleX:c,scaleY:d,x:g,y:m}=s,p=t.left-g-(1-c)*parseFloat(i),v=t.top-m-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),b=c?t.width/c:t.width,y=d?t.height/d:t.height;return{width:b,height:y,top:v,right:p+b,bottom:v+y,left:p}}const ph={ignoreTransform:!1};function so(t,l){l===void 0&&(l=ph);let i=t.getBoundingClientRect();if(l.ignoreTransform){const{transform:v,transformOrigin:b}=Nt(t).getComputedStyle(t);v&&(i=gh(i,v,b))}const{top:s,left:c,width:d,height:g,bottom:m,right:p}=i;return{top:s,left:c,width:d,height:g,bottom:m,right:p}}function Id(t){return so(t,{ignoreTransform:!0})}function hh(t){const l=t.innerWidth,i=t.innerHeight;return{top:0,left:0,right:l,bottom:i,width:l,height:i}}function mh(t,l){return l===void 0&&(l=Nt(t).getComputedStyle(t)),l.position==="fixed"}function xh(t,l){l===void 0&&(l=Nt(t).getComputedStyle(t));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const d=l[c];return typeof d=="string"?i.test(d):!1})}function Wa(t,l){const i=[];function s(c){if(l!=null&&i.length>=l||!c)return i;if(Fa(c)&&c.scrollingElement!=null&&!i.includes(c.scrollingElement))return i.push(c.scrollingElement),i;if(!el(c)||of(c)||i.includes(c))return i;const d=Nt(t).getComputedStyle(c);return c!==t&&xh(c,d)&&i.push(c),mh(c,d)?i:s(c.parentNode)}return t?s(t):i}function ff(t){const[l]=Wa(t,1);return l??null}function Ta(t){return!_i||!t?null:lo(t)?t:Ha(t)?Fa(t)||t===io(t).scrollingElement?window:el(t)?t:null:null}function gf(t){return lo(t)?t.scrollX:t.scrollLeft}function pf(t){return lo(t)?t.scrollY:t.scrollTop}function Aa(t){return{x:gf(t),y:pf(t)}}var ct;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ct||(ct={}));function hf(t){return!_i||!t?!1:t===document.scrollingElement}function mf(t){const l={x:0,y:0},i=hf(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-i.width,y:t.scrollHeight-i.height},c=t.scrollTop<=l.y,d=t.scrollLeft<=l.x,g=t.scrollTop>=s.y,m=t.scrollLeft>=s.x;return{isTop:c,isLeft:d,isBottom:g,isRight:m,maxScroll:s,minScroll:l}}const yh={x:.2,y:.2};function vh(t,l,i,s,c){let{top:d,left:g,right:m,bottom:p}=i;s===void 0&&(s=10),c===void 0&&(c=yh);const{isTop:v,isBottom:b,isLeft:y,isRight:N}=mf(t),j={x:0,y:0},E={x:0,y:0},w={height:l.height*c.y,width:l.width*c.x};return!v&&d<=l.top+w.height?(j.y=ct.Backward,E.y=s*Math.abs((l.top+w.height-d)/w.height)):!b&&p>=l.bottom-w.height&&(j.y=ct.Forward,E.y=s*Math.abs((l.bottom-w.height-p)/w.height)),!N&&m>=l.right-w.width?(j.x=ct.Forward,E.x=s*Math.abs((l.right-w.width-m)/w.width)):!y&&g<=l.left+w.width&&(j.x=ct.Backward,E.x=s*Math.abs((l.left+w.width-g)/w.width)),{direction:j,speed:E}}function bh(t){if(t===document.scrollingElement){const{innerWidth:d,innerHeight:g}=window;return{top:0,left:0,right:d,bottom:g,width:d,height:g}}const{top:l,left:i,right:s,bottom:c}=t.getBoundingClientRect();return{top:l,left:i,right:s,bottom:c,width:t.clientWidth,height:t.clientHeight}}function xf(t){return t.reduce((l,i)=>ro(l,Aa(i)),yn)}function wh(t){return t.reduce((l,i)=>l+gf(i),0)}function kh(t){return t.reduce((l,i)=>l+pf(i),0)}function yf(t,l){if(l===void 0&&(l=so),!t)return;const{top:i,left:s,bottom:c,right:d}=l(t);ff(t)&&(c<=0||d<=0||i>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Ch=[["x",["left","right"],wh],["y",["top","bottom"],kh]];class Ua{constructor(l,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Wa(i),c=xf(s);this.rect={...l},this.width=l.width,this.height=l.height;for(const[d,g,m]of Ch)for(const p of g)Object.defineProperty(this,p,{get:()=>{const v=m(s),b=c[d]-v;return this.rect[p]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Go{constructor(l){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...i)})},this.target=l}add(l,i,s){var c;(c=this.target)==null||c.addEventListener(l,i,s),this.listeners.push([l,i,s])}}function Sh(t){const{EventTarget:l}=Nt(t);return t instanceof l?t:io(t)}function Ra(t,l){const i=Math.abs(t.x),s=Math.abs(t.y);return typeof l=="number"?Math.sqrt(i**2+s**2)>l:"x"in l&&"y"in l?i>l.x&&s>l.y:"x"in l?i>l.x:"y"in l?s>l.y:!1}var ln;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ln||(ln={}));function _d(t){t.preventDefault()}function jh(t){t.stopPropagation()}var Re;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Re||(Re={}));const vf={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},Nh=(t,l)=>{let{currentCoordinates:i}=l;switch(t.code){case Re.Right:return{...i,x:i.x+25};case Re.Left:return{...i,x:i.x-25};case Re.Down:return{...i,y:i.y+25};case Re.Up:return{...i,y:i.y-25}}};class bf{constructor(l){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=l;const{event:{target:i}}=l;this.props=l,this.listeners=new Go(io(i)),this.windowListeners=new Go(Nt(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ln.Resize,this.handleCancel),this.windowListeners.add(ln.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ln.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:l,onStart:i}=this.props,s=l.node.current;s&&yf(s),i(yn)}handleKeyDown(l){if(Pi(l)){const{active:i,context:s,options:c}=this.props,{keyboardCodes:d=vf,coordinateGetter:g=Nh,scrollBehavior:m="smooth"}=c,{code:p}=l;if(d.end.includes(p)){this.handleEnd(l);return}if(d.cancel.includes(p)){this.handleCancel(l);return}const{collisionRect:v}=s.current,b=v?{x:v.left,y:v.top}:yn;this.referenceCoordinates||(this.referenceCoordinates=b);const y=g(l,{active:i,context:s.current,currentCoordinates:b});if(y){const N=Ei(y,b),j={x:0,y:0},{scrollableAncestors:E}=s.current;for(const w of E){const C=l.code,{isTop:S,isRight:T,isLeft:$,isBottom:L,maxScroll:A,minScroll:P}=mf(w),M=bh(w),W={x:Math.min(C===Re.Right?M.right-M.width/2:M.right,Math.max(C===Re.Right?M.left:M.left+M.width/2,y.x)),y:Math.min(C===Re.Down?M.bottom-M.height/2:M.bottom,Math.max(C===Re.Down?M.top:M.top+M.height/2,y.y))},G=C===Re.Right&&!T||C===Re.Left&&!$,U=C===Re.Down&&!L||C===Re.Up&&!S;if(G&&W.x!==y.x){const X=w.scrollLeft+N.x,O=C===Re.Right&&X<=A.x||C===Re.Left&&X>=P.x;if(O&&!N.y){w.scrollTo({left:X,behavior:m});return}O?j.x=w.scrollLeft-X:j.x=C===Re.Right?w.scrollLeft-A.x:w.scrollLeft-P.x,j.x&&w.scrollBy({left:-j.x,behavior:m});break}else if(U&&W.y!==y.y){const X=w.scrollTop+N.y,O=C===Re.Down&&X<=A.y||C===Re.Up&&X>=P.y;if(O&&!N.x){w.scrollTo({top:X,behavior:m});return}O?j.y=w.scrollTop-X:j.y=C===Re.Down?w.scrollTop-A.y:w.scrollTop-P.y,j.y&&w.scrollBy({top:-j.y,behavior:m});break}}this.handleMove(l,ro(Ei(y,this.referenceCoordinates),j))}}}handleMove(l,i){const{onMove:s}=this.props;l.preventDefault(),s(i)}handleEnd(l){const{onEnd:i}=this.props;l.preventDefault(),this.detach(),i()}handleCancel(l){const{onCancel:i}=this.props;l.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}bf.activators=[{eventName:"onKeyDown",handler:(t,l,i)=>{let{keyboardCodes:s=vf,onActivation:c}=l,{active:d}=i;const{code:g}=t.nativeEvent;if(s.start.includes(g)){const m=d.activatorNode.current;return m&&t.target!==m?!1:(t.preventDefault(),c?.({event:t.nativeEvent}),!0)}return!1}}];function Dd(t){return!!(t&&"distance"in t)}function Pd(t){return!!(t&&"delay"in t)}class Va{constructor(l,i,s){var c;s===void 0&&(s=Sh(l.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=l,this.events=i;const{event:d}=l,{target:g}=d;this.props=l,this.events=i,this.document=io(g),this.documentListeners=new Go(this.document),this.listeners=new Go(s),this.windowListeners=new Go(Nt(g)),this.initialCoordinates=(c=$i(d))!=null?c:yn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:l,props:{options:{activationConstraint:i,bypassActivationConstraint:s}}}=this;if(this.listeners.add(l.move.name,this.handleMove,{passive:!1}),this.listeners.add(l.end.name,this.handleEnd),l.cancel&&this.listeners.add(l.cancel.name,this.handleCancel),this.windowListeners.add(ln.Resize,this.handleCancel),this.windowListeners.add(ln.DragStart,_d),this.windowListeners.add(ln.VisibilityChange,this.handleCancel),this.windowListeners.add(ln.ContextMenu,_d),this.documentListeners.add(ln.Keydown,this.handleKeydown),i){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pd(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Dd(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(l,i){const{active:s,onPending:c}=this.props;c(s,l,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:l}=this,{onStart:i}=this.props;l&&(this.activated=!0,this.documentListeners.add(ln.Click,jh,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ln.SelectionChange,this.removeTextSelection),i(l))}handleMove(l){var i;const{activated:s,initialCoordinates:c,props:d}=this,{onMove:g,options:{activationConstraint:m}}=d;if(!c)return;const p=(i=$i(l))!=null?i:yn,v=Ei(c,p);if(!s&&m){if(Dd(m)){if(m.tolerance!=null&&Ra(v,m.tolerance))return this.handleCancel();if(Ra(v,m.distance))return this.handleStart()}if(Pd(m)&&Ra(v,m.tolerance))return this.handleCancel();this.handlePending(m,v);return}l.cancelable&&l.preventDefault(),g(p)}handleEnd(){const{onAbort:l,onEnd:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleCancel(){const{onAbort:l,onCancel:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleKeydown(l){l.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var l;(l=this.document.getSelection())==null||l.removeAllRanges()}}const Eh={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ka extends Va{constructor(l){const{event:i}=l,s=io(i.target);super(l,Eh,s)}}Ka.activators=[{eventName:"onPointerDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:s}=l;return!i.isPrimary||i.button!==0?!1:(s?.({event:i}),!0)}}];const $h={move:{name:"mousemove"},end:{name:"mouseup"}};var Ba;(function(t){t[t.RightClick=2]="RightClick"})(Ba||(Ba={}));class Th extends Va{constructor(l){super(l,$h,io(l.event.target))}}Th.activators=[{eventName:"onMouseDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:s}=l;return i.button===Ba.RightClick?!1:(s?.({event:i}),!0)}}];const La={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Rh extends Va{constructor(l){super(l,La)}static setup(){return window.addEventListener(La.move.name,l,{capture:!1,passive:!1}),function(){window.removeEventListener(La.move.name,l)};function l(){}}}Rh.activators=[{eventName:"onTouchStart",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:s}=l;const{touches:c}=i;return c.length>1?!1:(s?.({event:i}),!0)}}];var Xo;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Xo||(Xo={}));var Ri;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ri||(Ri={}));function Lh(t){let{acceleration:l,activator:i=Xo.Pointer,canScroll:s,draggingRect:c,enabled:d,interval:g=5,order:m=Ri.TreeOrder,pointerCoordinates:p,scrollableAncestors:v,scrollableAncestorRects:b,delta:y,threshold:N}=t;const j=Bh({delta:y,disabled:!d}),[E,w]=Op(),C=x.useRef({x:0,y:0}),S=x.useRef({x:0,y:0}),T=x.useMemo(()=>{switch(i){case Xo.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Xo.DraggableRect:return c}},[i,c,p]),$=x.useRef(null),L=x.useCallback(()=>{const P=$.current;if(!P)return;const M=C.current.x*S.current.x,W=C.current.y*S.current.y;P.scrollBy(M,W)},[]),A=x.useMemo(()=>m===Ri.TreeOrder?[...v].reverse():v,[m,v]);x.useEffect(()=>{if(!d||!v.length||!T){w();return}for(const P of A){if(s?.(P)===!1)continue;const M=v.indexOf(P),W=b[M];if(!W)continue;const{direction:G,speed:U}=vh(P,W,T,l,N);for(const X of["x","y"])j[X][G[X]]||(U[X]=0,G[X]=0);if(U.x>0||U.y>0){w(),$.current=P,E(L,g),C.current=U,S.current=G;return}}C.current={x:0,y:0},S.current={x:0,y:0},w()},[l,L,s,w,d,g,JSON.stringify(T),JSON.stringify(j),E,v,A,b,JSON.stringify(N)])}const Ah={x:{[ct.Backward]:!1,[ct.Forward]:!1},y:{[ct.Backward]:!1,[ct.Forward]:!1}};function Bh(t){let{delta:l,disabled:i}=t;const s=Ni(l);return tl(c=>{if(i||!s||!c)return Ah;const d={x:Math.sign(l.x-s.x),y:Math.sign(l.y-s.y)};return{x:{[ct.Backward]:c.x[ct.Backward]||d.x===-1,[ct.Forward]:c.x[ct.Forward]||d.x===1},y:{[ct.Backward]:c.y[ct.Backward]||d.y===-1,[ct.Forward]:c.y[ct.Forward]||d.y===1}}},[i,l,s])}function Ih(t,l){const i=l!=null?t.get(l):void 0,s=i?i.node.current:null;return tl(c=>{var d;return l==null?null:(d=s??c)!=null?d:null},[s,l])}function _h(t,l){return x.useMemo(()=>t.reduce((i,s)=>{const{sensor:c}=s,d=c.activators.map(g=>({eventName:g.eventName,handler:l(g.handler,s)}));return[...i,...d]},[]),[t,l])}var qo;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(qo||(qo={}));var Ia;(function(t){t.Optimized="optimized"})(Ia||(Ia={}));const zd=new Map;function Dh(t,l){let{dragging:i,dependencies:s,config:c}=l;const[d,g]=x.useState(null),{frequency:m,measure:p,strategy:v}=c,b=x.useRef(t),y=C(),N=Qo(y),j=x.useCallback(function(S){S===void 0&&(S=[]),!N.current&&g(T=>T===null?S:T.concat(S.filter($=>!T.includes($))))},[N]),E=x.useRef(null),w=tl(S=>{if(y&&!i)return zd;if(!S||S===zd||b.current!==t||d!=null){const T=new Map;for(let $ of t){if(!$)continue;if(d&&d.length>0&&!d.includes($.id)&&$.rect.current){T.set($.id,$.rect.current);continue}const L=$.node.current,A=L?new Ua(p(L),L):null;$.rect.current=A,A&&T.set($.id,A)}return T}return S},[t,d,i,y,p]);return x.useEffect(()=>{b.current=t},[t]),x.useEffect(()=>{y||j()},[i,y]),x.useEffect(()=>{d&&d.length>0&&g(null)},[JSON.stringify(d)]),x.useEffect(()=>{y||typeof m!="number"||E.current!==null||(E.current=setTimeout(()=>{j(),E.current=null},m))},[m,y,j,...s]),{droppableRects:w,measureDroppableContainers:j,measuringScheduled:d!=null};function C(){switch(v){case qo.Always:return!1;case qo.BeforeDragging:return i;default:return!i}}}function Ga(t,l){return tl(i=>t?i||(typeof l=="function"?l(t):t):null,[l,t])}function Ph(t,l){return Ga(t,l)}function zh(t){let{callback:l,disabled:i}=t;const s=Di(l),c=x.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(s)},[s,i]);return x.useEffect(()=>()=>c?.disconnect(),[c]),c}function zi(t){let{callback:l,disabled:i}=t;const s=Di(l),c=x.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(s)},[i]);return x.useEffect(()=>()=>c?.disconnect(),[c]),c}function Mh(t){return new Ua(so(t),t)}function Md(t,l,i){l===void 0&&(l=Mh);const[s,c]=x.useState(null);function d(){c(p=>{if(!t)return null;if(t.isConnected===!1){var v;return(v=p??i)!=null?v:null}const b=l(t);return JSON.stringify(p)===JSON.stringify(b)?p:b})}const g=zh({callback(p){if(t)for(const v of p){const{type:b,target:y}=v;if(b==="childList"&&y instanceof HTMLElement&&y.contains(t)){d();break}}}}),m=zi({callback:d});return xn(()=>{d(),t?(m?.observe(t),g?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),g?.disconnect())},[t]),s}function Oh(t){const l=Ga(t);return uf(t,l)}const Od=[];function Hh(t){const l=x.useRef(t),i=tl(s=>t?s&&s!==Od&&t&&l.current&&t.parentNode===l.current.parentNode?s:Wa(t):Od,[t]);return x.useEffect(()=>{l.current=t},[t]),i}function Fh(t){const[l,i]=x.useState(null),s=x.useRef(t),c=x.useCallback(d=>{const g=Ta(d.target);g&&i(m=>m?(m.set(g,Aa(g)),new Map(m)):null)},[]);return x.useEffect(()=>{const d=s.current;if(t!==d){g(d);const m=t.map(p=>{const v=Ta(p);return v?(v.addEventListener("scroll",c,{passive:!0}),[v,Aa(v)]):null}).filter(p=>p!=null);i(m.length?new Map(m):null),s.current=t}return()=>{g(t),g(d)};function g(m){m.forEach(p=>{const v=Ta(p);v?.removeEventListener("scroll",c)})}},[c,t]),x.useMemo(()=>t.length?l?Array.from(l.values()).reduce((d,g)=>ro(d,g),yn):xf(t):yn,[t,l])}function Hd(t,l){l===void 0&&(l=[]);const i=x.useRef(null);return x.useEffect(()=>{i.current=null},l),x.useEffect(()=>{const s=t!==yn;s&&!i.current&&(i.current=t),!s&&i.current&&(i.current=null)},[t]),i.current?Ei(t,i.current):yn}function Wh(t){x.useEffect(()=>{if(!_i)return;const l=t.map(i=>{let{sensor:s}=i;return s.setup==null?void 0:s.setup()});return()=>{for(const i of l)i?.()}},t.map(l=>{let{sensor:i}=l;return i}))}function Uh(t,l){return x.useMemo(()=>t.reduce((i,s)=>{let{eventName:c,handler:d}=s;return i[c]=g=>{d(g,l)},i},{}),[t,l])}function wf(t){return x.useMemo(()=>t?hh(t):null,[t])}const Fd=[];function Vh(t,l){l===void 0&&(l=so);const[i]=t,s=wf(i?Nt(i):null),[c,d]=x.useState(Fd);function g(){d(()=>t.length?t.map(p=>hf(p)?s:new Ua(l(p),p)):Fd)}const m=zi({callback:g});return xn(()=>{m?.disconnect(),g(),t.forEach(p=>m?.observe(p))},[t]),c}function kf(t){if(!t)return null;if(t.children.length>1)return t;const l=t.children[0];return el(l)?l:t}function Kh(t){let{measure:l}=t;const[i,s]=x.useState(null),c=x.useCallback(v=>{for(const{target:b}of v)if(el(b)){s(y=>{const N=l(b);return y?{...y,width:N.width,height:N.height}:N});break}},[l]),d=zi({callback:c}),g=x.useCallback(v=>{const b=kf(v);d?.disconnect(),b&&d?.observe(b),s(b?l(b):null)},[l,d]),[m,p]=ji(g);return x.useMemo(()=>({nodeRef:m,rect:i,setRef:p}),[i,m,p])}const Gh=[{sensor:Ka,options:{}},{sensor:bf,options:{}}],Xh={current:{}},Si={draggable:{measure:Id},droppable:{measure:Id,strategy:qo.WhileDragging,frequency:Ia.Optimized},dragOverlay:{measure:so}};class Yo extends Map{get(l){var i;return l!=null&&(i=super.get(l))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(l=>{let{disabled:i}=l;return!i})}getNodeFor(l){var i,s;return(i=(s=this.get(l))==null?void 0:s.node.current)!=null?i:void 0}}const Yh={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ti},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Si,measureDroppableContainers:Ti,windowRect:null,measuringScheduled:!1},Cf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ti,draggableNodes:new Map,over:null,measureDroppableContainers:Ti},rl=x.createContext(Cf),Sf=x.createContext(Yh);function Qh(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yo}}}function qh(t,l){switch(l.type){case tt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:l.initialCoordinates,active:l.active}};case tt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:l.coordinates.x-t.draggable.initialCoordinates.x,y:l.coordinates.y-t.draggable.initialCoordinates.y}}};case tt.DragEnd:case tt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tt.RegisterDroppable:{const{element:i}=l,{id:s}=i,c=new Yo(t.droppable.containers);return c.set(s,i),{...t,droppable:{...t.droppable,containers:c}}}case tt.SetDroppableDisabled:{const{id:i,key:s,disabled:c}=l,d=t.droppable.containers.get(i);if(!d||s!==d.key)return t;const g=new Yo(t.droppable.containers);return g.set(i,{...d,disabled:c}),{...t,droppable:{...t.droppable,containers:g}}}case tt.UnregisterDroppable:{const{id:i,key:s}=l,c=t.droppable.containers.get(i);if(!c||s!==c.key)return t;const d=new Yo(t.droppable.containers);return d.delete(i),{...t,droppable:{...t.droppable,containers:d}}}default:return t}}function Jh(t){let{disabled:l}=t;const{active:i,activatorEvent:s,draggableNodes:c}=x.useContext(rl),d=Ni(s),g=Ni(i?.id);return x.useEffect(()=>{if(!l&&!s&&d&&g!=null){if(!Pi(d)||document.activeElement===d.target)return;const m=c.get(g);if(!m)return;const{activatorNode:p,node:v}=m;if(!p.current&&!v.current)return;requestAnimationFrame(()=>{for(const b of[p.current,v.current]){if(!b)continue;const y=Wp(b);if(y){y.focus();break}}})}},[s,l,c,g,d]),null}function jf(t,l){let{transform:i,...s}=l;return t!=null&&t.length?t.reduce((c,d)=>d({transform:c,...s}),i):i}function Zh(t){return x.useMemo(()=>({draggable:{...Si.draggable,...t?.draggable},droppable:{...Si.droppable,...t?.droppable},dragOverlay:{...Si.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function em(t){let{activeNode:l,measure:i,initialRect:s,config:c=!0}=t;const d=x.useRef(!1),{x:g,y:m}=typeof c=="boolean"?{x:c,y:c}:c;xn(()=>{if(!g&&!m||!l){d.current=!1;return}if(d.current||!s)return;const v=l?.node.current;if(!v||v.isConnected===!1)return;const b=i(v),y=uf(b,s);if(g||(y.x=0),m||(y.y=0),d.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const N=ff(v);N&&N.scrollBy({top:y.y,left:y.x})}},[l,g,m,s,i])}const Mi=x.createContext({...yn,scaleX:1,scaleY:1});var ar;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ar||(ar={}));const tm=x.memo(function(l){var i,s,c,d;let{id:g,accessibility:m,autoScroll:p=!0,children:v,sensors:b=Gh,collisionDetection:y=sh,measuring:N,modifiers:j,...E}=l;const w=x.useReducer(qh,void 0,Qh),[C,S]=w,[T,$]=Yp(),[L,A]=x.useState(ar.Uninitialized),P=L===ar.Initialized,{draggable:{active:M,nodes:W,translate:G},droppable:{containers:U}}=C,X=M!=null?W.get(M):null,O=x.useRef({initial:null,translated:null}),J=x.useMemo(()=>{var De;return M!=null?{id:M,data:(De=X?.data)!=null?De:Xh,rect:O}:null},[M,X]),te=x.useRef(null),[re,ae]=x.useState(null),[pe,V]=x.useState(null),ee=Qo(E,Object.values(E)),K=nl("DndDescribedBy",g),I=x.useMemo(()=>U.getEnabled(),[U]),F=Zh(N),{droppableRects:ie,measureDroppableContainers:ne,measuringScheduled:ge}=Dh(I,{dragging:P,dependencies:[G.x,G.y],config:F.droppable}),ue=Ih(W,M),Ce=x.useMemo(()=>pe?$i(pe):null,[pe]),ye=sn(),ke=Ph(ue,F.draggable.measure);em({activeNode:M!=null?W.get(M):null,config:ye.layoutShiftCompensation,initialRect:ke,measure:F.draggable.measure});const be=Md(ue,F.draggable.measure,ke),Mt=Md(ue?ue.parentElement:null),Qe=x.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:ie,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),mt=U.getNodeFor((i=Qe.current.over)==null?void 0:i.id),ut=Kh({measure:F.dragOverlay.measure}),Ne=(s=ut.nodeRef.current)!=null?s:ue,Ct=P?(c=ut.rect)!=null?c:be:null,En=!!(ut.nodeRef.current&&ut.rect),Qt=Oh(En?null:be),qt=wf(Ne?Nt(Ne):null),xt=Hh(P?mt??ue:null),Ot=Vh(xt),vn=jf(j,{transform:{x:G.x-Qt.x,y:G.y-Qt.y,scaleX:1,scaleY:1},activatorEvent:pe,active:J,activeNodeRect:be,containerNodeRect:Mt,draggingNodeRect:Ct,over:Qe.current.over,overlayNodeRect:ut.rect,scrollableAncestors:xt,scrollableAncestorRects:Ot,windowRect:qt}),ur=Ce?ro(Ce,G):null,Mn=Fh(xt),Tr=Hd(Mn),Rr=Hd(Mn,[be]),Jt=ro(vn,Tr),Ht=Ct?fh(Ct,vn):null,bn=J&&Ht?y({active:J,collisionRect:Ht,droppableRects:ie,droppableContainers:I,pointerCoordinates:ur}):null,wn=oh(bn,"id"),[dt,Lr]=x.useState(null),Ar=En?vn:ro(vn,Rr),On=uh(Ar,(d=dt?.rect)!=null?d:null,be),dr=x.useRef(null),Hn=x.useCallback((De,qe)=>{let{sensor:nt,options:Et}=qe;if(te.current==null)return;const ft=W.get(te.current);if(!ft)return;const Je=De.nativeEvent,gt=new nt({active:te.current,activeNode:ft,event:Je,options:Et,context:Qe,onAbort(Be){if(!W.get(Be))return;const{onDragAbort:Pe}=ee.current,Tt={id:Be};Pe?.(Tt),T({type:"onDragAbort",event:Tt})},onPending(Be,$t,Pe,Tt){if(!W.get(Be))return;const{onDragPending:Rt}=ee.current,yt={id:Be,constraint:$t,initialCoordinates:Pe,offset:Tt};Rt?.(yt),T({type:"onDragPending",event:yt})},onStart(Be){const $t=te.current;if($t==null)return;const Pe=W.get($t);if(!Pe)return;const{onDragStart:Tt}=ee.current,rt={activatorEvent:Je,active:{id:$t,data:Pe.data,rect:O}};cr.unstable_batchedUpdates(()=>{Tt?.(rt),A(ar.Initializing),S({type:tt.DragStart,initialCoordinates:Be,active:$t}),T({type:"onDragStart",event:rt}),ae(dr.current),V(Je)})},onMove(Be){S({type:tt.DragMove,coordinates:Be})},onEnd:an(tt.DragEnd),onCancel:an(tt.DragCancel)});dr.current=gt;function an(Be){return async function(){const{active:Pe,collisions:Tt,over:rt,scrollAdjustedTranslate:Rt}=Qe.current;let yt=null;if(Pe&&Rt){const{cancelDrop:cn}=ee.current;yt={activatorEvent:Je,active:Pe,collisions:Tt,delta:Rt,over:rt},Be===tt.DragEnd&&typeof cn=="function"&&await Promise.resolve(cn(yt))&&(Be=tt.DragCancel)}te.current=null,cr.unstable_batchedUpdates(()=>{S({type:Be}),A(ar.Uninitialized),Lr(null),ae(null),V(null),dr.current=null;const cn=Be===tt.DragEnd?"onDragEnd":"onDragCancel";if(yt){const ot=ee.current[cn];ot?.(yt),T({type:cn,event:yt})}})}}},[W]),fr=x.useCallback((De,qe)=>(nt,Et)=>{const ft=nt.nativeEvent,Je=W.get(Et);if(te.current!==null||!Je||ft.dndKit||ft.defaultPrevented)return;const gt={active:Je};De(nt,qe.options,gt)===!0&&(ft.dndKit={capturedBy:qe.sensor},te.current=Et,Hn(nt,qe))},[W,Hn]),Fn=_h(b,fr);Wh(b),xn(()=>{be&&L===ar.Initializing&&A(ar.Initialized)},[be,L]),x.useEffect(()=>{const{onDragMove:De}=ee.current,{active:qe,activatorEvent:nt,collisions:Et,over:ft}=Qe.current;if(!qe||!nt)return;const Je={active:qe,activatorEvent:nt,collisions:Et,delta:{x:Jt.x,y:Jt.y},over:ft};cr.unstable_batchedUpdates(()=>{De?.(Je),T({type:"onDragMove",event:Je})})},[Jt.x,Jt.y]),x.useEffect(()=>{const{active:De,activatorEvent:qe,collisions:nt,droppableContainers:Et,scrollAdjustedTranslate:ft}=Qe.current;if(!De||te.current==null||!qe||!ft)return;const{onDragOver:Je}=ee.current,gt=Et.get(wn),an=gt&&gt.rect.current?{id:gt.id,rect:gt.rect.current,data:gt.data,disabled:gt.disabled}:null,Be={active:De,activatorEvent:qe,collisions:nt,delta:{x:ft.x,y:ft.y},over:an};cr.unstable_batchedUpdates(()=>{Lr(an),Je?.(Be),T({type:"onDragOver",event:Be})})},[wn]),xn(()=>{Qe.current={activatorEvent:pe,active:J,activeNode:ue,collisionRect:Ht,collisions:bn,droppableRects:ie,draggableNodes:W,draggingNode:Ne,draggingNodeRect:Ct,droppableContainers:U,over:dt,scrollableAncestors:xt,scrollAdjustedTranslate:Jt},O.current={initial:Ct,translated:Ht}},[J,ue,bn,Ht,W,Ne,Ct,ie,U,dt,xt,Jt]),Lh({...ye,delta:G,draggingRect:Ht,pointerCoordinates:ur,scrollableAncestors:xt,scrollableAncestorRects:Ot});const gr=x.useMemo(()=>({active:J,activeNode:ue,activeNodeRect:be,activatorEvent:pe,collisions:bn,containerNodeRect:Mt,dragOverlay:ut,draggableNodes:W,droppableContainers:U,droppableRects:ie,over:dt,measureDroppableContainers:ne,scrollableAncestors:xt,scrollableAncestorRects:Ot,measuringConfiguration:F,measuringScheduled:ge,windowRect:qt}),[J,ue,be,pe,bn,Mt,ut,W,U,ie,dt,ne,xt,Ot,F,ge,qt]),pr=x.useMemo(()=>({activatorEvent:pe,activators:Fn,active:J,activeNodeRect:be,ariaDescribedById:{draggable:K},dispatch:S,draggableNodes:W,over:dt,measureDroppableContainers:ne}),[pe,Fn,J,be,S,K,W,dt,ne]);return He.createElement(sf.Provider,{value:$},He.createElement(rl.Provider,{value:pr},He.createElement(Sf.Provider,{value:gr},He.createElement(Mi.Provider,{value:On},v)),He.createElement(Jh,{disabled:m?.restoreFocus===!1})),He.createElement(Jp,{...m,hiddenTextDescribedById:K}));function sn(){const De=re?.autoScrollEnabled===!1,qe=typeof p=="object"?p.enabled===!1:p===!1,nt=P&&!De&&!qe;return typeof p=="object"?{...p,enabled:nt}:{enabled:nt}}}),nm=x.createContext(null),Wd="button",rm="Draggable";function Nf(t){let{id:l,data:i,disabled:s=!1,attributes:c}=t;const d=nl(rm),{activators:g,activatorEvent:m,active:p,activeNodeRect:v,ariaDescribedById:b,draggableNodes:y,over:N}=x.useContext(rl),{role:j=Wd,roleDescription:E="draggable",tabIndex:w=0}=c??{},C=p?.id===l,S=x.useContext(C?Mi:nm),[T,$]=ji(),[L,A]=ji(),P=Uh(g,l),M=Qo(i);xn(()=>(y.set(l,{id:l,key:d,node:T,activatorNode:L,data:M}),()=>{const G=y.get(l);G&&G.key===d&&y.delete(l)}),[y,l]);const W=x.useMemo(()=>({role:j,tabIndex:w,"aria-disabled":s,"aria-pressed":C&&j===Wd?!0:void 0,"aria-roledescription":E,"aria-describedby":b.draggable}),[s,j,w,C,E,b.draggable]);return{active:p,activatorEvent:m,activeNodeRect:v,attributes:W,isDragging:C,listeners:s?void 0:P,node:T,over:N,setNodeRef:$,setActivatorNodeRef:A,transform:S}}function Ef(){return x.useContext(Sf)}const om="Droppable",lm={timeout:25};function ol(t){let{data:l,disabled:i=!1,id:s,resizeObserverConfig:c}=t;const d=nl(om),{active:g,dispatch:m,over:p,measureDroppableContainers:v}=x.useContext(rl),b=x.useRef({disabled:i}),y=x.useRef(!1),N=x.useRef(null),j=x.useRef(null),{disabled:E,updateMeasurementsFor:w,timeout:C}={...lm,...c},S=Qo(w??s),T=x.useCallback(()=>{if(!y.current){y.current=!0;return}j.current!=null&&clearTimeout(j.current),j.current=setTimeout(()=>{v(Array.isArray(S.current)?S.current:[S.current]),j.current=null},C)},[C]),$=zi({callback:T,disabled:E||!g}),L=x.useCallback((W,G)=>{$&&(G&&($.unobserve(G),y.current=!1),W&&$.observe(W))},[$]),[A,P]=ji(L),M=Qo(l);return x.useEffect(()=>{!$||!A.current||($.disconnect(),y.current=!1,$.observe(A.current))},[A,$]),x.useEffect(()=>(m({type:tt.RegisterDroppable,element:{id:s,key:d,disabled:i,node:A,rect:N,data:M}}),()=>m({type:tt.UnregisterDroppable,key:d,id:s})),[s]),x.useEffect(()=>{i!==b.current.disabled&&(m({type:tt.SetDroppableDisabled,id:s,key:d,disabled:i}),b.current.disabled=i)},[s,d,i,m]),{active:g,rect:N,isOver:p?.id===s,node:A,over:p,setNodeRef:P}}function im(t){let{animation:l,children:i}=t;const[s,c]=x.useState(null),[d,g]=x.useState(null),m=Ni(i);return!i&&!s&&m&&c(m),xn(()=>{if(!d)return;const p=s?.key,v=s?.props.id;if(p==null||v==null){c(null);return}Promise.resolve(l(v,d)).then(()=>{c(null)})},[l,s,d]),He.createElement(He.Fragment,null,i,s?x.cloneElement(s,{ref:g}):null)}const sm={x:0,y:0,scaleX:1,scaleY:1};function am(t){let{children:l}=t;return He.createElement(rl.Provider,{value:Cf},He.createElement(Mi.Provider,{value:sm},l))}const cm={position:"fixed",touchAction:"none"},um=t=>Pi(t)?"transform 250ms ease":void 0,dm=x.forwardRef((t,l)=>{let{as:i,activatorEvent:s,adjustScale:c,children:d,className:g,rect:m,style:p,transform:v,transition:b=um}=t;if(!m)return null;const y=c?v:{...v,scaleX:1,scaleY:1},N={...cm,width:m.width,height:m.height,top:m.top,left:m.left,transform:Nn.Transform.toString(y),transformOrigin:c&&s?th(s,m):void 0,transition:typeof b=="function"?b(s):b,...p};return He.createElement(i,{className:g,style:N,ref:l},d)}),fm=t=>l=>{let{active:i,dragOverlay:s}=l;const c={},{styles:d,className:g}=t;if(d!=null&&d.active)for(const[m,p]of Object.entries(d.active))p!==void 0&&(c[m]=i.node.style.getPropertyValue(m),i.node.style.setProperty(m,p));if(d!=null&&d.dragOverlay)for(const[m,p]of Object.entries(d.dragOverlay))p!==void 0&&s.node.style.setProperty(m,p);return g!=null&&g.active&&i.node.classList.add(g.active),g!=null&&g.dragOverlay&&s.node.classList.add(g.dragOverlay),function(){for(const[p,v]of Object.entries(c))i.node.style.setProperty(p,v);g!=null&&g.active&&i.node.classList.remove(g.active)}},gm=t=>{let{transform:{initial:l,final:i}}=t;return[{transform:Nn.Transform.toString(l)},{transform:Nn.Transform.toString(i)}]},pm={duration:250,easing:"ease",keyframes:gm,sideEffects:fm({styles:{active:{opacity:"0"}}})};function hm(t){let{config:l,draggableNodes:i,droppableContainers:s,measuringConfiguration:c}=t;return Di((d,g)=>{if(l===null)return;const m=i.get(d);if(!m)return;const p=m.node.current;if(!p)return;const v=kf(g);if(!v)return;const{transform:b}=Nt(g).getComputedStyle(g),y=df(b);if(!y)return;const N=typeof l=="function"?l:mm(l);return yf(p,c.draggable.measure),N({active:{id:d,data:m.data,node:p,rect:c.draggable.measure(p)},draggableNodes:i,dragOverlay:{node:g,rect:c.dragOverlay.measure(v)},droppableContainers:s,measuringConfiguration:c,transform:y})})}function mm(t){const{duration:l,easing:i,sideEffects:s,keyframes:c}={...pm,...t};return d=>{let{active:g,dragOverlay:m,transform:p,...v}=d;if(!l)return;const b={x:m.rect.left-g.rect.left,y:m.rect.top-g.rect.top},y={scaleX:p.scaleX!==1?g.rect.width*p.scaleX/m.rect.width:1,scaleY:p.scaleY!==1?g.rect.height*p.scaleY/m.rect.height:1},N={x:p.x-b.x,y:p.y-b.y,...y},j=c({...v,active:g,dragOverlay:m,transform:{initial:p,final:N}}),[E]=j,w=j[j.length-1];if(JSON.stringify(E)===JSON.stringify(w))return;const C=s?.({active:g,dragOverlay:m,...v}),S=m.node.animate(j,{duration:l,easing:i,fill:"forwards"});return new Promise(T=>{S.onfinish=()=>{C?.(),T()}})}}let Ud=0;function xm(t){return x.useMemo(()=>{if(t!=null)return Ud++,Ud},[t])}const ym=He.memo(t=>{let{adjustScale:l=!1,children:i,dropAnimation:s,style:c,transition:d,modifiers:g,wrapperElement:m="div",className:p,zIndex:v=999}=t;const{activatorEvent:b,active:y,activeNodeRect:N,containerNodeRect:j,draggableNodes:E,droppableContainers:w,dragOverlay:C,over:S,measuringConfiguration:T,scrollableAncestors:$,scrollableAncestorRects:L,windowRect:A}=Ef(),P=x.useContext(Mi),M=xm(y?.id),W=jf(g,{activatorEvent:b,active:y,activeNodeRect:N,containerNodeRect:j,draggingNodeRect:C.rect,over:S,overlayNodeRect:C.rect,scrollableAncestors:$,scrollableAncestorRects:L,transform:P,windowRect:A}),G=Ga(N),U=hm({config:s,draggableNodes:E,droppableContainers:w,measuringConfiguration:T}),X=G?C.setRef:void 0;return He.createElement(am,null,He.createElement(im,{animation:U},y&&M?He.createElement(dm,{key:M,id:y.id,ref:X,as:m,activatorEvent:b,adjustScale:l,className:p,transition:d,rect:G,style:{zIndex:v,...c},transform:W},i):null))});class vm{constructor(){this.filters=new Map,this.actions=new Map,this.debug=!1}setDebug(l){this.debug=l}_log(l,i,...s){this.debug&&console.log(`[LaraHooks] ${l}: ${i}`,...s)}addFilter(l,i,s=10){return typeof i!="function"?(console.error(`[LaraHooks] addFilter: callback must be a function for hook "${l}"`),this):(this.filters.has(l)||this.filters.set(l,[]),this.filters.get(l).push({callback:i,priority:s}),this.filters.get(l).sort((c,d)=>c.priority-d.priority),this._log("Filter added",l,{priority:s}),this)}applyFilters(l,i,...s){const c=this.filters.get(l);return!c||c.length===0?i:(this._log("Applying filters",l,{hookCount:c.length}),c.reduce((d,{callback:g})=>{try{const m=g(d,...s);return m!==void 0?m:d}catch(m){return console.error(`[LaraHooks] Error in filter "${l}":`,m),d}},i))}addAction(l,i,s=10){return typeof i!="function"?(console.error(`[LaraHooks] addAction: callback must be a function for hook "${l}"`),this):(this.actions.has(l)||this.actions.set(l,[]),this.actions.get(l).push({callback:i,priority:s}),this.actions.get(l).sort((c,d)=>c.priority-d.priority),this._log("Action added",l,{priority:s}),this)}doAction(l,...i){const s=this.actions.get(l);!s||s.length===0||(this._log("Executing action",l,{hookCount:s.length}),s.forEach(({callback:c})=>{try{c(...i)}catch(d){console.error(`[LaraHooks] Error in action "${l}":`,d)}}))}removeFilter(l,i){const s=this.filters.get(l);if(s){const c=s.findIndex(d=>d.callback===i);c>-1&&(s.splice(c,1),this._log("Filter removed",l))}return this}removeAction(l,i){const s=this.actions.get(l);if(s){const c=s.findIndex(d=>d.callback===i);c>-1&&(s.splice(c,1),this._log("Action removed",l))}return this}removeAllFilters(l){return this.filters.delete(l),this._log("All filters removed",l),this}removeAllActions(l){return this.actions.delete(l),this._log("All actions removed",l),this}hasHook(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c&&c.length>0}getHookCount(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c?c.length:0}getRegisteredHooks(l="all"){const i=[];return(l==="all"||l==="filter")&&i.push(...Array.from(this.filters.keys()).map(s=>`filter:${s}`)),(l==="all"||l==="action")&&i.push(...Array.from(this.actions.keys()).map(s=>`action:${s}`)),i}reset(){this.filters.clear(),this.actions.clear(),this._log("System reset","all hooks cleared")}}const fe=new vm;typeof window<"u"&&(window.LaraHooks=fe);const ve={FILTER_CONFIG:"builder.config",FILTER_CONFIG_EMAIL:"builder.config.email",FILTER_CONFIG_PAGE:"builder.config.page",FILTER_CONFIG_CAMPAIGN:"builder.config.campaign",FILTER_BLOCKS:"builder.blocks",FILTER_BLOCKS_EMAIL:"builder.blocks.email",FILTER_BLOCKS_PAGE:"builder.blocks.page",FILTER_BLOCKS_CAMPAIGN:"builder.blocks.campaign",FILTER_BLOCK_CATEGORIES:"builder.blocks.categories",FILTER_BLOCK_PROPS:"builder.block.props",FILTER_BLOCK_RENDER:"builder.block.render",FILTER_BLOCK_COMPONENT:"builder.block.component",FILTER_HTML_GENERATED:"builder.html.generated",FILTER_HTML_BLOCK:"builder.html.block",FILTER_HTML_WRAPPER:"builder.html.wrapper",FILTER_PROPERTY_FIELDS:"builder.properties.fields",FILTER_PROPERTY_FIELD:"builder.properties.field",FILTER_CANVAS_SETTINGS:"builder.canvas.settings",FILTER_CANVAS_DEFAULT_SETTINGS:"builder.canvas.defaultSettings",FILTER_HEADER:"builder.ui.header",FILTER_LEFT_PANEL:"builder.ui.panel.left",FILTER_RIGHT_PANEL:"builder.ui.panel.right",FILTER_TOOLBAR:"builder.ui.toolbar",FILTER_BLOCK_TOOLBAR:"builder.ui.blockToolbar",FILTER_MORE_TEXT_CONTROLS:"builder.ui.moreTextControls",FILTER_INITIAL_STATE:"builder.state.initial",FILTER_STATE_BEFORE_SAVE:"builder.state.beforeSave",FILTER_STATE_AFTER_LOAD:"builder.state.afterLoad",FILTER_SAVE_DATA:"builder.data.save",FILTER_LOAD_DATA:"builder.data.load",ACTION_INIT:"builder.init",ACTION_READY:"builder.ready",ACTION_DESTROY:"builder.destroy",ACTION_BEFORE_SAVE:"builder.save.before",ACTION_AFTER_SAVE:"builder.save.after",ACTION_SAVE_ERROR:"builder.save.error",ACTION_BLOCK_REGISTERED:"builder.block.registered",ACTION_BLOCK_UNREGISTERED:"builder.block.unregistered",ACTION_BLOCK_ADDED:"builder.block.added",ACTION_BLOCK_REMOVED:"builder.block.removed",ACTION_BLOCK_UPDATED:"builder.block.updated",ACTION_BLOCK_MOVED:"builder.block.moved",ACTION_BLOCK_DUPLICATED:"builder.block.duplicated",ACTION_BLOCK_SELECTED:"builder.block.selected",ACTION_BLOCK_DESELECTED:"builder.block.deselected",ACTION_UNDO:"builder.history.undo",ACTION_REDO:"builder.history.redo",ACTION_HISTORY_CHANGED:"builder.history.changed",ACTION_CANVAS_SETTINGS_CHANGED:"builder.canvas.settingsChanged",ACTION_HTML_BEFORE_GENERATE:"builder.html.beforeGenerate",ACTION_HTML_AFTER_GENERATE:"builder.html.afterGenerate",ACTION_DRAG_START:"builder.dnd.dragStart",ACTION_DRAG_END:"builder.dnd.dragEnd",ACTION_DROP:"builder.dnd.drop",ACTION_IMAGE_UPLOADED:"builder.media.imageUploaded",ACTION_VIDEO_UPLOADED:"builder.media.videoUploaded",ACTION_KEYBOARD_SHORTCUT:"builder.keyboard.shortcut"};function _a(t,l){return`${t}.${l}`}const Vd=50,xe={SET_BLOCKS:"SET_BLOCKS",ADD_BLOCK:"ADD_BLOCK",UPDATE_BLOCK:"UPDATE_BLOCK",DELETE_BLOCK:"DELETE_BLOCK",MOVE_BLOCK:"MOVE_BLOCK",DUPLICATE_BLOCK:"DUPLICATE_BLOCK",ADD_NESTED_BLOCK:"ADD_NESTED_BLOCK",UPDATE_NESTED_BLOCK:"UPDATE_NESTED_BLOCK",DELETE_NESTED_BLOCK:"DELETE_NESTED_BLOCK",MOVE_NESTED_BLOCK:"MOVE_NESTED_BLOCK",SELECT_BLOCK:"SELECT_BLOCK",DESELECT_ALL:"DESELECT_ALL",UPDATE_CANVAS_SETTINGS:"UPDATE_CANVAS_SETTINGS",UNDO:"UNDO",REDO:"REDO",CLEAR_HISTORY:"CLEAR_HISTORY",SET_DIRTY:"SET_DIRTY",MARK_SAVED:"MARK_SAVED",RESET_STATE:"RESET_STATE",LOAD_STATE:"LOAD_STATE"},$f={blocks:[],selectedBlockId:null,canvasSettings:{},past:[],future:[],isDirty:!1,context:"email",config:{}};function Er(t){return JSON.parse(JSON.stringify(t))}function Ko(){return`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Tf(){return{id:Ko(),type:"text",props:{content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"}}}function Da(t,l){if(!Array.isArray(t))return null;for(const i of t)if(Array.isArray(i)){const s=Da(i,l);if(s)return s}else if(i&&typeof i=="object"&&i.type){if(i.id===l)return i;if(Array.isArray(i.props?.children)){const s=Da(i.props.children,l);if(s)return s}}return null}function Li(t,l,i){return Array.isArray(t)?t.map(s=>{if(Array.isArray(s))return Li(s,l,i);if(s&&typeof s=="object"&&s.type){if(s.id===l)return{...s,props:{...s.props,...i}};if(Array.isArray(s.props?.children))return{...s,props:{...s.props,children:Li(s.props.children,l,i)}}}return s}):t}function Pa(t,l){return Array.isArray(t)?t.filter(i=>Array.isArray(i)?!0:i&&typeof i=="object"&&i.type?i.id!==l:!0).map(i=>Array.isArray(i)?Pa(i,l):i&&typeof i=="object"&&i.type&&Array.isArray(i.props?.children)?{...i,props:{...i.props,children:Pa(i.props.children,l)}}:i):t}function Kd(t,l,i){const s=[...t];return s.splice(i,0,l),s}function bm(t,l,i){const s=[...t],[c]=s.splice(l,1);return s.splice(i,0,c),s}function wm(t,l){const i=[...t,{blocks:Er(l.blocks),canvasSettings:Er(l.canvasSettings),selectedBlockId:l.selectedBlockId}];return i.length>Vd?i.slice(-Vd):i}function km(t){return[xe.SET_BLOCKS,xe.ADD_BLOCK,xe.UPDATE_BLOCK,xe.DELETE_BLOCK,xe.MOVE_BLOCK,xe.DUPLICATE_BLOCK,xe.ADD_NESTED_BLOCK,xe.UPDATE_NESTED_BLOCK,xe.DELETE_NESTED_BLOCK,xe.MOVE_NESTED_BLOCK,xe.UPDATE_CANVAS_SETTINGS].includes(t.type)}function Cm(t,l){l=fe.applyFilters("builder.action.before",l,t);let i=t;const c=km(l)?wm(t.past,t):t.past;switch(l.type){case xe.SET_BLOCKS:i={...t,blocks:l.payload,past:c,future:[],isDirty:!0};break;case xe.ADD_BLOCK:{const{block:d,index:g=t.blocks.length}=l.payload,m={...d,id:d.id||Ko()};i={...t,blocks:Kd(t.blocks,m,g),selectedBlockId:m.id,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_ADDED,m,t.context);break}case xe.UPDATE_BLOCK:{const{id:d,props:g}=l.payload;i={...t,blocks:Li(t.blocks,d,g),past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_UPDATED,d,g,t.context);break}case xe.DELETE_BLOCK:{const{id:d}=l.payload;let g=Pa(t.blocks,d),m=t.selectedBlockId;if(g.length===0){const p=Tf();g=[p],m=p.id}else if(t.selectedBlockId===d){const p=t.blocks.findIndex(v=>v.id===d);p!==-1?p>0?m=t.blocks[p-1].id:t.blocks.length>1?m=t.blocks[p+1].id:m=g[0]?.id||null:m=g[0]?.id||null}i={...t,blocks:g,selectedBlockId:m,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_REMOVED,d,t.context);break}case xe.MOVE_BLOCK:{const{fromIndex:d,toIndex:g}=l.payload;i={...t,blocks:bm(t.blocks,d,g),past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_MOVED,d,g,t.context);break}case xe.DUPLICATE_BLOCK:{const{id:d}=l.payload,g=Da(t.blocks,d);if(g){const m=Er(g);m.id=Ko();const p=b=>Array.isArray(b)?b.map(y=>{if(Array.isArray(y))return p(y);if(y&&typeof y=="object"&&y.type){const N={...y,id:Ko()};return Array.isArray(y.props?.children)&&(N.props={...y.props,children:p(y.props.children)}),N}return y}):b;m.props?.children&&(m.props.children=p(m.props.children));const v=t.blocks.findIndex(b=>b.id===d);i={...t,blocks:Kd(t.blocks,m,v+1),selectedBlockId:m.id,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_DUPLICATED,m,t.context)}break}case xe.ADD_NESTED_BLOCK:{const{parentId:d,columnIndex:g,block:m,index:p}=l.payload,v={...m,id:m.id||Ko()},b=t.blocks.map(y=>{if(y.id===d&&y.props?.children){const N=[...y.props.children],j=[...N[g]];return j.splice(p??j.length,0,v),N[g]=j,{...y,props:{...y.props,children:N}}}return y});i={...t,blocks:b,selectedBlockId:v.id,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_ADDED,v,t.context);break}case xe.UPDATE_NESTED_BLOCK:{const{id:d,props:g}=l.payload;i={...t,blocks:Li(t.blocks,d,g),past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_UPDATED,d,g,t.context);break}case xe.DELETE_NESTED_BLOCK:{const{parentId:d,columnIndex:g,blockId:m}=l.payload;let p=t.selectedBlockId;if(t.selectedBlockId===m){const b=t.blocks.find(y=>y.id===d);if(b?.props?.children?.[g]){const y=b.props.children[g],N=y.findIndex(j=>j.id===m);N!==-1?N>0?p=y[N-1].id:y.length>1?p=y[N+1].id:p=d:p=d}else p=null}const v=t.blocks.map(b=>{if(b.id===d&&b.props?.children){const y=[...b.props.children];return y[g]=y[g].filter(N=>N.id!==m),{...b,props:{...b.props,children:y}}}return b});i={...t,blocks:v,selectedBlockId:p,past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_BLOCK_REMOVED,m,t.context);break}case xe.MOVE_NESTED_BLOCK:{const{parentId:d,fromColumn:g,fromIndex:m,toColumn:p,toIndex:v}=l.payload,b=t.blocks.map(y=>{if(y.id===d&&y.props?.children){const N=y.props.children.map(E=>[...E]),[j]=N[g].splice(m,1);return N[p].splice(v,0,j),{...y,props:{...y.props,children:N}}}return y});i={...t,blocks:b,past:c,future:[],isDirty:!0};break}case xe.SELECT_BLOCK:i={...t,selectedBlockId:l.payload},fe.doAction(ve.ACTION_BLOCK_SELECTED,l.payload,t.context);break;case xe.DESELECT_ALL:t.selectedBlockId&&fe.doAction(ve.ACTION_BLOCK_DESELECTED,t.selectedBlockId,t.context),i={...t,selectedBlockId:null};break;case xe.UPDATE_CANVAS_SETTINGS:i={...t,canvasSettings:{...t.canvasSettings,...l.payload},past:c,future:[],isDirty:!0},fe.doAction(ve.ACTION_CANVAS_SETTINGS_CHANGED,i.canvasSettings,t.context);break;case xe.UNDO:{if(t.past.length===0)break;const d=t.past[t.past.length-1],g=t.past.slice(0,-1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:g,future:[{blocks:Er(t.blocks),canvasSettings:Er(t.canvasSettings),selectedBlockId:t.selectedBlockId},...t.future],isDirty:!0},fe.doAction(ve.ACTION_UNDO,i,t.context),fe.doAction(ve.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case xe.REDO:{if(t.future.length===0)break;const d=t.future[0],g=t.future.slice(1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:[...t.past,{blocks:Er(t.blocks),canvasSettings:Er(t.canvasSettings),selectedBlockId:t.selectedBlockId}],future:g,isDirty:!0},fe.doAction(ve.ACTION_REDO,i,t.context),fe.doAction(ve.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case xe.CLEAR_HISTORY:i={...t,past:[],future:[]};break;case xe.SET_DIRTY:i={...t,isDirty:l.payload};break;case xe.MARK_SAVED:i={...t,isDirty:!1};break;case xe.RESET_STATE:i={...$f,context:t.context,config:t.config};break;case xe.LOAD_STATE:{const{blocks:d,canvasSettings:g}=l.payload;i={...t,blocks:d||[],canvasSettings:g||{},past:[],future:[],isDirty:!1,selectedBlockId:null},i=fe.applyFilters(ve.FILTER_STATE_AFTER_LOAD,i,t.context);break}}return i=fe.applyFilters("builder.state.after",i,l),i}const Ke={setBlocks:t=>({type:xe.SET_BLOCKS,payload:t}),addBlock:(t,l)=>({type:xe.ADD_BLOCK,payload:{block:t,index:l}}),updateBlock:(t,l)=>({type:xe.UPDATE_BLOCK,payload:{id:t,props:l}}),deleteBlock:t=>({type:xe.DELETE_BLOCK,payload:{id:t}}),moveBlock:(t,l)=>({type:xe.MOVE_BLOCK,payload:{fromIndex:t,toIndex:l}}),duplicateBlock:t=>({type:xe.DUPLICATE_BLOCK,payload:{id:t}}),addNestedBlock:(t,l,i,s)=>({type:xe.ADD_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,block:i,index:s}}),updateNestedBlock:(t,l)=>({type:xe.UPDATE_NESTED_BLOCK,payload:{id:t,props:l}}),deleteNestedBlock:(t,l,i)=>({type:xe.DELETE_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,blockId:i}}),moveNestedBlock:(t,l,i,s,c)=>({type:xe.MOVE_NESTED_BLOCK,payload:{parentId:t,fromColumn:l,fromIndex:i,toColumn:s,toIndex:c}}),selectBlock:t=>({type:xe.SELECT_BLOCK,payload:t}),deselectAll:()=>({type:xe.DESELECT_ALL}),updateCanvasSettings:t=>({type:xe.UPDATE_CANVAS_SETTINGS,payload:t}),undo:()=>({type:xe.UNDO}),redo:()=>({type:xe.REDO}),clearHistory:()=>({type:xe.CLEAR_HISTORY}),setDirty:t=>({type:xe.SET_DIRTY,payload:t}),markSaved:()=>({type:xe.MARK_SAVED}),resetState:()=>({type:xe.RESET_STATE}),loadState:(t,l)=>({type:xe.LOAD_STATE,payload:{blocks:t,canvasSettings:l}})};class Sm{constructor(){this.adapters=new Map,this.defaultAdapter=null}register(l,i){return i?(this.adapters.set(l,i),this.defaultAdapter||(this.defaultAdapter=l),this):(console.error(`[OutputAdapterRegistry] Adapter is required for context: ${l}`),this)}get(l){return this.adapters.has(l)?this.adapters.get(l):this.defaultAdapter?this.adapters.get(this.defaultAdapter):null}has(l){return this.adapters.has(l)}getContexts(){return Array.from(this.adapters.keys())}setDefault(l){return this.adapters.has(l)?this.defaultAdapter=l:console.warn(`[OutputAdapterRegistry] Context not found: ${l}`),this}generateHtml(l,i,s={}){const c=this.get(l);if(!c)return console.error(`[OutputAdapterRegistry] No adapter found for context: ${l}`),"";fe.doAction(ve.ACTION_HTML_BEFORE_GENERATE,i,s,l);let d=c.generateHtml(i,s);return d=fe.applyFilters(ve.FILTER_HTML_GENERATED,d,i,s,l),fe.doAction(ve.ACTION_HTML_AFTER_GENERATE,d,i,s,l),d}getDefaultSettings(l){const i=this.get(l);if(!i)return{};let s=i.getDefaultSettings();return s=fe.applyFilters(ve.FILTER_CANVAS_DEFAULT_SETTINGS,s,l),s}unregister(l){return this.adapters.delete(l),this.defaultAdapter===l&&(this.defaultAdapter=this.adapters.keys().next().value||null),this}reset(){this.adapters.clear(),this.defaultAdapter=null}}const oo=new Sm;typeof window<"u"&&(window.LaraBuilderOutputAdapterRegistry=oo);const Rf=x.createContext(null);function jm({children:t,context:l="post",config:i={},initialData:s=null,onStateChange:c=null}){const d=x.useMemo(()=>oo.getDefaultSettings(l),[l]),g=x.useMemo(()=>{const $=s?.blocks?.length>0?s.blocks:[Tf()],L=$[0]?.id||null;let A={...$f,context:l,config:i,canvasSettings:{...d,...s?.canvasSettings},blocks:$,selectedBlockId:L};return A=fe.applyFilters(ve.FILTER_INITIAL_STATE,A,l),A},[l,i,s,d]),[m,p]=x.useReducer(Cm,g);x.useEffect(()=>{c&&c(m)},[m,c]),x.useEffect(()=>(fe.doAction(ve.ACTION_INIT,m,l),()=>{fe.doAction(ve.ACTION_DESTROY,m,l)}),[l]);const v=x.useMemo(()=>({setBlocks:$=>p(Ke.setBlocks($)),addBlock:($,L)=>p(Ke.addBlock($,L)),updateBlock:($,L)=>p(Ke.updateBlock($,L)),deleteBlock:$=>p(Ke.deleteBlock($)),moveBlock:($,L)=>p(Ke.moveBlock($,L)),duplicateBlock:$=>p(Ke.duplicateBlock($)),addNestedBlock:($,L,A,P)=>p(Ke.addNestedBlock($,L,A,P)),updateNestedBlock:($,L)=>p(Ke.updateNestedBlock($,L)),deleteNestedBlock:($,L,A)=>p(Ke.deleteNestedBlock($,L,A)),moveNestedBlock:($,L,A,P,M)=>p(Ke.moveNestedBlock($,L,A,P,M)),selectBlock:$=>p(Ke.selectBlock($)),deselectAll:()=>p(Ke.deselectAll()),updateCanvasSettings:$=>p(Ke.updateCanvasSettings($)),undo:()=>p(Ke.undo()),redo:()=>p(Ke.redo()),clearHistory:()=>p(Ke.clearHistory()),setDirty:$=>p(Ke.setDirty($)),markSaved:()=>p(Ke.markSaved()),resetState:()=>p(Ke.resetState()),loadState:($,L)=>p(Ke.loadState($,L))}),[p]),b=m.past.length>0,y=m.future.length>0,N=x.useCallback(()=>{b&&p(Ke.undo())},[b]),j=x.useCallback(()=>{y&&p(Ke.redo())},[y]),E=x.useCallback(()=>oo.generateHtml(l,m.blocks,m.canvasSettings),[l,m.blocks,m.canvasSettings]),w=x.useCallback(()=>{if(!m.selectedBlockId)return null;for(const $ of m.blocks){if($.id===m.selectedBlockId)return $;if($.props?.children)for(const L of $.props.children){const A=L.find(P=>P.id===m.selectedBlockId);if(A)return A}}return null},[m.blocks,m.selectedBlockId]),C=x.useCallback($=>{const L=A=>{for(const P of A){if(P.id===$)return P;if(P.props?.children)for(const M of P.props.children){const W=L(M);if(W)return W}}return null};return L(m.blocks)},[m.blocks]),S=x.useCallback(()=>{let $={blocks:m.blocks,canvasSettings:m.canvasSettings,version:1};return $=fe.applyFilters(ve.FILTER_STATE_BEFORE_SAVE,$,l),$},[m.blocks,m.canvasSettings,l]),T=x.useMemo(()=>({state:m,dispatch:p,actions:v,canUndo:b,canRedo:y,undo:N,redo:j,historyLength:m.past.length,futureLength:m.future.length,getHtml:E,getSelectedBlock:w,findBlockById:C,getSaveData:S,context:l,config:i}),[m,p,v,b,y,N,j,E,w,C,S,l,i]);return r.jsx(Rf.Provider,{value:T,children:t})}function Oi(){const t=x.useContext(Rf);if(!t)throw new Error("useBuilder must be used within a BuilderProvider");return t}function Nm(t={}){const{enableKeyboardShortcuts:l=!0,preventDefault:i=!0}=t,{canUndo:s,canRedo:c,undo:d,redo:g,historyLength:m,futureLength:p,state:v}=Oi(),b=x.useCallback(y=>{if(y.metaKey||y.ctrlKey){if(y.key==="z"&&!y.shiftKey){s&&(i&&y.preventDefault(),d(),fe.doAction(ve.ACTION_KEYBOARD_SHORTCUT,"undo",y));return}if(y.key==="z"&&y.shiftKey){c&&(i&&y.preventDefault(),g(),fe.doAction(ve.ACTION_KEYBOARD_SHORTCUT,"redo",y));return}if(y.key==="y"){c&&(i&&y.preventDefault(),g(),fe.doAction(ve.ACTION_KEYBOARD_SHORTCUT,"redo",y));return}}},[s,c,d,g,i]);return x.useEffect(()=>{if(l)return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[l,b]),{canUndo:s,canRedo:c,historyLength:m,futureLength:p,undo:d,redo:g,isAtStart:m===0,isAtEnd:p===0,totalHistory:m+p}}class Em{constructor(){this.blocks=new Map,this.categories=new Map,this.components=new Map,this.initialized=!1}register(l){if(!l.type)return console.error("[BlockRegistry] Block type is required"),this;if(!l.label)return console.error(`[BlockRegistry] Block label is required for type: ${l.type}`),this;const i={type:l.type,label:l.label,category:l.category||"Content",icon:l.icon||"lucide:box",contexts:l.contexts||["*"],defaultProps:l.defaultProps||{},block:l.block||null,editor:l.editor||null,fields:l.fields||[],save:l.save||{},validate:l.validate||(()=>!0),transform:l.transform||null,description:l.description||"",keywords:l.keywords||[],supports:{align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,...l.supports}};this.blocks.set(l.type,i),this.categories.has(i.category)||this.categories.set(i.category,[]);const s=this.categories.get(i.category),c=s.findIndex(d=>d.type===i.type);return c>-1?s[c]=i:s.push(i),i.block&&this.components.set(l.type,i.block),fe.doAction(ve.ACTION_BLOCK_REGISTERED,i),this}registerMany(l){return l.forEach(i=>this.register(i)),this}unregister(l){const i=this.blocks.get(l);if(i){this.blocks.delete(l),this.components.delete(l);const s=this.categories.get(i.category);if(s){const c=s.findIndex(d=>d.type===l);c>-1&&s.splice(c,1)}fe.doAction(ve.ACTION_BLOCK_UNREGISTERED,l)}return this}get(l){return this.blocks.get(l)}has(l){return this.blocks.has(l)}getAll(){return Array.from(this.blocks.values())}getBlocksForContext(l){let i=Array.from(this.blocks.values()).filter(s=>s.contexts.includes("*")||s.contexts.includes(l));return i=fe.applyFilters(`${ve.FILTER_BLOCKS}.${l}`,i,l),i=fe.applyFilters(ve.FILTER_BLOCKS,i,l),i}getByCategory(l=null){const i=l?this.getBlocksForContext(l):this.getAll(),s={};return i.forEach(c=>{s[c.category]||(s[c.category]=[]),s[c.category].push(c)}),fe.applyFilters(ve.FILTER_BLOCK_CATEGORIES,s,l)}getCategories(){return Array.from(this.categories.keys())}getComponent(l){return this.components.get(l)||null}setComponent(l,i){this.components.set(l,i);const s=this.blocks.get(l);s&&(s.block=i)}search(l,i=null){const s=l.toLowerCase();return(i?this.getBlocksForContext(i):this.getAll()).filter(d=>!!(d.label.toLowerCase().includes(s)||d.type.toLowerCase().includes(s)||d.category.toLowerCase().includes(s)||d.keywords.some(g=>g.toLowerCase().includes(s))||d.description.toLowerCase().includes(s)))}createInstance(l,i={}){const s=this.blocks.get(l);return s?{id:this._generateId(),type:s.type,props:{...JSON.parse(JSON.stringify(s.defaultProps)),...i}}:(console.error(`[BlockRegistry] Block type not found: ${l}`),null)}validate(l,i){const s=this.blocks.get(l);if(!s)return!1;try{return s.validate(i)}catch(c){return console.error(`[BlockRegistry] Validation error for ${l}:`,c),!1}}getDefaultProps(l){const i=this.blocks.get(l);return i?{...i.defaultProps}:{}}supports(l,i){return this.blocks.get(l)?.supports?.[i]??!1}getHtmlGenerator(l,i){const s=this.blocks.get(l);return s?s.save[i]?s.save[i]:s.save["*"]?s.save["*"]:null:null}_generateId(){return`block-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}reset(){this.blocks.clear(),this.categories.clear(),this.components.clear(),this.initialized=!1}toJSON(){return{blocks:Array.from(this.blocks.entries()),categories:Array.from(this.categories.entries())}}}const Ge=new Em;typeof window<"u"&&(window.LaraBuilderBlockRegistry=Ge);function $m(){const{state:t,actions:l,context:i}=Oi(),{blocks:s,selectedBlockId:c}=t,d=x.useMemo(()=>{if(!c)return null;const C=S=>{if(!Array.isArray(S))return null;for(const T of S)if(Array.isArray(T)){const $=C(T);if($)return $}else if(T&&typeof T=="object"&&T.type){if(T.id===c)return T;if(Array.isArray(T.props?.children)){const $=C(T.props.children);if($)return $}}return null};return C(s)},[s,c]),g=x.useCallback((C,S,T={})=>{const $=Ge.createInstance(C,T);return $?(l.addBlock($,S),$):null},[l]),m=x.useCallback((C,S={})=>{const T=s.findIndex(L=>L.id===c),$=T>-1?T+1:s.length;return g(C,$,S)},[s,c,g]),p=x.useCallback(C=>s.findIndex(S=>S.id===C),[s]),v=x.useCallback(C=>p(C)>0,[p]),b=x.useCallback(C=>{const S=p(C);return S>-1&&S<s.length-1},[s.length,p]),y=x.useCallback(C=>{const S=p(C);S>0&&l.moveBlock(S,S-1)},[p,l]),N=x.useCallback(C=>{const S=p(C);S>-1&&S<s.length-1&&l.moveBlock(S,S+1)},[s.length,p,l]),j=x.useCallback(C=>s.filter(S=>S.type===C),[s]),E=s.length>0,w=x.useMemo(()=>{let C=0;const S=T=>{if(Array.isArray(T))for(const $ of T)Array.isArray($)?S($):$&&typeof $=="object"&&$.type&&(C++,Array.isArray($.props?.children)&&S($.props.children))};return S(s),C},[s]);return{blocks:s,selectedBlockId:c,selectedBlock:d,hasBlocks:E,totalBlockCount:w,addBlock:l.addBlock,updateBlock:l.updateBlock,deleteBlock:l.deleteBlock,moveBlock:l.moveBlock,duplicateBlock:l.duplicateBlock,selectBlock:l.selectBlock,deselectAll:l.deselectAll,addBlockByType:g,addBlockAfterSelected:m,canMoveUp:v,canMoveDown:b,moveBlockUp:y,moveBlockDown:N,getBlockIndex:p,getBlocksByType:j,context:i}}function Tm({templateData:t,isEmailContext:l}){const[i,s]=x.useState(t?.name||""),[c,d]=x.useState(t?.subject||""),[g,m]=x.useState(t?.is_active!==void 0?t.is_active:!0),p=x.useRef({name:t?.name||"",subject:t?.subject||"",is_active:t?.is_active!==void 0?t.is_active:!0}),[v,b]=x.useState(!1);return x.useEffect(()=>{if(!l){b(!1);return}const N=i!==p.current.name||c!==p.current.subject||g!==p.current.is_active;b(N)},[i,c,g,l]),{templateName:i,templateSubject:c,templateStatus:g,templateDirty:v,setTemplateName:s,setTemplateSubject:d,setTemplateStatus:m,markEmailSaved:()=>{p.current={name:i,subject:c,is_active:g},b(!1)}}}function Rm({postData:t,initialSelectedTerms:l,isPostContext:i}){const[s,c]=x.useState(t?.title||""),[d,g]=x.useState(t?.slug||""),[m,p]=x.useState(t?.status||"draft"),[v,b]=x.useState(t?.excerpt||""),[y,N]=x.useState(t?.published_at||""),[j,E]=x.useState(String(t?.parent_id||"")),[w,C]=x.useState(l||{}),[S,T]=x.useState(t?.featured_image_url||""),[$,L]=x.useState(!1),[A,P]=x.useState(()=>({title:t?.title||"",slug:t?.slug||"",status:t?.status||"draft",excerpt:t?.excerpt||"",publishedAt:t?.published_at||"",parentId:String(t?.parent_id||""),featuredImage:t?.featured_image_url||""})),M=x.useMemo(()=>i?s!==A.title||d!==A.slug||m!==A.status||v!==A.excerpt||y!==A.publishedAt||j!==A.parentId||S!==A.featuredImage||$:!1,[i,s,d,m,v,y,j,S,$,A]),W=x.useCallback(()=>{const U=s.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();g(U)},[s]);return{title:s,slug:d,status:m,excerpt:v,publishedAt:y,parentId:j,selectedTerms:w,featuredImage:S,removeFeaturedImage:$,postDirty:M,setTitle:c,setSlug:g,setStatus:p,setExcerpt:b,setPublishedAt:N,setParentId:E,setSelectedTerms:C,setFeaturedImage:T,setRemoveFeaturedImage:L,generateSlug:W,markPostSaved:()=>{P({title:s,slug:d,status:m,excerpt:v,publishedAt:y,parentId:j,featuredImage:S}),L(!1)}}}function Lm({blocks:t,actions:l,addBlockAfterSelected:i}){const s=x.useCallback(w=>{const C=t.find(S=>S.id===w);if(C)return C;for(const S of t)if(S.type==="columns"&&S.props.children)for(const T of S.props.children){const $=T.find(L=>L.id===w);if($)return $}return null},[t]),c=x.useCallback(w=>{let C=t.findIndex(S=>S.id===w);if(C!==-1)return{isNested:!1,parentBlockId:null,columnIndex:null,blockIndex:C};for(const S of t)if(S.type==="columns"&&S.props.children)for(let T=0;T<S.props.children.length;T++){const L=S.props.children[T].findIndex(A=>A.id===w);if(L!==-1)return{isNested:!0,parentBlockId:S.id,columnIndex:T,blockIndex:L}}return null},[t]),d=x.useCallback((w,C)=>{l.updateBlock(w,C)},[l]),g=x.useCallback(w=>{l.deleteBlock(w)},[l]),m=x.useCallback((w,C,S)=>{l.deleteNestedBlock(C,S,w)},[l]),p=x.useCallback((w,C)=>{const S=t.findIndex($=>$.id===w);if(S===-1)return;const T=C==="up"?S-1:S+1;T<0||T>=t.length||l.moveBlock(S,T)},[t,l]),v=x.useCallback((w,C,S,T)=>{const $=t.find(M=>M.id===C);if(!$?.props?.children?.[S])return;const L=$.props.children[S],A=L.findIndex(M=>M.id===w);if(A===-1)return;const P=T==="up"?A-1:A+1;P<0||P>=L.length||l.moveNestedBlock(C,S,A,S,P)},[t,l]),b=x.useCallback(w=>{l.duplicateBlock(w)},[l]),y=x.useCallback((w,C,S)=>{const T=t.find(P=>P.id===C);if(!T?.props?.children?.[S])return;const $=T.props.children[S],L=$.find(P=>P.id===w);if(!L)return;const A=Ge.createInstance(L.type,L.props);if(A){const P=$.findIndex(M=>M.id===w);l.addNestedBlock(C,S,A,P+1)}},[t,l]),N=x.useCallback(w=>{i(w)},[i]),j=x.useCallback((w,C)=>{const S=Ge.createInstance(C);if(!S)return;const T=t.findIndex($=>$.id===w);if(T!==-1){l.addBlock(S,T+1),l.selectBlock(S.id);return}for(const $ of t)if($.type==="columns"&&$.props.children)for(let L=0;L<$.props.children.length;L++){const P=$.props.children[L].findIndex(M=>M.id===w);if(P!==-1){l.addNestedBlock($.id,L,S,P+1),l.selectBlock(S.id);return}}},[t,l]),E=x.useCallback((w,C)=>{const S=Ge.createInstance(C);if(!S)return;const T=t.findIndex($=>$.id===w);if(T!==-1){l.deleteBlock(w),setTimeout(()=>{l.addBlock(S,T),l.selectBlock(S.id)},0);return}for(const $ of t)if($.type==="columns"&&$.props.children)for(let L=0;L<$.props.children.length;L++){const P=$.props.children[L].findIndex(M=>M.id===w);if(P!==-1){l.deleteNestedBlock($.id,L,w),setTimeout(()=>{l.addNestedBlock($.id,L,S,P),l.selectBlock(S.id)},0);return}}},[t,l]);return{findBlock:s,findBlockLocation:c,handleUpdateBlock:d,handleDeleteBlock:g,handleDeleteNestedBlock:m,handleMoveBlock:p,handleMoveNestedBlock:v,handleDuplicateBlock:b,handleDuplicateNestedBlock:y,handleAddBlock:N,handleInsertBlockAfter:j,handleReplaceBlock:E}}function Am({blocks:t,actions:l}){const[i,s]=x.useState(null),c=x.useCallback(m=>{s(m.active.id),fe.doAction(ve.ACTION_DRAG_START,m)},[]),d=x.useCallback(m=>{const{active:p,over:v}=m;if(s(null),fe.doAction(ve.ACTION_DRAG_END,m),!v)return;const b=v.id,y=v.data.current;if(p.data.current?.type==="palette"){const N=p.data.current.blockType;if(N==="columns"&&y?.type==="column")return;const j=Ge.createInstance(N);if(!j)return;if(y?.type==="column"){const{parentId:E,columnIndex:w}=y;l.addNestedBlock(E,w,j);return}if(b==="canvas")l.addBlock(j);else if(b.toString().startsWith("dropzone-")){const E=parseInt(b.toString().replace("dropzone-",""),10);l.addBlock(j,E)}else{const E=t.findIndex(w=>w.id===b);E!==-1?l.addBlock(j,E):l.addBlock(j)}fe.doAction(ve.ACTION_DROP,j,m);return}if(p.data.current?.type==="nested"){const{parentId:N,columnIndex:j}=p.data.current;if(p.id!==v.id&&y?.type==="nested"){const{parentId:E,columnIndex:w}=y;if(N===E&&j===w){const C=t.find($=>$.id===N)?.props?.children?.[j]||[],S=C.findIndex($=>$.id===p.id),T=C.findIndex($=>$.id===v.id);S!==-1&&T!==-1&&l.moveNestedBlock(N,j,S,j,T);return}}y?.type}if(p.id!==v.id){const N=t.findIndex(E=>E.id===p.id),j=t.findIndex(E=>E.id===v.id);N!==-1&&j!==-1&&l.moveBlock(N,j)}},[t,l]),g=x.useCallback(m=>{const p=ch(m);if(p.length>0){const v=p.find(y=>y.data?.droppableContainer?.data?.current?.type==="nested");if(v)return[v];const b=p.find(y=>y.id.toString().startsWith("column-"));return b?[b]:[p[0]]}return lh(m)},[]);return{activeId:i,handleDragStart:c,handleDragEnd:d,customCollisionDetection:g}}let Jo={};function Bm(t=null){t?Jo=t:typeof window<"u"&&(Jo=window.__translations||window.LaraBuilderTranslations||{})}function Lf(t){return Jo[t]??t}function Xa(t,l){return typeof t!="string"||Object.keys(l).length===0||Object.entries(l).forEach(([i,s])=>{t=t.replace(new RegExp(`:${i}`,"gi"),String(s))}),t}function f(t,l={}){const i=Lf(t);return Xa(i,l)}function Im(t,l,i,s={}){const d=Lf(i===1?t:l);return Xa(d,{count:i,...s})}function _m(t,l,i={}){const s=`${t}|${l}`,c=Jo[s]??Jo[t]??t;return Xa(c,i)}function Dm(t,...l){if(typeof t!="string")return t;let i=0;return t.replace(/%(%|s|d|f|\.\d+f)/g,s=>{if(s==="%%")return"%";const c=l[i++];if(c===void 0)return s;if(s==="%s")return String(c);if(s==="%d")return parseInt(c,10).toString();if(s==="%f")return parseFloat(c).toString();const d=s.match(/^%\.(\d+)f$/);return d?parseFloat(c).toFixed(parseInt(d[1],10)):s})}typeof window<"u"&&(Bm(),window.__=window.__||f,window._n=window._n||Im,window._x=window._x||_m,window.sprintf=window.sprintf||Dm);function Af(t,l,i){const s=t.slice();return s.splice(i<0?s.length+i:i,0,s.splice(l,1)[0]),s}function Pm(t,l){return t.reduce((i,s,c)=>{const d=l.get(s);return d&&(i[c]=d),i},Array(t.length))}function hi(t){return t!==null&&t>=0}function zm(t,l){if(t===l)return!0;if(t.length!==l.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==l[i])return!1;return!0}function Mm(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Bf=t=>{let{rects:l,activeIndex:i,overIndex:s,index:c}=t;const d=Af(l,s,i),g=l[c],m=d[c];return!m||!g?null:{x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height}},mi={scaleX:1,scaleY:1},Ya=t=>{var l;let{activeIndex:i,activeNodeRect:s,index:c,rects:d,overIndex:g}=t;const m=(l=d[i])!=null?l:s;if(!m)return null;if(c===i){const v=d[g];return v?{x:0,y:i<g?v.top+v.height-(m.top+m.height):v.top-m.top,...mi}:null}const p=Om(d,c,i);return c>i&&c<=g?{x:0,y:-m.height-p,...mi}:c<i&&c>=g?{x:0,y:m.height+p,...mi}:{x:0,y:0,...mi}};function Om(t,l,i){const s=t[l],c=t[l-1],d=t[l+1];return s?i<l?c?s.top-(c.top+c.height):d?d.top-(s.top+s.height):0:d?d.top-(s.top+s.height):c?s.top-(c.top+c.height):0:0}const If="Sortable",_f=He.createContext({activeIndex:-1,containerId:If,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bf,disabled:{draggable:!1,droppable:!1}});function Qa(t){let{children:l,id:i,items:s,strategy:c=Bf,disabled:d=!1}=t;const{active:g,dragOverlay:m,droppableRects:p,over:v,measureDroppableContainers:b}=Ef(),y=nl(If,i),N=m.rect!==null,j=x.useMemo(()=>s.map(P=>typeof P=="object"&&"id"in P?P.id:P),[s]),E=g!=null,w=g?j.indexOf(g.id):-1,C=v?j.indexOf(v.id):-1,S=x.useRef(j),T=!zm(j,S.current),$=C!==-1&&w===-1||T,L=Mm(d);xn(()=>{T&&E&&b(j)},[T,j,E,b]),x.useEffect(()=>{S.current=j},[j]);const A=x.useMemo(()=>({activeIndex:w,containerId:y,disabled:L,disableTransforms:$,items:j,overIndex:C,useDragOverlay:N,sortedRects:Pm(j,p),strategy:c}),[w,y,L.draggable,L.droppable,$,j,C,p,N,c]);return He.createElement(_f.Provider,{value:A},l)}const Hm=t=>{let{id:l,items:i,activeIndex:s,overIndex:c}=t;return Af(i,s,c).indexOf(l)},Fm=t=>{let{containerId:l,isSorting:i,wasDragging:s,index:c,items:d,newIndex:g,previousItems:m,previousContainerId:p,transition:v}=t;return!v||!s||m!==d&&c===g?!1:i?!0:g!==c&&l===p},Wm={duration:200,easing:"ease"},Df="transform",Um=Nn.Transition.toString({property:Df,duration:0,easing:"linear"}),Vm={roleDescription:"sortable"};function Km(t){let{disabled:l,index:i,node:s,rect:c}=t;const[d,g]=x.useState(null),m=x.useRef(i);return xn(()=>{if(!l&&i!==m.current&&s.current){const p=c.current;if(p){const v=so(s.current,{ignoreTransform:!0}),b={x:p.left-v.left,y:p.top-v.top,scaleX:p.width/v.width,scaleY:p.height/v.height};(b.x||b.y)&&g(b)}}i!==m.current&&(m.current=i)},[l,i,s,c]),x.useEffect(()=>{d&&g(null)},[d]),d}function qa(t){let{animateLayoutChanges:l=Fm,attributes:i,disabled:s,data:c,getNewIndex:d=Hm,id:g,strategy:m,resizeObserverConfig:p,transition:v=Wm}=t;const{items:b,containerId:y,activeIndex:N,disabled:j,disableTransforms:E,sortedRects:w,overIndex:C,useDragOverlay:S,strategy:T}=x.useContext(_f),$=Gm(s,j),L=b.indexOf(g),A=x.useMemo(()=>({sortable:{containerId:y,index:L,items:b},...c}),[y,c,L,b]),P=x.useMemo(()=>b.slice(b.indexOf(g)),[b,g]),{rect:M,node:W,isOver:G,setNodeRef:U}=ol({id:g,data:A,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...p}}),{active:X,activatorEvent:O,activeNodeRect:J,attributes:te,setNodeRef:re,listeners:ae,isDragging:pe,over:V,setActivatorNodeRef:ee,transform:K}=Nf({id:g,data:A,attributes:{...Vm,...i},disabled:$.draggable}),I=Mp(U,re),F=!!X,ie=F&&!E&&hi(N)&&hi(C),ne=!S&&pe,ge=ne&&ie?K:null,Ce=ie?ge??(m??T)({rects:w,activeNodeRect:J,activeIndex:N,overIndex:C,index:L}):null,ye=hi(N)&&hi(C)?d({id:g,items:b,activeIndex:N,overIndex:C}):L,ke=X?.id,be=x.useRef({activeId:ke,items:b,newIndex:ye,containerId:y}),Mt=b!==be.current.items,Qe=l({active:X,containerId:y,isDragging:pe,isSorting:F,id:g,index:L,items:b,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:v,wasDragging:be.current.activeId!=null}),mt=Km({disabled:!Qe,index:L,node:W,rect:M});return x.useEffect(()=>{F&&be.current.newIndex!==ye&&(be.current.newIndex=ye),y!==be.current.containerId&&(be.current.containerId=y),b!==be.current.items&&(be.current.items=b)},[F,ye,y,b]),x.useEffect(()=>{if(ke===be.current.activeId)return;if(ke!=null&&be.current.activeId==null){be.current.activeId=ke;return}const Ne=setTimeout(()=>{be.current.activeId=ke},50);return()=>clearTimeout(Ne)},[ke]),{active:X,activeIndex:N,attributes:te,data:A,rect:M,index:L,newIndex:ye,items:b,isOver:G,isSorting:F,isDragging:pe,listeners:ae,node:W,overIndex:C,over:V,setNodeRef:I,setActivatorNodeRef:ee,setDroppableNodeRef:U,setDraggableNodeRef:re,transform:mt??Ce,transition:ut()};function ut(){if(mt||Mt&&be.current.newIndex===L)return Um;if(!(ne&&!Pi(O)||!v)&&(F||Qe))return Nn.Transition.toString({...v,property:Df})}}function Gm(t,l){var i,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(i=t?.draggable)!=null?i:l.draggable,droppable:(s=t?.droppable)!=null?s:l.droppable}}Re.Down,Re.Right,Re.Up,Re.Left;const Xm={margin:{top:"",right:"",bottom:"",left:""},padding:{top:"",right:"",bottom:"",left:""},width:"",minWidth:"",maxWidth:"",height:"",minHeight:"",maxHeight:""},Ym={align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,layout:!0};function Qm(t){if(!t.type)throw new Error("[createBlock] Block type is required");if(!t.label)throw new Error(`[createBlock] Block label is required for type: ${t.type}`);if(!t.block)throw new Error(`[createBlock] Block component is required for type: ${t.type}`);const l={...Ym,...t.supports},i={...t.defaultProps,layoutStyles:{...Xm,...t.defaultProps?.layoutStyles}};return{type:t.type,label:t.label,category:t.category||"Content",icon:t.icon||"lucide:box",description:t.description||"",keywords:t.keywords||[],contexts:t.contexts||["*"],supports:l,fields:t.fields||[],defaultProps:i,block:t.block,editor:t.editor||null,save:t.save||{},validate:t.validate||(()=>!0),transform:t.transform||null}}function _e(t,l={}){return Qm({...t,...l})}class qm{constructor(){this.modalId="laraBuilderMediaModal",this.callbackName="handleLaraBuilderMediaSelection",this.pendingResolve=null,this.pendingReject=null,this.isInitialized=!1}initialize(){this.isInitialized||(window[this.callbackName]=l=>{this.pendingResolve&&(this.pendingResolve(l),this.pendingResolve=null,this.pendingReject=null)},document.addEventListener("keydown",l=>{l.key==="Escape"&&this.pendingReject&&(this.pendingReject(new Error("Selection cancelled")),this.pendingResolve=null,this.pendingReject=null)}),this.isInitialized=!0)}open(l={}){this.initialize();const{multiple:i=!1,allowedTypes:s="images",onSelect:c=null,onCancel:d=null}=l;return new Promise((g,m)=>{if(this.pendingResolve=p=>{c&&c(p),g(p)},this.pendingReject=p=>{d&&d(),m(p)},typeof window.openMediaModal=="function")document.getElementById(this.modalId)||console.warn(`[MediaLibrary] Modal element #${this.modalId} not found in DOM`),window.openMediaModal(this.modalId,i,s,this.callbackName);else{const p=new Error("Media modal not available. Ensure x-media-modal component is included in your Blade template.");console.error("[MediaLibrary]",p.message),this.pendingReject(p)}})}async selectImage(){try{return(await this.open({multiple:!1,allowedTypes:"images"}))[0]||null}catch(l){return console.error("[MediaLibrary] selectImage error:",l),null}}async selectImages(){try{return await this.open({multiple:!0,allowedTypes:"images"})}catch{return[]}}async selectVideo(){try{return(await this.open({multiple:!1,allowedTypes:"videos"}))[0]||null}catch{return null}}async selectFiles(l=!1){try{return await this.open({multiple:l,allowedTypes:"all"})}catch{return l?[]:null}}}const Zo=new qm,Jm=({title:t,children:l})=>r.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:f(t)}),l]}),Zm=({children:t,htmlFor:l})=>r.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:typeof t=="string"?f(t):t}),ex=({value:t,onChange:l,id:i})=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",id:i,value:t||"#000000",onChange:s=>l(s.target.value),className:"w-12 h-9 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"}),r.jsx("input",{type:"text",value:t||"",onChange:s=>l(s.target.value),placeholder:"#000000",className:"form-control flex-1 font-mono text-sm"})]}),tx=({value:t,onChange:l,min:i=0,max:s=100,step:c=1,id:d,showValue:g=!0})=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",id:d,value:t||i,onChange:m=>l(parseFloat(m.target.value)),min:i,max:s,step:c,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),g&&r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[3rem] text-right",children:t||i})]}),nx=({type:t,name:l,label:i,value:s,onChange:c,options:d=[],placeholder:g,min:m,max:p,step:v,rows:b=3,help:y,required:N=!1,showLabel:j=!0,className:E=""})=>{const w=`field-${l}`,C=g?f(g):void 0,S=()=>{switch(t){case"text":return r.jsx("input",{type:"text",id:w,value:s||"",onChange:L=>c(L.target.value),placeholder:C,required:N,className:"form-control"});case"textarea":return r.jsx("textarea",{id:w,value:s||"",onChange:L=>c(L.target.value),placeholder:C,rows:b,required:N,className:"form-control"});case"number":return r.jsx("input",{type:"number",id:w,value:s??"",onChange:L=>c(L.target.value?parseFloat(L.target.value):""),placeholder:C,min:m,max:p,step:v,required:N,className:"form-control"});case"url":return r.jsx("input",{type:"url",id:w,value:s||"",onChange:L=>c(L.target.value),placeholder:C||"https://...",required:N,className:"form-control"});case"email":return r.jsx("input",{type:"email",id:w,value:s||"",onChange:L=>c(L.target.value),placeholder:C,required:N,className:"form-control"});case"select":return r.jsx("select",{id:w,value:s||"",onChange:L=>c(L.target.value),required:N,className:"form-control",children:d.map(L=>r.jsx("option",{value:L.value,children:f(L.label)},L.value))});case"color":return r.jsx(ex,{value:s,onChange:c,id:w});case"checkbox":return r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",id:w,checked:s||!1,onChange:L=>c(L.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"toggle":return r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",id:w,checked:s||!1,onChange:L=>c(L.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}),r.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"range":return r.jsx(tx,{value:s,onChange:c,min:m,max:p,step:v,id:w});case"image":const $=async()=>{try{const L=await Zo.selectImage();L&&c(L.url)}catch{}};return r.jsxs("div",{className:"space-y-2",children:[s?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:s,alt:"",className:"w-full h-32 object-contain rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}),r.jsx("button",{type:"button",onClick:()=>c(""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]}):r.jsxs("div",{onClick:$,className:"flex flex-col items-center justify-center p-6 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:image-plus",className:"text-3xl text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f("Click to select image")})]}),s&&r.jsxs("button",{type:"button",onClick:$,className:"btn btn-default w-full flex items-center justify-center gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:image-edit",width:"16",height:"16"}),f("Change Image")]}),r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),r.jsx("input",{type:"url",value:s||"",onChange:L=>c(L.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]});case"align":return r.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["left","center","right","justify"].map(L=>r.jsx("button",{type:"button",onClick:()=>c(L),className:`flex-1 p-2 rounded-md transition-colors ${s===L?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,title:f(L.charAt(0).toUpperCase()+L.slice(1)),children:r.jsx("iconify-icon",{icon:`mdi:format-align-${L}`,width:"18",height:"18",className:"mx-auto"})},L))});case"date":return r.jsx("input",{type:"date",id:w,value:s||"",onChange:L=>c(L.target.value),required:N,className:"form-control"});case"time":return r.jsx("input",{type:"time",id:w,value:s||"23:59",onChange:L=>c(L.target.value),required:N,className:"form-control"});case"info":return r.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[r.jsx("iconify-icon",{icon:"mdi:information",width:"18",height:"18",class:"text-blue-500 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:f(s||"")})]});default:return console.warn(`[EditorField] Unknown field type: ${t}`),r.jsx("input",{type:"text",id:w,value:s||"",onChange:L=>c(L.target.value),className:"form-control"})}},T=t==="checkbox"||t==="toggle";return r.jsxs("div",{className:`mb-3 last:mb-0 ${E}`,children:[j&&i&&!T&&r.jsx(Zm,{htmlFor:w,children:i}),S(),y&&r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:f(y)})]})},rx=(t,l)=>l.includes(".")?l.split(".").reduce((i,s)=>i?.[s],t):t?.[l],Gd=(t,l,i)=>{if(!l.includes("."))return{...t,[l]:i};const s=l.split("."),c={...t};let d=c;for(let g=0;g<s.length-1;g++){const m=s[g];d[m]={...d[m]},d=d[m]}return d[s[s.length-1]]=i,c},ox=({fields:t=[],blockProps:l,onUpdate:i})=>{const s=(d,g,m)=>{let p=Gd(l,d,g);m?.linkedFields&&Object.entries(m.linkedFields).forEach(([v,b])=>{const y=typeof b=="function"?b(g):b;p=Gd(p,v,y)}),i(p)},c=t.reduce((d,g)=>{const m=g.section||"Content";return d[m]||(d[m]=[]),d[m].push(g),d},{});return r.jsx("div",{className:"space-y-4",children:Object.entries(c).map(([d,g])=>r.jsx(Jm,{title:d,children:g.map(m=>r.jsx(nx,{type:m.type,name:m.name,label:m.label,value:rx(l,m.name),onChange:p=>s(m.name,p,m),options:m.options,placeholder:m.placeholder,min:m.min,max:m.max,step:m.step,rows:m.rows,help:m.help,required:m.required},m.name))},d))})},lx=[{value:"",label:"Auto"},{value:"100%",label:"100%"},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"},{value:"100px",label:"100px"},{value:"150px",label:"150px"},{value:"200px",label:"200px"},{value:"250px",label:"250px"},{value:"300px",label:"300px"},{value:"400px",label:"400px"},{value:"500px",label:"500px"}],ix=[{value:"cover",label:"Cover"},{value:"contain",label:"Contain"},{value:"auto",label:"Auto"},{value:"100% 100%",label:"100%"}],sx=[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"top left",label:"Top Left"},{value:"top right",label:"Top Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom right",label:"Bottom Right"}],ax=[{value:"no-repeat",label:"No Repeat"},{value:"repeat",label:"Repeat"},{value:"repeat-x",label:"Repeat X"},{value:"repeat-y",label:"Repeat Y"}],cx=[{value:"",label:"Inherit"},{value:"Arial, sans-serif",label:"Arial"},{value:"Helvetica, Arial, sans-serif",label:"Helvetica"},{value:"Georgia, serif",label:"Georgia"},{value:"'Times New Roman', Times, serif",label:"Times New Roman"},{value:"Verdana, Geneva, sans-serif",label:"Verdana"},{value:"'Trebuchet MS', sans-serif",label:"Trebuchet MS"},{value:"'Courier New', Courier, monospace",label:"Courier New"},{value:"system-ui, -apple-system, sans-serif",label:"System UI"}],Xd=[{value:"",label:"Inherit"},{value:"10px",label:"10px"},{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"},{value:"20px",label:"20px"},{value:"24px",label:"24px"},{value:"28px",label:"28px"},{value:"32px",label:"32px"},{value:"36px",label:"36px"},{value:"48px",label:"48px"},{value:"64px",label:"64px"}],ux=[{value:"",label:"Inherit"},{value:"100",label:"Thin (100)"},{value:"200",label:"Extra Light (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi Bold (600)"},{value:"700",label:"Bold (700)"},{value:"800",label:"Extra Bold (800)"},{value:"900",label:"Black (900)"}],dx=[{value:"",label:"Inherit"},{value:"normal",label:"Normal"},{value:"italic",label:"Italic"},{value:"oblique",label:"Oblique"}],Yd=[{value:"",label:"Inherit"},{value:"1",label:"1"},{value:"1.2",label:"1.2"},{value:"1.4",label:"1.4"},{value:"1.5",label:"1.5"},{value:"1.6",label:"1.6"},{value:"1.8",label:"1.8"},{value:"2",label:"2"}],Qd=[{value:"",label:"Inherit"},{value:"-1px",label:"-1px"},{value:"-0.5px",label:"-0.5px"},{value:"0",label:"0"},{value:"0.5px",label:"0.5px"},{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"}],fx=[{value:"",label:"Inherit",icon:"Aa"},{value:"uppercase",label:"Uppercase",icon:"AA"},{value:"lowercase",label:"Lowercase",icon:"aa"},{value:"capitalize",label:"Capitalize",icon:"Aa"},{value:"none",label:"None",icon:"x"}],gx=[{value:"",label:"Inherit",icon:"mdi:format-text"},{value:"underline",label:"Underline",icon:"mdi:format-underline"},{value:"overline",label:"Overline",icon:"mdi:format-overline"},{value:"line-through",label:"Strikethrough",icon:"mdi:format-strikethrough"},{value:"none",label:"None",icon:"mdi:close"}],px=({background:t={},onChange:l,onImageUpload:i})=>{const[s,c]=x.useState(!1),d=v=>{l({...t,color:v})},g=v=>{l({...t,image:v})},m=async()=>{c(!0);try{const v=await Zo.selectImage();v?.url&&g(v.url)}catch(v){console.error("Failed to select image:",v)}finally{c(!1)}},p=()=>{l({...t,image:"",size:"",position:"",repeat:""})};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:t.color||"#ffffff",onChange:v=>d(v.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),r.jsx("input",{type:"text",value:t.color||"",onChange:v=>d(v.target.value),placeholder:"transparent",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&r.jsx("button",{type:"button",onClick:()=>d(""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background image")}),t.image&&r.jsxs("div",{className:"mb-2 relative",children:[r.jsx("img",{src:t.image,alt:"Background preview",className:"w-full h-16 object-cover rounded border border-gray-200"}),r.jsx("button",{type:"button",onClick:p,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:f("Remove image"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"12",height:"12"})})]}),r.jsx("button",{type:"button",onClick:m,disabled:s,className:"w-full border-2 border-dashed border-gray-200 rounded-lg p-3 text-center hover:border-primary/50 hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:s?r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin"}),r.jsx("span",{children:f("Selecting...")})]}):r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:image-plus",width:"16",height:"16",class:"text-primary"}),r.jsx("span",{className:"font-medium",children:f("Select from Media Library")})]})})}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("span",{className:"text-xs text-gray-400",children:f("or")}),r.jsx("input",{type:"text",value:t.image||"",onChange:v=>g(v.target.value),placeholder:"Enter image URL...",className:"flex-1 px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),t.image&&r.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Size")}),r.jsx("select",{value:t.size||"cover",onChange:v=>l({...t,size:v.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ix.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Position")}),r.jsx("select",{value:t.position||"center",onChange:v=>l({...t,position:v.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:sx.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Repeat")}),r.jsx("select",{value:t.repeat||"no-repeat",onChange:v=>l({...t,repeat:v.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ax.map(v=>r.jsx("option",{value:v.value,children:v.label},v.value))})]})]})]})},hx=({typography:t={},onChange:l})=>{const i=(s,c)=>{l({...t,[s]:c})};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:t.color||"#000000",onChange:s=>i("color",s.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),r.jsx("input",{type:"text",value:t.color||"",onChange:s=>i("color",s.target.value),placeholder:"inherit",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&r.jsx("button",{type:"button",onClick:()=>i("color",""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font size")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Xd.some(s=>s.value===t.fontSize)?t.fontSize:"custom",onChange:s=>{s.target.value!=="custom"&&i("fontSize",s.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Xd.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),r.jsx("input",{type:"text",value:t.fontSize||"",onChange:s=>i("fontSize",s.target.value),placeholder:"e.g., 16px",className:"w-20 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text align")}),r.jsx("div",{className:"flex gap-1",children:[{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"},{value:"justify",icon:"mdi:format-align-justify"}].map(({value:s,icon:c})=>r.jsx("button",{type:"button",onClick:()=>i("textAlign",s),className:`flex-1 p-2 rounded transition-colors ${t.textAlign===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:s.charAt(0).toUpperCase()+s.slice(1),children:r.jsx("iconify-icon",{icon:c,width:"16",height:"16"})},s))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text transform")}),r.jsx("div",{className:"flex gap-1",children:fx.slice(0,4).map(({value:s,label:c,icon:d})=>r.jsx("button",{type:"button",onClick:()=>i("textTransform",s),className:`flex-1 p-2 rounded text-xs font-medium transition-colors ${(t.textTransform||"")===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:d},s||"inherit"))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font family")}),r.jsx("select",{value:t.fontFamily||"",onChange:s=>i("fontFamily",s.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:cx.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font weight")}),r.jsx("select",{value:t.fontWeight||"",onChange:s=>i("fontWeight",s.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ux.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font style")}),r.jsx("select",{value:t.fontStyle||"",onChange:s=>i("fontStyle",s.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:dx.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Line height")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Yd.some(s=>s.value===t.lineHeight)?t.lineHeight:"custom",onChange:s=>{s.target.value!=="custom"&&i("lineHeight",s.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Yd.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),r.jsx("input",{type:"text",value:t.lineHeight||"",onChange:s=>i("lineHeight",s.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Letter spacing")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Qd.some(s=>s.value===t.letterSpacing)?t.letterSpacing:"custom",onChange:s=>{s.target.value!=="custom"&&i("letterSpacing",s.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Qd.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),r.jsx("input",{type:"text",value:t.letterSpacing||"",onChange:s=>i("letterSpacing",s.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text decoration")}),r.jsx("div",{className:"flex gap-1",children:gx.slice(0,4).map(({value:s,label:c,icon:d})=>r.jsx("button",{type:"button",onClick:()=>i("textDecoration",s),className:`flex-1 p-2 rounded transition-colors ${(t.textDecoration||"")===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:r.jsx("iconify-icon",{icon:d,width:"16",height:"16"})},s||"inherit"))})]})]})},xi=({value:t,onChange:l,placeholder:i=""})=>r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:t||"",onChange:s=>l(s.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]}),qd=({label:t,values:l,onChange:i,linkSides:s,onToggleLink:c})=>{const{top:d="",right:g="",bottom:m="",left:p=""}=l||{},v=(b,y)=>{i(s?{top:y,right:y,bottom:y,left:y}:{...l,[b]:y})};return r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:t}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:c,className:`p-1 rounded transition-colors ${s?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(s?"Unlink sides":"Link all sides"),children:r.jsx("iconify-icon",{icon:s?"mdi:link":"mdi:link-off",width:"14",height:"14"})}),r.jsx("button",{type:"button",onClick:()=>i({top:"",right:"",bottom:"",left:""}),className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Reset"),children:r.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),r.jsxs("div",{className:"relative bg-gray-100 rounded-lg p-3",children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(xi,{value:d,onChange:b=>v("top",b),placeholder:"0"})}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("div",{className:"w-20",children:r.jsx(xi,{value:p,onChange:b=>v("left",b),placeholder:"0"})}),r.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:f("Content")})}),r.jsx("div",{className:"w-20",children:r.jsx(xi,{value:g,onChange:b=>v("right",b),placeholder:"0"})})]}),r.jsx("div",{className:"flex justify-center mt-2",children:r.jsx(xi,{value:m,onChange:b=>v("bottom",b),placeholder:"0"})})]})]})},mx=({margin:t,padding:l,onMarginChange:i,onPaddingChange:s})=>{const[c,d]=x.useState(!1),[g,m]=x.useState(!1);return r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Spacing")}),r.jsx(qd,{label:f("Margin"),values:t||{},onChange:i,linkSides:c,onToggleLink:()=>d(!c)}),r.jsx(qd,{label:f("Padding"),values:l||{},onChange:s,linkSides:g,onToggleLink:()=>m(!g)})]})},no=({label:t,value:l,onChange:i,presets:s=lx})=>{const[c,d]=x.useState(l&&!s.some(g=>g.value===l));return r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:t}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:c?"custom":l||"",onChange:g=>{g.target.value==="custom"?d(!0):(d(!1),i(g.target.value))},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[s.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),c&&r.jsx("input",{type:"text",value:l||"",onChange:g=>i(g.target.value),placeholder:"e.g., 200px",className:"w-24 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"flex items-center",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]})]})},xx=({layoutStyles:t={},onChange:l})=>{const i=(s,c)=>{l(s,c)};return r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Sizing")}),r.jsx(no,{label:f("Width"),value:t.width||"",onChange:s=>i("width",s)}),r.jsx(no,{label:f("Min. width"),value:t.minWidth||"",onChange:s=>i("minWidth",s)}),r.jsx(no,{label:f("Max. width"),value:t.maxWidth||"",onChange:s=>i("maxWidth",s)}),r.jsx(no,{label:f("Height"),value:t.height||"",onChange:s=>i("height",s)}),r.jsx(no,{label:f("Min. height"),value:t.minHeight||"",onChange:s=>i("minHeight",s)}),r.jsx(no,{label:f("Max. height"),value:t.maxHeight||"",onChange:s=>i("maxHeight",s)})]})},yx=[{value:"",label:f("Default")},{value:"none",label:f("None")},{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")},{value:"double",label:f("Double")}],yi=({value:t,onChange:l,placeholder:i="0"})=>r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",value:t||"",onChange:s=>l(s.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]}),vi=({label:t,value:l,onChange:i})=>r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 uppercase",children:t}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:l||"",onChange:s=>i(s.target.value),placeholder:"0",className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),vx=({border:t={},onChange:l})=>{const[i,s]=x.useState(!1),[c,d]=x.useState(!0),[g,m]=x.useState(!0),{width:p={},style:v="",color:b="",radius:y={}}=t,N=(S,T)=>{l(c?{...t,width:{top:T,right:T,bottom:T,left:T}}:{...t,width:{...p,[S]:T}})},j=(S,T)=>{l(g?{...t,radius:{topLeft:T,topRight:T,bottomLeft:T,bottomRight:T}}:{...t,radius:{...y,[S]:T}})},E=S=>{l({...t,style:S})},w=S=>{l({...t,color:S})},C=p.top||p.right||p.bottom||p.left||v||b;return r.jsxs("div",{className:"mb-3",children:[r.jsxs("button",{type:"button",onClick:()=>s(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Border")}),r.jsxs("div",{className:"flex items-center gap-2",children:[C&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),r.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&r.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Width")}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:`p-1 rounded transition-colors ${c?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(c?"Unlink sides":"Link all sides"),children:r.jsx("iconify-icon",{icon:c?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(yi,{value:p.top,onChange:S=>N("top",S)})}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx(yi,{value:p.left,onChange:S=>N("left",S)}),r.jsx(yi,{value:p.right,onChange:S=>N("right",S)})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(yi,{value:p.bottom,onChange:S=>N("bottom",S)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Style")}),r.jsx("select",{value:v,onChange:S=>E(S.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:yx.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:b||"#000000",onChange:S=>w(S.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:b,onChange:S=>w(S.target.value),placeholder:"#000000",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),b&&r.jsx("button",{type:"button",onClick:()=>w(""),className:"p-1 text-gray-400 hover:text-gray-600",title:f("Clear"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Radius")}),r.jsx("button",{type:"button",onClick:()=>m(!g),className:`p-1 rounded transition-colors ${g?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(g?"Unlink corners":"Link all corners"),children:r.jsx("iconify-icon",{icon:g?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(vi,{label:f("Top Left"),value:y.topLeft,onChange:S=>j("topLeft",S)}),r.jsx(vi,{label:f("Top Right"),value:y.topRight,onChange:S=>j("topRight",S)}),r.jsx(vi,{label:f("Bottom Left"),value:y.bottomLeft,onChange:S=>j("bottomLeft",S)}),r.jsx(vi,{label:f("Bottom Right"),value:y.bottomRight,onChange:S=>j("bottomRight",S)})]})]}),C&&r.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Border")})]})]})},bi=({label:t,value:l,onChange:i,placeholder:s="0"})=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 w-12 uppercase",children:t}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",value:l||"",onChange:c=>i(c.target.value),placeholder:s,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),bx=({boxShadow:t={},onChange:l})=>{const[i,s]=x.useState(!1),{x:c="",y:d="",blur:g="",spread:m="",color:p="",inset:v=!1}=t,b=(N,j)=>{l({...t,[N]:j})},y=c||d||g||m||p;return r.jsxs("div",{className:"mb-3",children:[r.jsxs("button",{type:"button",onClick:()=>s(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Box shadow")}),r.jsxs("div",{className:"flex items-center gap-2",children:[y&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),r.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&r.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-3",children:[r.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:f("Box shadow")}),r.jsx(bi,{label:"X",value:c,onChange:N=>b("x",N),placeholder:"0px"}),r.jsx(bi,{label:"Y",value:d,onChange:N=>b("y",N),placeholder:"4px"}),r.jsx(bi,{label:f("Blur"),value:g,onChange:N=>b("blur",N),placeholder:"6px"}),r.jsx(bi,{label:f("Spread"),value:m,onChange:N=>b("spread",N),placeholder:"0px"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 w-12",children:f("Color")}),r.jsxs("div",{className:"flex-1 flex gap-2",children:[r.jsx("input",{type:"color",value:p||"#000000",onChange:N=>b("color",N.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:p,onChange:N=>b("color",N.target.value),placeholder:"rgba(0,0,0,0.1)",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:f("Inset")}),r.jsx("button",{type:"button",onClick:()=>b("inset",!v),className:`relative w-10 h-5 rounded-full transition-colors ${v?"bg-primary":"bg-gray-300"}`,children:r.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${v?"translate-x-5":"translate-x-0.5"}`})})]}),y&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Preview")}),r.jsx("div",{className:"w-full h-16 bg-white rounded-lg border border-gray-200",style:{boxShadow:`${v?"inset ":""}${c||"0px"} ${d||"4px"} ${g||"6px"} ${m||"0px"} ${p||"rgba(0,0,0,0.1)"}`}})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Quick presets")}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"1px",blur:"3px",spread:"0px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Subtle")}),r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"4px",blur:"6px",spread:"-1px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Medium")}),r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"10px",blur:"15px",spread:"-3px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Large")}),r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"25px",blur:"50px",spread:"-12px",color:"rgba(0,0,0,0.25)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("XL")})]})]}),y&&r.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Shadow")})]})]})},wx=({customCSS:t="",customClass:l="",onChange:i,onClassChange:s})=>{const[c,d]=x.useState(t),[g,m]=x.useState(l),p=x.useCallback(N=>{const j=N.target.value;d(j),i(j)},[i]),v=x.useCallback(N=>{const j=N.target.value;m(j),s?.(j)},[s]),b=[{label:f("Shadow"),css:"box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"},{label:f("Rounded"),css:"border-radius: 12px;"},{label:f("Border"),css:"border: 2px solid #e5e7eb;"},{label:f("Opacity"),css:"opacity: 0.9;"}],y=N=>{const j=c?`${c}
${N}`:N;d(j),i(j)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:f("Quick Add")}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(N=>r.jsx("button",{type:"button",onClick:()=>y(N.css),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:N.label},N.label))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("CSS Properties")}),r.jsx("textarea",{value:c,onChange:p,placeholder:"e.g., box-shadow: 0 4px 6px rgba(0,0,0,0.1);",className:"w-full h-24 px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary resize-y",spellCheck:!1}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:f("CSS properties separated by semicolons")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("Custom Class")}),r.jsx("input",{type:"text",value:g,onChange:v,placeholder:"my-custom-class",className:"w-full px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary"}),r.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:[f("Added alongside")," ",r.jsxs("code",{className:"px-1 py-0.5 bg-gray-100 rounded",children:["lb-","{type}"]})]})]})]})},Ae=(t,l)=>{const i=$r(l||{}),s={...t};return Object.entries(i).forEach(([c,d])=>{d!=null&&d!==""&&(s[c]=d)}),s},$r=(t={})=>{const l={};if(t.background){const{color:i,image:s,size:c,position:d,repeat:g}=t.background;i&&(l.backgroundColor=i),s&&(l.backgroundImage=`url(${s})`,l.backgroundSize=c||"cover",l.backgroundPosition=d||"center",l.backgroundRepeat=g||"no-repeat")}if(t.margin){const{top:i,right:s,bottom:c,left:d}=t.margin;(i||s||c||d)&&(l.marginTop=i||"0",l.marginRight=s||"0",l.marginBottom=c||"0",l.marginLeft=d||"0")}if(t.padding){const{top:i,right:s,bottom:c,left:d}=t.padding;(i||s||c||d)&&(l.paddingTop=i||"0",l.paddingRight=s||"0",l.paddingBottom=c||"0",l.paddingLeft=d||"0")}if(t.width&&(l.width=t.width),t.minWidth&&(l.minWidth=t.minWidth),t.maxWidth&&(l.maxWidth=t.maxWidth),t.height&&(l.height=t.height),t.minHeight&&(l.minHeight=t.minHeight),t.maxHeight&&(l.maxHeight=t.maxHeight),t.typography){const{color:i,fontSize:s,textAlign:c,textTransform:d,fontFamily:g,fontWeight:m,fontStyle:p,lineHeight:v,letterSpacing:b,textDecoration:y}=t.typography;i&&(l.color=i),s&&(l.fontSize=s),c&&(l.textAlign=c),d&&(l.textTransform=d),g&&(l.fontFamily=g),m&&(l.fontWeight=m),p&&(l.fontStyle=p),v&&(l.lineHeight=v),b&&(l.letterSpacing=b),y&&(l.textDecoration=y)}if(t.border){const{width:i={},style:s,color:c,radius:d={}}=t.border;i.top&&(l.borderTopWidth=i.top),i.right&&(l.borderRightWidth=i.right),i.bottom&&(l.borderBottomWidth=i.bottom),i.left&&(l.borderLeftWidth=i.left),s&&(l.borderStyle=s),c&&(l.borderColor=c),d.topLeft&&(l.borderTopLeftRadius=d.topLeft),d.topRight&&(l.borderTopRightRadius=d.topRight),d.bottomLeft&&(l.borderBottomLeftRadius=d.bottomLeft),d.bottomRight&&(l.borderBottomRightRadius=d.bottomRight)}if(t.boxShadow){const{x:i,y:s,blur:c,spread:d,color:g,inset:m}=t.boxShadow;if(i||s||c||d||g){const p=`${m?"inset ":""}${i||"0px"} ${s||"0px"} ${c||"0px"} ${d||"0px"} ${g||"rgba(0,0,0,0.1)"}`;l.boxShadow=p}}return l},Ai=(t={})=>{const l=[];if(t.background){const{color:i,image:s,size:c,position:d,repeat:g}=t.background;i&&l.push(`background-color: ${i}`),s&&(l.push(`background-image: url(${s})`),l.push(`background-size: ${c||"cover"}`),l.push(`background-position: ${d||"center"}`),l.push(`background-repeat: ${g||"no-repeat"}`))}if(t.margin){const{top:i,right:s,bottom:c,left:d}=t.margin;i&&l.push(`margin-top: ${i}`),s&&l.push(`margin-right: ${s}`),c&&l.push(`margin-bottom: ${c}`),d&&l.push(`margin-left: ${d}`)}if(t.padding){const{top:i,right:s,bottom:c,left:d}=t.padding;i&&l.push(`padding-top: ${i}`),s&&l.push(`padding-right: ${s}`),c&&l.push(`padding-bottom: ${c}`),d&&l.push(`padding-left: ${d}`)}if(t.width&&l.push(`width: ${t.width}`),t.minWidth&&l.push(`min-width: ${t.minWidth}`),t.maxWidth&&l.push(`max-width: ${t.maxWidth}`),t.height&&l.push(`height: ${t.height}`),t.minHeight&&l.push(`min-height: ${t.minHeight}`),t.maxHeight&&l.push(`max-height: ${t.maxHeight}`),t.typography){const{color:i,fontSize:s,textAlign:c,textTransform:d,fontFamily:g,fontWeight:m,fontStyle:p,lineHeight:v,letterSpacing:b,textDecoration:y}=t.typography;i&&l.push(`color: ${i}`),s&&l.push(`font-size: ${s}`),c&&l.push(`text-align: ${c}`),d&&l.push(`text-transform: ${d}`),g&&l.push(`font-family: ${g}`),m&&l.push(`font-weight: ${m}`),p&&l.push(`font-style: ${p}`),v&&l.push(`line-height: ${v}`),b&&l.push(`letter-spacing: ${b}`),y&&l.push(`text-decoration: ${y}`)}if(t.border){const{width:i={},style:s,color:c,radius:d={}}=t.border;i.top&&l.push(`border-top-width: ${i.top}`),i.right&&l.push(`border-right-width: ${i.right}`),i.bottom&&l.push(`border-bottom-width: ${i.bottom}`),i.left&&l.push(`border-left-width: ${i.left}`),s&&l.push(`border-style: ${s}`),c&&l.push(`border-color: ${c}`),d.topLeft&&l.push(`border-top-left-radius: ${d.topLeft}`),d.topRight&&l.push(`border-top-right-radius: ${d.topRight}`),d.bottomLeft&&l.push(`border-bottom-left-radius: ${d.bottomLeft}`),d.bottomRight&&l.push(`border-bottom-right-radius: ${d.bottomRight}`)}if(t.boxShadow){const{x:i,y:s,blur:c,spread:d,color:g,inset:m}=t.boxShadow;if(i||s||c||d||g){const p=`${m?"inset ":""}${i||"0px"} ${s||"0px"} ${c||"0px"} ${d||"0px"} ${g||"rgba(0,0,0,0.1)"}`;l.push(`box-shadow: ${p}`)}}return l.join("; ")},Vo=({icon:t,iconColor:l="text-primary/100",title:i,isExpanded:s,onToggle:c})=>r.jsxs("button",{type:"button",onClick:c,className:"flex items-center justify-between w-full text-left mb-3 group py-2.5 px-3 rounded-lg border border-transparent hover:bg-gray-50 dark:hover:bg-gray-800/50 focus:outline-none focus:border-primary/40 focus:bg-gray-50/50 dark:focus:bg-gray-800/50 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("iconify-icon",{icon:t,width:"16",height:"16",class:l}),r.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i})]}),r.jsx("iconify-icon",{icon:s?"mdi:chevron-up":"mdi:chevron-down",width:"18",height:"18",class:"text-gray-400 group-hover:text-gray-600 transition-colors"})]}),wi=({layoutStyles:t={},onUpdate:l,onImageUpload:i,defaultCollapsed:s=!0,customCSS:c="",customClass:d="",onCustomCSSChange:g,onCustomClassChange:m})=>{const[p,v]=x.useState(!1),[b,y]=x.useState(!1),[N,j]=x.useState(!s),[E,w]=x.useState(!1),[C,S]=x.useState(!1),T=(G,U)=>{l({...t,[G]:U})},$=G=>{l({...t,margin:G})},L=G=>{l({...t,padding:G})},A=G=>{l({...t,background:G})},P=G=>{l({...t,typography:G})},M=G=>{l({...t,border:G})},W=G=>{l({...t,boxShadow:G})};return r.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Vo,{icon:"mdi:palette-outline",title:f("Background"),isExpanded:p,onToggle:()=>v(!p)}),p&&r.jsx(px,{background:t.background||{},onChange:A,onImageUpload:i})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Vo,{icon:"mdi:format-font",title:f("Typography"),isExpanded:b,onToggle:()=>y(!b)}),b&&r.jsx(hx,{typography:t.typography||{},onChange:P})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Vo,{icon:"mdi:view-dashboard-outline",title:f("Layout"),isExpanded:N,onToggle:()=>j(!N)}),N&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(mx,{margin:t.margin||{},padding:t.padding||{},onMarginChange:$,onPaddingChange:L}),r.jsx(xx,{layoutStyles:t,onChange:T})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Vo,{icon:"mdi:checkbox-blank-outline",title:f("Border / Box Shadow"),isExpanded:E,onToggle:()=>w(!E)}),E&&r.jsxs("div",{children:[r.jsx(vx,{border:t.border||{},onChange:M}),r.jsx(bx,{boxShadow:t.boxShadow||{},onChange:W})]})]}),g&&r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Vo,{icon:"mdi:code-braces",title:f("Custom CSS"),isExpanded:C,onToggle:()=>S(!C)}),C&&r.jsx(wx,{customCSS:c,customClass:d,onChange:g,onClassChange:m})]})]})},kx=t=>`lb-${t.toLowerCase()}`,Xt=(t,l={})=>{const i=["lb-block",kx(t)];return l.customClass&&i.push(l.customClass),i.join(" ")},Yt=(t,l="")=>{const i=Ai(t?.layoutStyles),s=t?.customCSS||"";return[i,l,s].filter(Boolean).join("; ")},Cx=(t="20px")=>`
<table width="100%" cellpadding="0" cellspacing="0" border="0" role="presentation">
    <tr>
        <td style="height: ${t}; line-height: ${t}; font-size: 1px;">&nbsp;</td>
    </tr>
</table>`.trim(),Sx="heading",jx="1.0.0",Nx="Heading",Ex="Content",$x="mdi:format-header-1",Tx="Add a heading to your content",Rx=["heading","title","h1","h2","h3"],Lx=["email","page","campaign"],Ax={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,headingLevel:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Bx={text:"",level:"h1",align:"left",color:"#333333",fontSize:"32px",fontWeight:"bold",lineHeight:"1.2",letterSpacing:"0"},Ix={type:Sx,version:jx,label:Nx,category:Ex,icon:$x,description:Tx,keywords:Rx,contexts:Lx,supports:Ax,defaultProps:Bx};function Pf({isOpen:t,searchQuery:l="",onSelect:i,onClose:s,position:c={top:0,left:0},context:d="post"}){const[g,m]=x.useState(0),p=x.useRef(null),v=x.useRef([]),y=Ge.getBlocksForContext(d).filter(w=>{if(!l)return!0;const C=l.toLowerCase();return w.label.toLowerCase().includes(C)||w.type.toLowerCase().includes(C)||w.keywords&&w.keywords.some(S=>S.toLowerCase().includes(C))});x.useEffect(()=>{m(0)},[l]),x.useEffect(()=>{v.current[g]&&v.current[g].scrollIntoView({block:"nearest"})},[g]);const N=x.useCallback(w=>{if(t)switch(w.key){case"ArrowDown":w.preventDefault(),m(C=>C<y.length-1?C+1:C);break;case"ArrowUp":w.preventDefault(),m(C=>C>0?C-1:C);break;case"Enter":w.preventDefault(),y[g]&&i(y[g].type);break;case"Escape":w.preventDefault(),s();break}},[t,y,g,i,s]);if(x.useEffect(()=>{if(t)return document.addEventListener("keydown",N,!0),()=>document.removeEventListener("keydown",N,!0)},[t,N]),x.useEffect(()=>{if(!t)return;const w=C=>{p.current&&!p.current.contains(C.target)&&s()};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[t,s]),!t)return null;const j=y.reduce((w,C)=>{const S=C.category||"Other";return w[S]||(w[S]=[]),w[S].push(C),w},{});let E=0;return r.jsx("div",{ref:p,className:"absolute z-50 bg-white rounded-lg shadow-lg border border-gray-200 w-72 max-h-80 overflow-y-auto",style:{top:c.top,left:c.left},children:y.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:f("No blocks found")}):r.jsx("div",{className:"py-2",children:Object.entries(j).map(([w,C])=>r.jsxs("div",{children:[r.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(w)}),C.map(S=>{const T=E++,$=T===g;return r.jsxs("button",{ref:L=>v.current[T]=L,className:`w-full px-3 py-2 flex items-center gap-3 text-left transition-colors ${$?"bg-primary/10 text-primary":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>i(S.type),onMouseEnter:()=>m(T),children:[S.icon&&r.jsx("iconify-icon",{icon:S.icon,width:"20",height:"20",className:$?"text-primary":"text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:f(S.label)}),S.description&&r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:f(S.description)})]})]},S.type)})]},w))})})}function Jd(t){return!t||t==="<br>"||t==="<br/>"?!0:t.replace(/<br\s*\/?>/gi,"").trim()===""}function Zd(t){return t?t.trim()==="":!0}function ef(t,l,i){const s=i(t),c=i(l);return s&&c?!1:s!==c?!0:l!==t}function ll({editorRef:t,contentKey:l="content",useInnerHTML:i=!0,propsRef:s,onUpdateRef:c,lastContentRef:d}){const g=x.useCallback(b=>i?Jd(b):Zd(b),[i]),m=x.useCallback(()=>t.current?i?t.current.innerHTML:t.current.textContent:"",[t,i]),p=x.useCallback(()=>{if(!t.current)return!1;const b=m(),y=d.current;return ef(y,b,g)?(d.current=b,c.current({...s.current,[l]:b}),!0):!1},[t,m,d,g,c,s,l]),v=x.useCallback(()=>g(m()),[g,m]);return{handleContentChange:p,getContent:m,isEmpty:g,isCurrentContentEmpty:v,isHtmlContentEmpty:Jd,isTextContentEmpty:Zd,hasContentChanged:(b,y)=>ef(b,y,g)}}const _x=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s,onInsertBlockAfter:c,onDelete:d,onReplaceBlock:g,context:m="post"})=>{const p=x.useRef(null),v=x.useRef(t.text),b=x.useRef(t),y=x.useRef(l),[N,j]=x.useState(!1),[E,w]=x.useState(""),[C,S]=x.useState({top:0,left:0});b.current=t,y.current=l;const T=x.useRef(c);T.current=c;const $=x.useRef(d);$.current=d;const L=x.useRef(g);L.current=g;const A=x.useCallback(()=>p.current&&p.current.textContent||"",[]),P=x.useCallback(()=>p.current?{top:p.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),M=x.useCallback(K=>{j(!1),w(""),L.current&&L.current(K)},[]),{handleContentChange:W,isEmpty:G}=ll({editorRef:p,contentKey:"text",useInnerHTML:!0,propsRef:b,onUpdateRef:y,lastContentRef:v}),U=x.useCallback(K=>{if(N){if(["ArrowDown","ArrowUp","Escape"].includes(K.key))return;if(K.key==="Enter"){K.preventDefault(),K.stopPropagation();return}}if(K.key==="Enter"&&!K.shiftKey){if(K.preventDefault(),K.stopPropagation(),N)return;if(p.current){const I=p.current.innerHTML;v.current=I,y.current({...b.current,text:I})}T.current&&T.current("text")}if(K.key==="Backspace"){const I=p.current?.innerHTML||"";G(I)&&(K.preventDefault(),K.stopPropagation(),$.current&&$.current())}K.key==="Escape"&&N&&(K.preventDefault(),j(!1),w(""))},[N,G]),X=x.useCallback(()=>{W();const K=A();if(K.startsWith("/")){const I=K.slice(1);w(I),S(P()),j(!0)}else j(!1),w("")},[W,A,P]),O=x.useCallback(K=>{y.current({...b.current,align:K})},[]);x.useEffect(()=>{i&&p.current&&(p.current.innerHTML===""||p.current.innerHTML==="<br>")&&(p.current.innerHTML=t.text||"",v.current=t.text),i||(j(!1),w(""))},[i]),x.useEffect(()=>{if(i&&p.current&&t.text!==v.current){const K=window.getSelection();let I=0;if(K.rangeCount>0){const F=K.getRangeAt(0),ie=F.cloneRange();ie.selectNodeContents(p.current),ie.setEnd(F.endContainer,F.endOffset),I=ie.toString().length}p.current.innerHTML=t.text||"",v.current=t.text;try{const F=document.createRange(),ie=[],ne=document.createTreeWalker(p.current,NodeFilter.SHOW_TEXT,null,!1);let ge;for(;ge=ne.nextNode();)ie.push(ge);let ue=0;for(const Ce of ie){const ye=Ce.textContent.length;if(ue+ye>=I){F.setStart(Ce,I-ue),F.collapse(!0),K.removeAllRanges(),K.addRange(F);break}ue+=ye}}catch{p.current.focus()}}},[t.text,i]),x.useEffect(()=>{i&&s?s({editorRef:p,isContentEditable:!0,align:b.current.align||"left",onAlignChange:O}):!i&&s&&s(null)},[i,s,O]),x.useEffect(()=>{i&&p.current&&requestAnimationFrame(()=>{if(p.current){p.current.focus();const K=document.createRange();K.selectNodeContents(p.current),K.collapse(!1);const I=window.getSelection();I.removeAllRanges(),I.addRange(K)}})},[i]);const J=K=>{switch(K){case"h1":return"32px";case"h2":return"28px";case"h3":return"24px";case"h4":return"20px";case"h5":return"18px";case"h6":return"16px";default:return"32px"}},te={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||J(t.level),fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.3",margin:0,padding:"8px",borderRadius:"4px"},re=Ae(te,t.layoutStyles),ae=G(t.text),pe=t.text&&A().startsWith("/");if(i)return r.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[r.jsx("div",{ref:p,contentEditable:!0,suppressContentEditableWarning:!0,onInput:X,onBlur:X,onKeyDown:U,style:{...re,width:"100%",outline:"none",minHeight:"1.5em"}}),ae&&!pe&&r.jsx("div",{style:{position:"absolute",top:re.padding||"8px",left:re.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:re.fontSize,fontWeight:re.fontWeight,lineHeight:re.lineHeight||"1.3"},children:f("Heading")}),N&&r.jsx(Pf,{isOpen:N,searchQuery:E,onSelect:M,onClose:()=>{j(!1),w("")},position:C,context:m})]});const V=t.level||"h1",ee=()=>t.text?r.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}}):r.jsx("span",{style:{color:"#9ca3af"},children:f("Heading")});return r.jsx(V,{style:re,children:ee()})},Dx=(t,l={})=>{const i={text:t.text||"",level:t.level||"h2",align:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"32px",fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.2",letterSpacing:t.letterSpacing||"0",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="heading" data-block-id="${s}" data-props='${c}'></div>`},Px=(t,l={})=>{const i=t.level||"h2",s=t.text||"",c=t.align||"left",d=t.color||"#333333",g=t.fontSize||"24px",m=t.fontWeight||"700";return`<${i} style="text-align: ${c}; color: ${d}; font-size: ${g}; font-weight: ${m}; margin: 0 0 16px 0;">${s}</${i}>`},zx={page:Dx,email:Px},Mx={h1:"32px",h2:"28px",h3:"24px",h4:"20px",h5:"18px",h6:"16px"},Ox=[{name:"level",type:"select",label:f("Heading Level"),section:f("Content"),options:[{value:"h1",label:f("H1 - Main Heading")},{value:"h2",label:f("H2 - Section Heading")},{value:"h3",label:f("H3 - Subsection")},{value:"h4",label:f("H4 - Minor Heading")},{value:"h5",label:f("H5 - Small Heading")},{value:"h6",label:f("H6 - Smallest Heading")}],linkedFields:{fontSize:t=>Mx[t]||"24px"}}],Hx=_e(Ix,{block:_x,save:zx,fields:Ox}),Fx="text",Wx="1.0.0",Ux="Text",Vx="Content",Kx="mdi:format-text",Gx="Add a paragraph of text to your content",Xx=["text","paragraph","content","body"],Yx=["email","page","campaign"],Qx={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},qx={content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"},Jx={type:Fx,version:Wx,label:Ux,category:Vx,icon:Kx,description:Gx,keywords:Xx,contexts:Yx,supports:Qx,defaultProps:qx};function Zx({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s,onInsertBlockAfter:c,onDelete:d,onReplaceBlock:g,context:m="post"}){const p=x.useRef(null),v=x.useRef(t.content),b=x.useRef(t),y=x.useRef(l),[N,j]=x.useState(!1),[E,w]=x.useState(""),[C,S]=x.useState({top:0,left:0});b.current=t,y.current=l;const T=x.useRef(c);T.current=c;const $=x.useRef(d);$.current=d;const L=x.useRef(g);L.current=g;const A=x.useCallback(()=>p.current&&p.current.textContent||"",[]),P=x.useCallback(()=>p.current?{top:p.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),M=x.useCallback(V=>{j(!1),w(""),L.current&&L.current(V)},[]),{handleContentChange:W,isEmpty:G}=ll({editorRef:p,contentKey:"content",useInnerHTML:!0,propsRef:b,onUpdateRef:y,lastContentRef:v}),U=x.useCallback(V=>{if(N){if(["ArrowDown","ArrowUp","Escape"].includes(V.key))return;if(V.key==="Enter"){V.preventDefault(),V.stopPropagation();return}}if(V.key==="Enter"&&!V.shiftKey){if(V.preventDefault(),V.stopPropagation(),N)return;if(p.current){const ee=p.current.innerHTML;v.current=ee,y.current({...b.current,content:ee})}T.current&&T.current("text")}if(V.key==="Backspace"){const ee=p.current?.innerHTML||"";G(ee)&&(V.preventDefault(),V.stopPropagation(),$.current&&$.current())}V.key==="Escape"&&N&&(V.preventDefault(),j(!1),w(""))},[N,G]),X=x.useCallback(()=>{W();const V=A();if(V.startsWith("/")){const ee=V.slice(1);w(ee),S(P()),j(!0)}else j(!1),w("")},[W,A,P]),O=x.useCallback(V=>{y.current({...b.current,align:V})},[]);x.useEffect(()=>{i&&p.current&&(p.current.innerHTML===""||p.current.innerHTML==="<br>")&&(p.current.innerHTML=t.content||"",v.current=t.content),i||(j(!1),w(""))},[i]),x.useEffect(()=>{if(i&&p.current&&t.content!==v.current){const V=window.getSelection();let ee=0;if(V.rangeCount>0){const K=V.getRangeAt(0),I=K.cloneRange();I.selectNodeContents(p.current),I.setEnd(K.endContainer,K.endOffset),ee=I.toString().length}p.current.innerHTML=t.content||"",v.current=t.content;try{const K=document.createRange(),I=[],F=document.createTreeWalker(p.current,NodeFilter.SHOW_TEXT,null,!1);let ie;for(;ie=F.nextNode();)I.push(ie);let ne=0;for(const ge of I){const ue=ge.textContent.length;if(ne+ue>=ee){K.setStart(ge,ee-ne),K.collapse(!0),V.removeAllRanges(),V.addRange(K);break}ne+=ue}}catch{p.current.focus()}}},[t.content,i]),x.useEffect(()=>{i&&s?s({editorRef:p,isContentEditable:!0,align:b.current.align||"left",onAlignChange:O}):!i&&s&&s(null)},[i,s,O]),x.useEffect(()=>{i&&p.current&&requestAnimationFrame(()=>{if(p.current){p.current.focus();const V=document.createRange();V.selectNodeContents(p.current),V.collapse(!1);const ee=window.getSelection();ee.removeAllRanges(),ee.addRange(V)}})},[i]);const J={textAlign:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"},te=Ae(J,t.layoutStyles),re=G(t.content),ae=t.content&&A().startsWith("/");if(i)return r.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[r.jsx("div",{ref:p,contentEditable:!0,suppressContentEditableWarning:!0,onInput:X,onBlur:X,onKeyDown:U,style:{...te,width:"100%",outline:"none"}}),re&&!ae&&r.jsx("div",{style:{position:"absolute",top:te.padding||"8px",left:te.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:te.fontSize||"16px",lineHeight:te.lineHeight||"1.6"},children:f("Type / to choose a block")}),N&&r.jsx(Pf,{isOpen:N,searchQuery:E,onSelect:M,onClose:()=>{j(!1),w("")},position:C,context:m})]});const pe=()=>t.content?r.jsx("span",{dangerouslySetInnerHTML:{__html:t.content}}):r.jsx("span",{style:{color:"#9ca3af"},children:f("Type / to choose a block")});return r.jsx("div",{style:te,children:pe()})}const ey=(t,l={})=>{const i={content:t.content||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="text" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},ty=(t,l={})=>{const i=t.content||"",s=t.align||"left",c=t.color||"#333333",d=t.fontSize||"16px",g=t.lineHeight||"1.6";return`<div style="text-align: ${s}; color: ${c}; font-size: ${d}; line-height: ${g};">${i}</div>`},ny={page:ey,email:ty},ry=_e(Jx,{block:Zx,save:ny}),oy="text-editor",ly="1.0.0",iy="Text Editor",sy="Content",ay="mdi:text-box-edit-outline",cy="Rich text editor with formatting",uy=["text","editor","rich","wysiwyg","formatting"],dy=["email","page","campaign"],fy={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},gy={content:"",align:"left",color:"#333333",fontSize:"16px",lineHeight:"1.6"},py={type:oy,version:ly,label:iy,category:sy,icon:ay,description:cy,keywords:uy,contexts:dy,supports:fy,defaultProps:gy},hy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{x.useRef(null);const c=x.useRef(null),[d,g]=x.useState(!1),[m,p]=x.useState(!1),v=x.useRef(t),b=x.useRef(l),y=x.useRef(null);v.current=t,b.current=l,x.useEffect(()=>{if(!i||d||m)return;if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>w(),document.head.appendChild(C)}else w();function w(){!c.current||y.current||(p(!0),window.tinymce.init({target:c.current,inline:!0,menubar:!1,statusbar:!1,toolbar_mode:"floating",toolbar:"bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright | bullist numlist | link | removeformat",plugins:"link lists",placeholder:"Start typing...",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: ${t.fontSize||"16px"};
                        line-height: ${t.lineHeight||"1.6"};
                        color: ${t.color||"#333333"};
                        margin: 0;
                        padding: 0;
                    }
                    p { margin: 0 0 1em 0; }
                    p:last-child { margin-bottom: 0; }
                `,setup:C=>{y.current=C,C.on("init",()=>{g(!0),p(!1),C.setContent(v.current.content||""),C.focus()}),C.on("change keyup",()=>{const S=C.getContent();S!==v.current.content&&b.current({...v.current,content:S})}),C.on("blur",()=>{const S=C.getContent();S!==v.current.content&&b.current({...v.current,content:S})})},toolbar_sticky:!1,ui_mode:"split",quickbars_selection_toolbar:"bold italic underline | forecolor | link",quickbars_insert_toolbar:!1}))}return()=>{if(y.current){const C=y.current.getContent();C!==v.current.content&&b.current({...v.current,content:C}),y.current.destroy(),y.current=null,g(!1),p(!1)}}},[i]),x.useEffect(()=>{if(!i&&y.current){const w=y.current.getContent();w!==v.current.content&&b.current({...v.current,content:w}),y.current.destroy(),y.current=null,g(!1)}},[i]);const N=x.useCallback(w=>{b.current({...v.current,align:w})},[]);x.useEffect(()=>{i&&s?s({editorRef:c,isContentEditable:!0,align:v.current.align||"left",onAlignChange:N,isTinyMCE:!0}):!i&&s&&s(null)},[i,s,N]);const j={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"};if(i)return r.jsxs("div",{"data-text-editing":"true",className:"relative",children:[r.jsx("div",{ref:c,className:"focus-within:ring-2 focus-within:ring-primary rounded",style:{...j,width:"100%",outline:"none",background:"white",cursor:"text"}}),m&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50",children:r.jsx("span",{className:"text-sm text-gray-500",children:"Loading editor..."})})]});const E=()=>{const w=t.content||"<p>Click to edit with rich text editor...</p>";return r.jsx("div",{dangerouslySetInnerHTML:{__html:w}})};return r.jsx("div",{style:j,children:E()})},my=(t,l={})=>{const s=Xt("text-editor",t),c=[];t.align&&c.push(`text-align: ${t.align}`),t.color&&!t.layoutStyles?.typography?.color&&c.push(`color: ${t.color}`),t.fontSize&&!t.layoutStyles?.typography?.fontSize&&c.push(`font-size: ${t.fontSize}`),t.lineHeight&&!t.layoutStyles?.typography?.lineHeight&&c.push(`line-height: ${t.lineHeight}`);const d=Yt(t,c.join("; "));return`<div class="${s}" style="${d}">${t.content||""}</div>`},xy=(t,l={})=>`<div style="text-align: ${t.align||"left"}; color: ${t.color||"#333333"}; font-size: ${t.fontSize||"16px"}; line-height: ${t.lineHeight||"1.6"};">${t.content||""}</div>`,yy={page:my,email:xy},vy=_e(py,{block:hy,save:yy}),by="image",wy="1.0.0",ky="Image",Cy="Content",Sy="mdi:image-outline",jy="Add an image to your content",Ny=["image","picture","photo","media"],Ey=["email","page","campaign"],$y={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ty={src:"",alt:"Image description",width:"100%",height:"auto",customWidth:"",customHeight:"",align:"center",link:""},Ry={type:by,version:wy,label:ky,category:Cy,icon:Sy,description:jy,keywords:Ny,contexts:Ey,supports:$y,defaultProps:Ty},Ly=({props:t,onUpdate:l,isSelected:i})=>{const[s,c]=x.useState(!1),g={textAlign:$r(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},m=Ae(g,t.layoutStyles),p=()=>t.width==="custom"&&t.customWidth?t.customWidth:t.width||"100%",v=()=>t.height==="custom"&&t.customHeight?t.customHeight:t.height||"auto",b=t.width==="custom"&&t.customWidth,y=t.height==="custom"&&t.customHeight,N={maxWidth:p(),width:b?t.customWidth:void 0,height:v(),display:"inline-block",objectFit:b||y?"cover":void 0},j=x.useCallback(async C=>{C.stopPropagation();try{const S=await Zo.selectImage();S&&l&&l({...t,src:S.url,alt:t.alt||S.name||""})}catch{}},[t,l]),E=x.useCallback(C=>{C.stopPropagation(),l&&l({...t,src:""})},[t,l]),w=i||s;return r.jsx("div",{style:m,children:t.src?r.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[r.jsx("img",{src:t.src,alt:t.alt||"",style:N}),w&&r.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"4px",transition:"opacity 0.2s ease"},children:[r.jsxs("button",{type:"button",onClick:j,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[r.jsx("iconify-icon",{icon:"lucide:image",width:"16",height:"16"}),f("Change")]}),r.jsx("button",{type:"button",onClick:E,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},title:f("Remove image"),children:r.jsx("iconify-icon",{icon:"lucide:trash-2",width:"16",height:"16"})})]})]}):r.jsxs("div",{onClick:j,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{cursor:"pointer"},className:`bg-gray-100 dark:bg-gray-800 border-2 border-dashed ${s||i?"border-primary bg-primary/10 dark:bg-primary/20":"border-gray-300 dark:border-gray-600"} text-gray-500 dark:text-gray-400 p-8 rounded-lg text-center transition-colors`,children:[r.jsx("iconify-icon",{icon:s||i?"lucide:upload":"mdi:image-plus",width:"40",height:"40",class:"mb-2",style:{color:s||i?"var(--color-primary, #635bff)":void 0}}),r.jsx("div",{className:"text-sm font-medium",children:f(s||i?"Click to select image":"Click to add image")}),r.jsx("div",{className:"text-xs mt-1 opacity-70",children:f("or use the properties panel")})]})})},Ay=(t,l={})=>{const i={src:t.src||"",alt:t.alt||"Image",width:t.width||"100%",height:t.height||"auto",customWidth:t.customWidth||"",customHeight:t.customHeight||"",align:t.align||"center",link:t.link||"",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="image" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},By=(t,l={})=>{const i=t.src||"",s=t.alt||"Image",c=t.align||"center",d=t.link||"",g=t.width==="custom"&&t.customWidth,m=t.height==="custom"&&t.customHeight,p=g?t.customWidth:t.width||"100%",v=m?t.customHeight:t.height||"auto",b=`max-width: ${p};${g?` width: ${t.customWidth};`:""} height: ${v}; display: block; margin: 0 auto;${v!=="auto"?" object-fit: cover;":""}`,y=`<img src="${i}" alt="${s}" style="${b}" />`;return d?`<a href="${d}" target="_blank" style="display: block; text-align: ${c};">${y}</a>`:`<div style="text-align: ${c};">${y}</div>`},Iy={page:Ay,email:By},_y=[{name:"src",type:"image",label:f("Image"),section:f("Content")},{name:"alt",type:"text",label:f("Alt Text"),placeholder:f("Describe the image..."),section:f("Content")},{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Link")},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")+" (100%)"},{value:"75%",label:f("Three Quarters")+" (75%)"},{value:"50%",label:f("Half")+" (50%)"},{value:"25%",label:f("Quarter")+" (25%)"},{value:"custom",label:f("Custom")}]},{name:"customWidth",type:"text",label:f("Custom Width"),placeholder:f("e.g., 300px"),section:f("Size")},{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"auto",label:f("Auto")},{value:"custom",label:f("Custom")}]},{name:"customHeight",type:"text",label:f("Custom Height"),placeholder:f("e.g., 200px"),section:f("Size")}],Dy=_e(Ry,{block:Ly,save:Iy,fields:_y}),Py="button",zy="1.0.0",My="Button",Oy="Content",Hy="mdi:button-cursor",Fy="Add a call-to-action button",Wy=["button","cta","link","action"],Uy=["email","page","campaign"],Vy={align:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ky={text:"Click Here",link:"#",backgroundColor:"#635bff",textColor:"#ffffff",borderRadius:"6px",padding:"12px 24px",align:"center",fontSize:"16px",fontWeight:"600"},Gy={type:Py,version:zy,label:My,category:Oy,icon:Hy,description:Fy,keywords:Wy,contexts:Uy,supports:Vy,defaultProps:Ky},Xy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{const c=x.useRef(null),d=x.useRef(t.text),g=x.useRef(t),m=x.useRef(l);g.current=t,m.current=l;const{handleContentChange:p}=ll({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:g,onUpdateRef:m,lastContentRef:d}),v=x.useCallback(()=>{p()},[p]),b=x.useCallback(w=>{m.current({...g.current,align:w})},[]);x.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"Button Text",d.current=t.text)},[i]),x.useEffect(()=>{if(i&&c.current&&t.text!==d.current){const w=window.getSelection();let C=0;if(w.rangeCount>0){const S=w.getRangeAt(0),T=S.cloneRange();T.selectNodeContents(c.current),T.setEnd(S.endContainer,S.endOffset),C=T.toString().length}c.current.innerHTML=t.text||"",d.current=t.text;try{const S=document.createRange(),T=[],$=document.createTreeWalker(c.current,NodeFilter.SHOW_TEXT,null,!1);let L;for(;L=$.nextNode();)T.push(L);let A=0;for(const P of T){const M=P.textContent.length;if(A+M>=C){S.setStart(P,C-A),S.collapse(!0),w.removeAllRanges(),w.addRange(S);break}A+=M}}catch{c.current.focus()}}},[t.text,i]),x.useEffect(()=>{i&&s?s({editorRef:c,isContentEditable:!0,align:g.current.align||"center",onAlignChange:b}):!i&&s&&s(null)},[i,s,b]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const w=document.createRange();w.selectNodeContents(c.current),w.collapse(!1);const C=window.getSelection();C.removeAllRanges(),C.addRange(w)}})},[i]);const y={textAlign:t.align||"center",padding:"10px 8px",borderRadius:"4px"},N=Ae(y,t.layoutStyles),j={display:"inline-block",backgroundColor:t.backgroundColor||"#635bff",color:t.textColor||"#ffffff",padding:t.padding||"12px 24px",borderRadius:t.borderRadius||"6px",textDecoration:"none",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",cursor:i?"text":"default",border:"none",outline:"none",minWidth:"80px"};if(i)return r.jsx("div",{"data-text-editing":"true",style:N,children:r.jsx("span",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:v,onBlur:v,onKeyDown:w=>{w.key==="Enter"&&w.preventDefault()},style:j,role:"textbox","aria-label":"Button text"})});const E=()=>{const w=t.text||"Button Text";return/<[^>]+>/.test(w)?r.jsx("span",{dangerouslySetInnerHTML:{__html:w}}):w};return r.jsx("div",{style:N,children:r.jsx("button",{type:"button",style:j,children:E()})})},Yy=(t,l={})=>{const i={text:t.text||"Click Here",link:t.link||"",target:t.target||"_self",align:t.align||"center",backgroundColor:t.backgroundColor||"#635bff",textColor:t.textColor||"#ffffff",borderRadius:t.borderRadius||"6px",padding:t.padding||"12px 24px",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",nofollow:t.nofollow||!1,sponsored:t.sponsored||!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="button" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Qy=(t,l={})=>{const i=t.text||"Click Here",s=t.link||"#",c=t.align||"center",d=t.backgroundColor||"#635bff",g=t.textColor||"#ffffff",m=t.borderRadius||"6px",p=t.padding||"12px 24px",v=t.fontSize||"16px",b=t.fontWeight||"600";return`
        <div style="text-align: ${c}; padding: 10px 0;">
            <a href="${s}" target="_blank" style="display: inline-block; background-color: ${d}; color: ${g}; padding: ${p}; border-radius: ${m}; text-decoration: none; font-size: ${v}; font-weight: ${b};">${i}</a>
        </div>
    `},qy={page:Yy,email:Qy},Jy=[{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Content")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"fontWeight",type:"select",label:f("Font Weight"),section:f("Typography"),options:[{value:"normal",label:f("Normal")},{value:"500",label:f("Medium")},{value:"600",label:f("Semi Bold")},{value:"bold",label:f("Bold")}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"},{value:"9999px",label:f("Pill")}]},{name:"padding",type:"select",label:f("Padding"),section:f("Style"),options:[{value:"8px 16px",label:f("Small")},{value:"12px 24px",label:f("Medium")},{value:"16px 32px",label:f("Large")},{value:"20px 40px",label:f("X-Large")}]}],Zy=_e(Gy,{block:Xy,save:qy,fields:Jy}),e0="divider",t0="1.0.0",n0="Divider",r0="Layout",o0="mdi:minus",l0="Add a horizontal line divider",i0=["divider","line","separator","hr"],s0=["email","page","campaign"],a0={colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},c0={style:"solid",color:"#e5e7eb",thickness:"1px",width:"100%",margin:"20px 0"},u0={type:e0,version:t0,label:n0,category:r0,icon:o0,description:l0,keywords:i0,contexts:s0,supports:a0,defaultProps:c0},d0=({props:t})=>{const i=Ae({padding:"8px",borderRadius:"4px"},t.layoutStyles),s={border:"none",borderTop:`${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,width:t.width||"100%",margin:t.margin||"20px 0"};return r.jsx("div",{style:i,children:r.jsx("hr",{style:s})})},f0=(t,l={})=>{const s=Xt("divider",t),c=["border: none",`border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,`width: ${t.width||"100%"}`,`margin: ${t.margin||"20px auto"}`],d=Yt(t,c.join("; "));return`<hr class="${s}" style="${d}" />`},g0=(t,l={})=>`<hr style="border: none; border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}; width: ${t.width||"100%"}; margin: ${t.margin||"20px auto"};" />`,p0={page:f0,email:g0},h0=[{name:"style",type:"select",label:f("Style"),section:f("Appearance"),options:[{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")}]},{name:"color",type:"color",label:f("Color"),section:f("Appearance")},{name:"thickness",type:"select",label:f("Thickness"),section:f("Size"),options:[{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"},{value:"4px",label:"4px"}]},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"}]}],m0=_e(u0,{block:d0,save:p0,fields:h0}),x0="spacer",y0="1.0.0",v0="Spacer",b0="Layout",w0="mdi:arrow-expand-vertical",k0="Add vertical spacing between blocks",C0=["spacer","space","gap","padding"],S0=["email","page","campaign"],j0={spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},N0={height:"40px"},E0={type:x0,version:y0,label:v0,category:b0,icon:w0,description:k0,keywords:C0,contexts:S0,supports:j0,defaultProps:N0},$0=({props:t})=>{const i=Ae({outline:"1px dashed #d1d5db",borderRadius:"4px",backgroundColor:"transparent"},t.layoutStyles),s={height:t.height||"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"12px"};return r.jsx("div",{style:i,children:r.jsxs("div",{style:s,children:["Spacer (",t.height||"40px",")"]})})},T0=(t,l={})=>{const i=Xt("spacer",t),s=`height: ${t.height||"20px"}`,c=Yt(t,s);return`<div class="${i}" style="${c}"></div>`},R0=(t,l={})=>Cx(t.height||"20px"),L0={page:T0,email:R0},A0=[{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"10px",label:"10px"},{value:"20px",label:"20px"},{value:"30px",label:"30px"},{value:"40px",label:"40px"},{value:"50px",label:"50px"},{value:"60px",label:"60px"},{value:"80px",label:"80px"},{value:"100px",label:"100px"}]}],B0=_e(E0,{block:$0,save:L0,fields:A0}),I0="columns",_0="1.0.0",D0="Columns",P0="Layout",z0="mdi:view-column-outline",M0="Create multi-column layouts",O0=["columns","layout","grid","sections"],H0=["email","page","campaign"],F0={columnCount:!0,align:!1,spacing:!0,nesting:!0,layout:!0,html:!0,duplicate:!0,remove:!0},W0={columns:2,gap:"20px",verticalAlign:"stretch",horizontalAlign:"stretch",stackOnMobile:!0,children:[[],[]]},U0={type:I0,version:_0,label:D0,category:P0,icon:z0,description:M0,keywords:O0,contexts:H0,supports:F0,defaultProps:W0},V0=[{id:"improve",label:f("Improve writing"),icon:"mdi:auto-fix",prompt:"Improve the writing quality of this text while keeping the same meaning. Make it more clear, engaging, and professional."},{id:"fix_grammar",label:f("Fix grammar"),icon:"mdi:spellcheck",prompt:"Fix any grammar, spelling, and punctuation errors in this text. Keep the original meaning and tone."},{id:"make_shorter",label:f("Make shorter"),icon:"mdi:text-short",prompt:"Make this text more concise while keeping the key points. Remove unnecessary words and phrases."},{id:"make_longer",label:f("Make longer"),icon:"mdi:text-long",prompt:"Expand this text with more details and explanations while keeping it relevant and engaging."},{id:"simplify",label:f("Simplify"),icon:"mdi:lightbulb-outline",prompt:"Simplify this text to make it easier to understand. Use simpler words and shorter sentences."},{id:"formal",label:f("Make formal"),icon:"mdi:briefcase-outline",prompt:"Rewrite this text in a more formal, professional tone suitable for business communication."},{id:"casual",label:f("Make casual"),icon:"mdi:emoticon-happy-outline",prompt:"Rewrite this text in a more casual, friendly tone while keeping the message clear."},{id:"translate",label:f("Translate to English"),icon:"mdi:translate",prompt:"Translate this text to English. Keep the original meaning and tone."}];function K0({isOpen:t,onClose:l,selectedText:i,onApply:s,position:c={top:0,left:0}}){const[d,g]=x.useState(!1),[m,p]=x.useState(""),[v,b]=x.useState(""),[y,N]=x.useState(""),[j,E]=x.useState(!1),[w,C]=x.useState(c),S=x.useRef(null),T=x.useRef(null);x.useEffect(()=>{if(!t||!S.current){C(c);return}const W=()=>{const G=S.current;if(!G)return;const U=G.getBoundingClientRect(),X=window.innerWidth,O=window.innerHeight,J=16;let te=c.top,re=c.left;c.top+U.height>O-J&&(te=Math.max(J,c.top-U.height-10),te<J&&(te=J)),c.left+U.width>X-J&&(re=Math.max(J,X-U.width-J)),re<J&&(re=J),C({top:te,left:re})};return requestAnimationFrame(W),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[t,c]),x.useEffect(()=>{const W=G=>{S.current&&!S.current.contains(G.target)&&l()};return t&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[t,l]),x.useEffect(()=>{j&&T.current&&T.current.focus()},[j]),x.useEffect(()=>{t||(b(""),N(""),p(""),E(!1))},[t]);const $=async W=>{await A(W.prompt)},L=async()=>{m.trim()&&await A(m)},A=async W=>{if(!i?.trim()){N(f("No text selected"));return}g(!0),N(""),b("");try{const G=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),X=await(await fetch("/admin/ai/modify-text",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":G,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({text:i,instruction:W})})).json();X.success?b(X.data.text||X.data):N(X.message||f("Failed to modify text"))}catch(G){N(f("Network error. Please try again.")),console.error("AI Text Assistant Error:",G)}finally{g(!1)}},P=()=>{v&&(s(v),l())};if(!t)return null;const M=()=>{const U=window.innerHeight-w.top-32;return Math.min(500,Math.max(300,U))};return cr.createPortal(r.jsxs("div",{ref:S,className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-gray-200 w-80 overflow-hidden flex flex-col",style:{top:w.top,left:w.left,maxHeight:`${M()}px`},onClick:W=>W.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-primary/10 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"text-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-800",children:f("AI Assistant")})]}),r.jsx("button",{type:"button",onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"18",height:"18"})})]}),r.jsxs("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:[i&&!v&&r.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded-md border border-gray-200",children:[r.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Selected text"),":"]}),r.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:i})]}),d&&r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:f("Processing...")})]}),y&&!d&&(()=>{const W=y.toLowerCase(),G=W.includes("not configured")||W.includes("api key")||W.includes("contact the administrator");return r.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"18",height:"18",class:"text-red-500 shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:f("Error")}),r.jsx("p",{className:"text-sm text-red-600 break-words",children:y})]})]}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[G&&r.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16"}),f("Go to Settings")]}),r.jsx("button",{type:"button",onClick:()=>N(""),className:`btn-danger ${G?"":"flex-1"}`,children:f("Dismiss")})]})]})})(),v&&!d&&r.jsxs("div",{className:"mb-3",children:[r.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Result"),":"]}),r.jsx("div",{className:"p-2 bg-green-50 rounded-md border border-green-200 mb-3",children:r.jsx("p",{className:"text-sm text-gray-700",children:v})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:P,className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md transition-colors",children:f("Apply")}),r.jsx("button",{type:"button",onClick:()=>{b(""),E(!1)},className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Try again")})]})]}),!d&&!v&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:V0.map(W=>r.jsxs("button",{type:"button",onClick:()=>$(W),className:"flex items-center gap-2 p-2 text-left text-sm text-gray-700 bg-gray-50 hover:bg-primary/10 hover:text-primary rounded-md transition-colors border border-gray-200 hover:border-primary/30",children:[r.jsx("iconify-icon",{icon:W.icon,width:"16",height:"16",class:"text-gray-500"}),r.jsx("span",{className:"truncate",children:W.label})]},W.id))}),r.jsx("div",{className:"border-t border-gray-100 pt-3",children:j?r.jsxs("div",{className:"space-y-2",children:[r.jsx("textarea",{ref:T,value:m,onChange:W=>p(W.target.value),placeholder:f("e.g., Make it sound more exciting..."),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2,onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),L())}}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:L,disabled:!m.trim(),className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-primary hover:opacity-90 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors",children:f("Apply")}),r.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Cancel")})]})]}):r.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full flex items-center justify-center gap-2 p-2 text-sm text-primary hover:opacity-80 hover:bg-primary/10 rounded-md transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:pencil",width:"16",height:"16"}),f("Custom instruction...")]})})]})]})]}),document.body)}const G0=t=>Ge.get(t),zf=({align:t,onAlignChange:l,showJustify:i=!1})=>{const[s,c]=x.useState(!1),d=x.useRef(null),g=[{value:"left",label:f("Align text left"),icon:"mdi:format-align-left"},{value:"center",label:f("Align text center"),icon:"mdi:format-align-center"},{value:"right",label:f("Align text right"),icon:"mdi:format-align-right"},...i?[{value:"justify",label:f("Justify text"),icon:"mdi:format-align-justify"}]:[]],m=g.find(b=>b.value===t)||g[0];x.useEffect(()=>{const b=y=>{d.current&&!d.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{l(b),c(!1)};return r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{type:"button",onClick:()=>c(!s),className:`p-1.5 pb-1 rounded hover:bg-gray-100 transition-colors text-gray-600 flex items-center gap-0.5 ${s?"bg-gray-100":""}`,title:m.label,children:[r.jsx("iconify-icon",{icon:m.icon,width:"16",height:"16"}),r.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-400"})]}),s&&r.jsx("div",{className:"absolute left-0 top-full mt-1 w-44 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map(b=>r.jsxs("button",{type:"button",onClick:()=>p(b.value),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${t===b.value?"text-primary bg-primary/5":"text-gray-700"}`,children:[r.jsx("iconify-icon",{icon:b.icon,width:"16",height:"16",class:t===b.value?"text-primary":"text-gray-500"}),r.jsx("span",{children:b.label})]},b.value))})]})},X0=({align:t,onAlignChange:l})=>r.jsx(zf,{align:t,onAlignChange:l,showJustify:!1}),Y0=()=>[{id:"highlight",label:f("Highlight"),icon:"mdi:marker",tag:"mark",position:10},{id:"inlineCode",label:f("Inline code"),icon:"mdi:code-tags",tag:"code",position:20},{id:"keyboard",label:f("Keyboard input"),icon:"mdi:keyboard",tag:"kbd",position:30},{id:"strikethrough",label:f("Strikethrough"),icon:"mdi:format-strikethrough",command:"strikeThrough",position:40},{id:"subscript",label:f("Subscript"),icon:"mdi:format-subscript",command:"subscript",position:50},{id:"superscript",label:f("Superscript"),icon:"mdi:format-superscript",command:"superscript",position:60}],Q0=({editorRef:t,saveSelection:l,restoreSelection:i})=>{const[s,c]=x.useState(!1),d=x.useRef(null),g=x.useMemo(()=>{const y=Y0();return[...fe.applyFilters(ve.FILTER_MORE_TEXT_CONTROLS,y)].sort((j,E)=>(j.position||100)-(E.position||100))},[]);x.useEffect(()=>{const y=N=>{d.current&&!d.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=(y,N=null)=>{i(),document.execCommand(y,!1,N),t?.current&&t.current.focus()},p=(y,N={})=>{i();const j=window.getSelection();if(!j||j.rangeCount===0)return;const E=j.getRangeAt(0);if(E.collapsed||!E.toString())return;const C=document.createElement(y);N.className&&(C.className=N.className),N.style&&Object.assign(C.style,N.style),N.attributes&&Object.entries(N.attributes).forEach(([T,$])=>{C.setAttribute(T,$)});try{E.surroundContents(C)}catch{const $=E.extractContents();C.appendChild($),E.insertNode(C)}const S=document.createRange();S.setStartAfter(C),S.setEndAfter(C),j.removeAllRanges(),j.addRange(S),t?.current&&t.current.focus()},v=y=>{y.onClick?y.onClick(m,p):y.command?m(y.command,y.commandValue||null):y.tag&&p(y.tag,{className:y.className,style:y.style,attributes:y.attributes}),c(!1)};return r.jsxs("div",{className:"relative",ref:d,children:[r.jsx("button",{type:"button",onMouseDown:l,onClick:()=>c(!s),className:`p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600 ${s?"bg-gray-100":""}`,title:f("More text controls"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"16",height:"16"})}),s&&r.jsx("div",{className:"absolute left-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map((y,N)=>r.jsx("div",{children:y.type==="separator"?r.jsx("div",{className:"border-t border-gray-100 my-1"}):r.jsxs("button",{type:"button",onClick:()=>v(y),className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",disabled:y.disabled,children:[r.jsx("iconify-icon",{icon:y.icon||"mdi:format-text",width:"16",height:"16",class:"text-gray-500"}),r.jsx("span",{children:y.label})]})},y.id||N))})]})},q0=({editorRef:t,align:l,onAlignChange:i,supports:s={},onContentChange:c})=>{const d=s.bold!==!1,g=s.italic!==!1,m=s.underline!==!1,p=s.link===!0,v=s.justify===!0,b=s.clearFormat!==!1,y=s.moreControls!==!1,N=s.aiAssistant!==!1,[j,E]=x.useState(!1),[w,C]=x.useState(""),S=x.useRef(null),T=x.useRef(null),[$,L]=x.useState(!1),[A,P]=x.useState(""),[M,W]=x.useState({top:0,left:0}),G=x.useRef(null);x.useEffect(()=>{j&&S.current&&S.current.focus()},[j]);const U=()=>{const ne=window.getSelection();ne.rangeCount>0&&(T.current=ne.getRangeAt(0).cloneRange())},X=()=>{if(T.current){const ne=window.getSelection();ne.removeAllRanges(),ne.addRange(T.current)}},O=(ne,ge=null)=>{X(),document.execCommand(ne,!1,ge),t?.current&&t.current.focus()},J=()=>O("bold"),te=()=>O("italic"),re=()=>O("underline"),ae=()=>{U(),window.getSelection().toString().length!==0&&E(!0)},pe=()=>{if(!w.trim()){E(!1);return}X(),document.execCommand("createLink",!1,w),C(""),E(!1),t?.current&&t.current.focus()},V=ne=>{ne.key==="Enter"?(ne.preventDefault(),pe()):ne.key==="Escape"&&(E(!1),C(""))},ee=()=>{X(),document.execCommand("removeFormat",!1,null),document.execCommand("unlink",!1,null),t?.current&&t.current.focus()},K=ne=>{ne.stopPropagation(),ne.preventDefault();const ue=window.getSelection()?.toString()?.trim()||"";if(ue)U(),P(ue);else{const Ce=t?.current?.innerText||"";P(Ce)}if(G.current){const Ce=G.current.getBoundingClientRect(),ye=window.innerWidth;let ke=Ce.left-140;ke<10&&(ke=10),ke+320>ye-10&&(ke=ye-330),W({top:Ce.bottom+8,left:ke})}L(!0)},I=x.useCallback(ne=>{T.current&&!T.current.collapsed?(X(),document.execCommand("insertText",!1,ne)):t?.current&&(t.current.innerText=ne),c&&t?.current&&c(t.current.innerHTML),t?.current&&t.current.focus()},[t,c,X]),F="p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600",ie=d||g||m;return r.jsxs(r.Fragment,{children:[d&&r.jsx("button",{type:"button",onMouseDown:U,onClick:J,className:F,title:f("Bold"),children:r.jsx("iconify-icon",{icon:"mdi:format-bold",width:"16",height:"16"})}),g&&r.jsx("button",{type:"button",onMouseDown:U,onClick:te,className:F,title:f("Italic"),children:r.jsx("iconify-icon",{icon:"mdi:format-italic",width:"16",height:"16"})}),m&&r.jsx("button",{type:"button",onMouseDown:U,onClick:re,className:F,title:f("Underline"),children:r.jsx("iconify-icon",{icon:"mdi:format-underline",width:"16",height:"16"})}),ie&&r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsx(zf,{align:l,onAlignChange:i,showJustify:v}),p&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:ae,className:F,title:f("Insert Link"),children:r.jsx("iconify-icon",{icon:"mdi:link-variant",width:"16",height:"16"})}),j&&r.jsx("div",{className:"absolute left-0 top-full mt-2 z-50",children:r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200",children:[r.jsx("input",{ref:S,type:"url",value:w,onChange:ne=>C(ne.target.value),onKeyDown:V,placeholder:f("Enter URL..."),className:"w-48 px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:outline-none focus:border-primary"}),r.jsx("button",{type:"button",onClick:pe,className:"p-1 rounded bg-primary text-white hover:bg-primary/80",title:f("Apply"),children:r.jsx("iconify-icon",{icon:"mdi:check",width:"14",height:"14"})}),r.jsx("button",{type:"button",onClick:()=>{E(!1),C("")},className:"p-1 rounded text-gray-400 hover:text-gray-600",title:f("Cancel"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})})]})]}),b&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsx("button",{type:"button",onMouseDown:U,onClick:ee,className:F,title:f("Clear Formatting"),children:r.jsx("iconify-icon",{icon:"mdi:format-clear",width:"16",height:"16"})})]}),N&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsx("button",{ref:G,type:"button",onClick:K,className:"p-1.5 pb-0 rounded hover:bg-primary/10 transition-colors text-primary hover:opacity-80",title:f("AI Assistant"),children:r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})})]}),y&&r.jsx(Q0,{editorRef:t,saveSelection:U,restoreSelection:X}),$&&r.jsx(K0,{isOpen:$,onClose:()=>L(!1),selectedText:A,onApply:I,position:M})]})},J0=({columns:t,onColumnsChange:l})=>{const i=[1,2,3,4,5,6];return r.jsx("div",{className:"flex items-center gap-1",children:i.map(s=>r.jsx("button",{type:"button",onClick:()=>l(s),className:`w-6 h-6 flex items-center justify-center rounded text-xs font-medium transition-colors ${parseInt(t)===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:`${s} Column${s>1?"s":""}`,children:s},s))})},Bi=({block:t,onMoveUp:l,onMoveDown:i,onDelete:s,onDuplicate:c,canMoveUp:d,canMoveDown:g,textFormatProps:m,alignProps:p,columnsProps:v,dragHandleProps:b,position:y="top"})=>{const[N,j]=x.useState(!1),E=x.useRef(null),w=G0(t.type),C=Ii(t.type),S=C.bold||C.italic||C.underline,T=C.align&&!S,$=C.columnCount===!0,A=["text-editor"].includes(t.type);x.useEffect(()=>{const M=W=>{E.current&&!E.current.contains(W.target)&&j(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const P=y==="bottom"?"absolute -bottom-10 left-1/2 -translate-x-1/2":"absolute -top-10 left-1/2 -translate-x-1/2";return r.jsxs("div",{className:`lb-block-toolbar ${P} flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg shadow-md px-0.5 py-0.5 z-50`,onClick:M=>M.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-1 border-r border-gray-200 mr-1",children:[r.jsx("iconify-icon",{icon:w?.icon||"mdi:square-outline",width:"16",height:"16",class:"text-gray-600"}),b&&r.jsx("button",{type:"button",className:"flex justify-center items-center p-1 hover:bg-gray-100 rounded transition-colors cursor-grab active:cursor-grabbing",title:f("Drag"),...b,children:r.jsx("iconify-icon",{icon:"mdi:drag",width:"20",height:"20",class:"text-gray-400"})}),r.jsxs("div",{className:"flex flex-col gap-px",children:[r.jsx("button",{type:"button",onClick:l,disabled:!d,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${d?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move up"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-up",width:"12",height:"12",class:"text-gray-500 block"})}),r.jsx("button",{type:"button",onClick:i,disabled:!g,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${g?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move down"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-500 block"})})]})]}),S&&!A&&m&&r.jsxs(r.Fragment,{children:[r.jsx(q0,{editorRef:m.editorRef,align:m.align,onAlignChange:m.onAlignChange,supports:C}),r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),T&&p&&r.jsxs(r.Fragment,{children:[r.jsx(X0,{align:p.align,onAlignChange:p.onAlignChange}),r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),$&&v&&r.jsxs(r.Fragment,{children:[r.jsx(J0,{columns:v.columns,onColumnsChange:v.onColumnsChange}),r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),r.jsx("button",{type:"button",onClick:c,className:"p-1.5 rounded hover:bg-gray-100 transition-colors",title:f("Duplicate"),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsxs("div",{className:"relative",ref:E,children:[r.jsx("button",{type:"button",onClick:()=>j(!N),className:`p-1.5 rounded transition-colors ${N?"bg-gray-100":"hover:bg-gray-100"}`,title:f("More options"),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),N&&r.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[r.jsxs("button",{type:"button",onClick:()=>{c(),j(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),f("Duplicate")]}),r.jsxs("button",{type:"button",onClick:()=>{l(),j(!1)},disabled:!d,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${d?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f("Move Up")]}),r.jsxs("button",{type:"button",onClick:()=>{i(),j(!1)},disabled:!g,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${g?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),f("Move Down")]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{type:"button",onClick:()=>{s(),j(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f("Delete")]})]})]})]})},Z0=({block:t,columnIndex:l,parentId:i,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:p,blockIndex:v,totalBlocks:b})=>{const[y,N]=x.useState(null),[j,E]=x.useState(null),{attributes:w,listeners:C,setNodeRef:S,transform:T,transition:$,isDragging:L}=qa({id:t.id,data:{type:"nested",columnIndex:l,parentId:i}}),A={transform:Nn.Transform.toString(T),transition:$,opacity:L?.5:1},P=Ja(t.type),M=c===t.id,W=v>0,G=v<b-1,U=O=>{N(O?{editorRef:O.editorRef,align:O.align,onAlignChange:O.onAlignChange}:null)},X=O=>{E(O?{align:O.align,onAlignChange:O.onAlignChange}:null)};return P?r.jsxs("div",{ref:S,style:A,className:`relative group cursor-grab active:cursor-grabbing ${L?"z-50":""}`,onClick:O=>{O.stopPropagation(),s(t.id)},...w,...C,children:[M&&r.jsx(Bi,{block:t,onMoveUp:()=>m(t.id,i,l,"up"),onMoveDown:()=>m(t.id,i,l,"down"),onDelete:()=>g(t.id,i,l),onDuplicate:()=>p(t.id,i,l),canMoveUp:W,canMoveDown:G,textFormatProps:y,alignProps:j}),r.jsx(P,{props:t.props,isSelected:M,onUpdate:O=>d(t.id,O),onRegisterTextFormat:U,onRegisterAlign:X})]}):r.jsxs("div",{ref:S,style:A,className:"p-2 bg-red-100 text-red-600 rounded text-xs",children:["Unknown: ",t.type]})},ev=({columnIndex:t,parentId:l,blocks:i,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:p})=>{const v=`column-${l}-${t}`,{setNodeRef:b,isOver:y}=ol({id:v,data:{type:"column",columnIndex:t,parentId:l}}),N=i.map(j=>j.id);return r.jsx("div",{ref:b,className:`min-h-[60px] p-2 rounded-lg transition-colors ${y?"bg-primary/10 border-2 border-primary border-dashed":i.length===0?"bg-gray-50 border-2 border-dashed border-gray-300":"bg-gray-50/50"}`,children:r.jsx(Qa,{items:N,strategy:Ya,children:i.length>0?r.jsx("div",{className:"space-y-2",children:i.map((j,E)=>r.jsx(Z0,{block:j,blockIndex:E,totalBlocks:i.length,columnIndex:t,parentId:l,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:p},j.id))}):r.jsx("div",{className:"flex items-center justify-center h-full min-h-[50px] text-gray-400 text-xs",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{children:f("Drop here")})]})})})})},tv=({props:t,isSelected:l,blockId:i,onSelect:s,selectedBlockId:c,onUpdateNested:d,onDeleteNested:g,onMoveNestedBlock:m,onDuplicateNestedBlock:p})=>{const{columns:v=2,gap:b="20px",children:y=[],verticalAlign:N="stretch",horizontalAlign:j="stretch"}=t,E=Math.min(Math.max(parseInt(v)||2,1),6),w=Array.from({length:E},(P,M)=>y[M]||[]),C={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},S={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},$=Ae({padding:"8px 0"},t.layoutStyles),L={display:"flex",flexWrap:"wrap",gap:b,alignItems:C[N]||"stretch",justifyContent:S[j]||"stretch"},A=()=>j==="stretch"?{flex:`1 1 calc(${100/E}% - ${b})`,minWidth:0}:{flex:"0 0 auto",width:`calc(${100/E}% - ${b})`,minWidth:0};return r.jsx("div",{className:"transition-all",style:$,children:r.jsx("div",{style:L,children:w.map((P,M)=>r.jsx("div",{style:A(),children:r.jsx(ev,{columnIndex:M,parentId:i,blocks:P,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:p})},M))})})},nv=({props:t,onUpdate:l})=>{const{columns:i=2,gap:s="20px",verticalAlign:c="stretch",horizontalAlign:d="stretch",stackOnMobile:g=!0}=t,m=w=>{const C=Math.min(Math.max(parseInt(w)||1,1),6),S=t.children||[],T=Array.from({length:C},($,L)=>S[L]||[]);l({...t,columns:C,children:T})},p=w=>{l({...t,gap:w})},v=w=>{l({...t,verticalAlign:w})},b=w=>{l({...t,horizontalAlign:w})},y=w=>{l({...t,stackOnMobile:w})},N=[{value:"start",label:f("Top"),icon:"align-start-vertical"},{value:"center",label:f("Center"),icon:"align-center-vertical"},{value:"end",label:f("Bottom"),icon:"align-end-vertical"},{value:"stretch",label:f("Stretch"),icon:"align-stretch-vertical"}],j=[{value:"start",label:f("Start"),icon:"align-start"},{value:"center",label:f("Center"),icon:"align-center"},{value:"end",label:f("End"),icon:"align-end"},{value:"stretch",label:f("Stretch"),icon:"align-stretch"},{value:"space-between",label:f("Space Between"),icon:"space-between"},{value:"space-around",label:f("Space Around"),icon:"space-around"}],E=({type:w,isActive:C})=>{const S=C?"currentColor":"#9ca3af";return{"align-start-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),r.jsx("rect",{x:"6",y:"6",width:"4",height:"10",rx:"1"}),r.jsx("rect",{x:"14",y:"6",width:"4",height:"6",rx:"1"})]}),"align-center-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",strokeDasharray:"2 2"}),r.jsx("rect",{x:"6",y:"7",width:"4",height:"10",rx:"1"}),r.jsx("rect",{x:"14",y:"9",width:"4",height:"6",rx:"1"})]}),"align-end-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),r.jsx("rect",{x:"6",y:"8",width:"4",height:"10",rx:"1"}),r.jsx("rect",{x:"14",y:"12",width:"4",height:"6",rx:"1"})]}),"align-stretch-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),r.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),r.jsx("rect",{x:"6",y:"6",width:"4",height:"12",rx:"1"}),r.jsx("rect",{x:"14",y:"6",width:"4",height:"12",rx:"1"})]}),"align-start":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),r.jsx("rect",{x:"6",y:"6",width:"10",height:"4",rx:"1"}),r.jsx("rect",{x:"6",y:"14",width:"6",height:"4",rx:"1"})]}),"align-center":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeDasharray:"2 2"}),r.jsx("rect",{x:"7",y:"6",width:"10",height:"4",rx:"1"}),r.jsx("rect",{x:"9",y:"14",width:"6",height:"4",rx:"1"})]}),"align-end":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),r.jsx("rect",{x:"8",y:"6",width:"10",height:"4",rx:"1"}),r.jsx("rect",{x:"12",y:"14",width:"6",height:"4",rx:"1"})]}),"align-stretch":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),r.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),r.jsx("rect",{x:"6",y:"6",width:"12",height:"4",rx:"1"}),r.jsx("rect",{x:"6",y:"14",width:"12",height:"4",rx:"1"})]}),"space-between":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),r.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),r.jsx("rect",{x:"5",y:"8",width:"4",height:"8",rx:"1"}),r.jsx("rect",{x:"15",y:"8",width:"4",height:"8",rx:"1"})]}),"space-around":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[r.jsx("rect",{x:"6",y:"8",width:"4",height:"8",rx:"1"}),r.jsx("rect",{x:"14",y:"8",width:"4",height:"8",rx:"1"})]})}[w]||null};return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Number of Columns")}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(w=>r.jsx("button",{onClick:()=>m(w),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                                ${i===w?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                            `,children:w},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gap Between Columns")}),r.jsxs("select",{value:s,onChange:w=>p(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"0px",children:f("None")}),r.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),r.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),r.jsxs("option",{value:"16px",children:[f("Normal")," (16px)"]}),r.jsxs("option",{value:"20px",children:[f("Large")," (20px)"]}),r.jsxs("option",{value:"24px",children:[f("Extra Large")," (24px)"]}),r.jsxs("option",{value:"32px",children:[f("2X Large")," (32px)"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Vertical Alignment")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:N.map(w=>r.jsxs("button",{onClick:()=>v(w.value),title:w.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${c===w.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[r.jsx(E,{type:w.icon,isActive:c===w.value}),r.jsx("span",{className:"text-xs mt-1",children:w.label})]},w.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Horizontal Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:j.map(w=>r.jsxs("button",{onClick:()=>b(w.value),title:w.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${d===w.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[r.jsx(E,{type:w.icon,isActive:d===w.value}),r.jsx("span",{className:"text-xs mt-1",children:w.label})]},w.value))})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("Stack on Mobile")}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:f("Columns will stack vertically on smaller screens")})]}),r.jsx("button",{onClick:()=>y(!g),className:`
                        relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                        ${g?"bg-primary":"bg-gray-300"}
                    `,children:r.jsx("span",{className:`
                            inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                            ${g?"translate-x-6":"translate-x-1"}
                        `})})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-700",children:[f("Tip"),":"]}),r.jsx("p",{className:"mt-1",children:f("Drag blocks from the sidebar into the column areas to build your layout. Each column can contain multiple blocks.")})]})]})})]})},rv={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},ov={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},lv=(t,l={})=>{const{generateBlockHtml:i}=l,c=Xt("columns",t),d=t.gap||"20px",g=t.columns||2,m=t.verticalAlign||"stretch",p=t.horizontalAlign||"stretch",v=t.stackOnMobile!==!1,b=rv[m]||"stretch",y=ov[p]||"stretch",N=p==="stretch"?`flex: 1 1 calc(${100/g}% - ${d})`:`flex: 0 0 auto; width: calc(${100/g}% - ${d})`,j=(t.children||[]).map(S=>{const T=S.map($=>i?i($,l):"").join("");return`<div class="lb-column" style="${N}; min-width: 0;">${T||""}</div>`}).join(""),E=["display: flex","flex-wrap: wrap",`gap: ${d}`,`align-items: ${b}`,`justify-content: ${y}`].join("; "),w=Yt(t,E);return`
        <div class="${c} lb-columns-${g} ${v?"lb-columns-stack-mobile":""}" style="${w}">
            ${j}
        </div>
    `},iv=(t,l={})=>{const{generateBlockHtml:i}=l,s=t.verticalAlign||"stretch",c={start:"top",center:"middle",end:"bottom",stretch:"top"},d=`${100/(t.columns||2)}%`,g=c[s]||"top";return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>${(t.children||[]).map((p,v)=>{const b=p.map(y=>i?i(y,l):"").join("");return`<td style="width: ${d}; vertical-align: ${g}; padding: 0 ${v<(t.columns||2)-1?t.gap||"20px":"0"} 0 0;">${b||"&nbsp;"}</td>`}).join("")}</tr>
        </table>
    `},sv={page:lv,email:iv},av=_e(U0,{block:tv,editor:nv,save:sv}),cv="social",uv="1.0.0",dv="Social",fv="Content",gv="mdi:share-variant-outline",pv="Add social media links",hv=["social","facebook","twitter","instagram","linkedin","youtube"],mv=["email","page","campaign"],xv={align:!0,layout:!0,html:!0,duplicate:!0,remove:!0},yv={align:"center",iconSize:"32px",gap:"12px",links:{facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""}},vv={type:cv,version:uv,label:dv,category:fv,icon:gv,description:pv,keywords:hv,contexts:mv,supports:xv,defaultProps:yv},bv=[{key:"facebook",label:"Facebook",icon:"mdi:facebook",color:"#1877f2"},{key:"twitter",label:"Twitter/X",icon:"mdi:twitter",color:"#1da1f2"},{key:"instagram",label:"Instagram",icon:"mdi:instagram",color:"#e4405f"},{key:"linkedin",label:"LinkedIn",icon:"mdi:linkedin",color:"#0a66c2"},{key:"youtube",label:"YouTube",icon:"mdi:youtube",color:"#ff0000"}],wv=({props:t,isSelected:l})=>{const s={textAlign:$r(t.layoutStyles||{}).textAlign||t.align||"center",padding:"10px 8px",borderRadius:"4px"},c=Ae(s,t.layoutStyles),d={display:"inline-flex",alignItems:"center",justifyContent:t.align==="left"?"flex-start":t.align==="right"?"flex-end":"center",gap:t.gap||"12px",flexWrap:"wrap"},g=parseInt(t.iconSize)||32,m=Object.entries(t.links||{}).filter(([,p])=>p);return r.jsx("div",{style:c,children:m.length>0?r.jsx("div",{style:d,children:m.map(([p])=>{const v=bv.find(b=>b.key===p);return r.jsx("span",{title:v?.label,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${g}px`,height:`${g}px`,color:v?.color||"#666"},children:r.jsx("iconify-icon",{icon:v?.icon||"mdi:link",width:g,height:g})},p)})}):r.jsxs("div",{className:"text-gray-400 text-sm py-2",children:[r.jsx("iconify-icon",{icon:"mdi:share-variant-outline",width:"24",height:"24",class:"mb-1"}),r.jsx("div",{children:"Add social links in the right panel"})]})})},kv={facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',instagram:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',youtube:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>'},Cv={facebook:"https://cdn-icons-png.flaticon.com/32/733/733547.png",twitter:"https://cdn-icons-png.flaticon.com/32/733/733579.png",instagram:"https://cdn-icons-png.flaticon.com/32/2111/2111463.png",linkedin:"https://cdn-icons-png.flaticon.com/32/733/733561.png",youtube:"https://cdn-icons-png.flaticon.com/32/733/733646.png"},Sv=(t,l={})=>{const s=Xt("social",t),c=t.iconSize||"24px",d=t.gap||"12px",g=t.align||"center",p=`text-align: ${g}; display: flex; justify-content: ${g==="left"?"flex-start":g==="right"?"flex-end":"center"}; gap: ${d}; padding: 10px 0`,v=Yt(t,p),b=Object.entries(t.links||{}).filter(([,y])=>y).map(([y,N])=>`
            <a href="${N}" target="_blank" rel="noopener noreferrer" class="lb-social-link lb-social-${y}" style="display: inline-flex; width: ${c}; height: ${c}; color: inherit;">
                ${kv[y]||""}
            </a>
        `).join("");return b?`<div class="${s}" style="${v}">${b}</div>`:""},jv=(t,l={})=>{const i=parseInt(t.iconSize)||32,s=parseInt(t.gap)/2||6,c=Object.entries(t.links||{}).filter(([,d])=>d).map(([d,g])=>`<a href="${g}" target="_blank" style="display: inline-block; margin: 0 ${s}px;"><img src="${Cv[d]}" alt="${d}" width="${i}" height="${i}" style="border: 0;" /></a>`).join("");return c?`<div style="text-align: ${t.align||"center"}; padding: 10px 0;">${c}</div>`:""},Nv={page:Sv,email:jv},Ev=[{name:"iconSize",type:"select",label:f("Icon Size"),section:f("Appearance"),options:[{value:"24px",label:f("Small")+" (24px)"},{value:"32px",label:f("Medium")+" (32px)"},{value:"40px",label:f("Large")+" (40px)"},{value:"48px",label:f("X-Large")+" (48px)"}]},{name:"gap",type:"select",label:f("Spacing"),section:f("Appearance"),options:[{value:"8px",label:f("Small")},{value:"12px",label:f("Medium")},{value:"16px",label:f("Large")},{value:"24px",label:f("X-Large")}]},{name:"links.facebook",type:"url",label:f("Facebook URL"),placeholder:"https://facebook.com/...",section:f("Links")},{name:"links.twitter",type:"url",label:f("Twitter/X URL"),placeholder:"https://twitter.com/...",section:f("Links")},{name:"links.instagram",type:"url",label:f("Instagram URL"),placeholder:"https://instagram.com/...",section:f("Links")},{name:"links.linkedin",type:"url",label:f("LinkedIn URL"),placeholder:"https://linkedin.com/...",section:f("Links")},{name:"links.youtube",type:"url",label:f("YouTube URL"),placeholder:"https://youtube.com/...",section:f("Links")}],$v=_e(vv,{block:wv,save:Nv,fields:Ev}),Tv="html",Rv="1.0.0",Lv="HTML",Av="Advanced",Bv="mdi:code-tags",Iv="Add custom HTML content",_v=["html","code","custom","embed"],Dv=["email","page","campaign"],Pv={layout:!0,html:!0,duplicate:!0,remove:!0},zv={code:'<div style="padding: 20px; text-align: center;">Custom HTML content</div>'},Mv={type:Tv,version:Rv,label:Lv,category:Av,icon:Bv,description:Iv,keywords:_v,contexts:Dv,supports:Pv,defaultProps:zv},Ov=({props:t,onUpdate:l})=>{const[i,s]=x.useState(!1),[c,d]=x.useState(!1),g=x.useRef(null),m=x.useRef(null),p=()=>{s(!0)},v=()=>{m.current&&(m.current.destroy(),m.current=null,d(!1)),s(!1)},b=()=>{if(m.current){const E=m.current.getContent();l({...t,code:E})}v()};x.useEffect(()=>{if(!i||!g.current)return;const E=()=>{if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>w(),document.head.appendChild(C)}else w()},w=()=>{!g.current||m.current||window.tinymce.init({target:g.current,height:450,menubar:!1,branding:!1,promotion:!1,plugins:["advlist","autolink","lists","link","image","charmap","anchor","searchreplace","visualblocks","code","insertdatetime","media","table","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image table | removeformat code",toolbar_mode:"wrap",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: 14px;
                        line-height: 1.6;
                        padding: 12px;
                    }
                `,setup:C=>{m.current=C,C.on("init",()=>{d(!0),C.setContent(t.code||"")})},code_dialog_height:400,code_dialog_width:600,ui_options:{z_index:10100}})};return E(),()=>{m.current&&(m.current.destroy(),m.current=null,d(!1))}},[i,t.code]);const N=Ae({padding:"8px",borderRadius:"4px",cursor:"pointer",minHeight:"60px"},t.layoutStyles);return r.jsxs("div",{style:N,onDoubleClick:p,children:[r.jsx("div",{dangerouslySetInnerHTML:{__html:t.code||`
        <div style="padding: 24px; padding-top: 10px; text-align: center; color: #9ca3af; background: #f9fafb; border: 2px dashed #e5e7eb; border-radius: 8px;">
            <div style="font-size: 14px; font-weight: 500;">Custom HTML Block</div>
            <div style="font-size: 12px; margin-top: 4px;">Double-click to edit</div>
        </div>
    `}}),i&&r.jsx("style",{children:`
                    .tox-tinymce-aux,
                    .tox .tox-dialog-wrap,
                    .tox .tox-dialog,
                    .tox .tox-dialog-wrap__backdrop,
                    div.tox.tox-silver-sink.tox-tinymce-aux {
                        z-index: 10100 !important;
                    }
                    .tox .tox-dialog-wrap__backdrop {
                        background-color: rgba(0, 0, 0, 0.5) !important;
                    }
                `}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:v,children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col mx-4",onClick:E=>E.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("iconify-icon",{icon:"mdi:code-tags",width:"24",height:"24",class:"text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Custom HTML"})]}),r.jsx("button",{type:"button",onClick:v,className:"p-2 rounded-md hover:bg-gray-100 text-gray-500 transition-colors",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),r.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[!c&&r.jsx("div",{className:"flex items-center justify-center h-[450px] bg-gray-50 rounded-md",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Loading editor..."})]})}),r.jsx("div",{ref:g,className:c?"":"hidden"})]}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:'Use the toolbar above to format content, or click "Code" to edit raw HTML.'}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:v,className:"btn-default",children:"Cancel"}),r.jsx("button",{type:"button",onClick:b,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Hv=(t,l={})=>{const s=Xt("html",t),c=Yt(t);return`<div class="${s}"${c?` style="${c}"`:""}>${t.code||""}</div>`},Fv=(t,l={})=>t.code||"",Wv={page:Hv,email:Fv},Uv=[{name:"code",type:"textarea",label:f("HTML Code"),section:f("Content"),rows:10}],Vv=_e(Mv,{block:Ov,save:Wv,fields:Uv}),Kv="quote",Gv="1.0.0",Xv="Quote",Yv="Content",Qv="mdi:format-quote-close",qv="Add a quote or testimonial with inline editing",Jv=["quote","testimonial","blockquote","citation"],Zv=["email","page","campaign"],eb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tb={text:"This is a quote or testimonial that stands out from the rest of the content.",author:"John Doe",authorTitle:"CEO, Company",borderColor:"#635bff",backgroundColor:"#f8fafc",textColor:"#475569",authorColor:"#1e293b",align:"left"},nb={type:Kv,version:Gv,label:Xv,category:Yv,icon:Qv,description:qv,keywords:Jv,contexts:Zv,supports:eb,defaultProps:tb},rb=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{const c=x.useRef(null),d=x.useRef(null),g=x.useRef(null),[m,p]=x.useState("quote"),v=x.useRef(t.text),b=x.useRef(t.author),y=x.useRef(t.authorTitle),N=x.useRef(t),j=x.useRef(l);N.current=t,j.current=l;const E=x.useCallback(()=>{switch(m){case"author":return d;case"title":return g;default:return c}},[m]),w=x.useCallback(()=>{if(c.current){const O=c.current.innerHTML;v.current=O,j.current({...N.current,text:O})}},[]),C=x.useCallback(()=>{if(d.current){const O=d.current.innerHTML;b.current=O,j.current({...N.current,author:O})}},[]),S=x.useCallback(()=>{if(g.current){const O=g.current.innerHTML;y.current=O,j.current({...N.current,authorTitle:O})}},[]),T=x.useCallback(O=>{j.current({...N.current,align:O})},[]);x.useEffect(()=>{i&&(c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",v.current=t.text),d.current&&(d.current.innerHTML===""||d.current.innerHTML==="<br>")&&(d.current.innerHTML=t.author||"",b.current=t.author),g.current&&(g.current.innerHTML===""||g.current.innerHTML==="<br>")&&(g.current.innerHTML=t.authorTitle||"",y.current=t.authorTitle))},[i]),x.useEffect(()=>{i&&c.current&&t.text!==v.current&&(c.current.innerHTML=t.text||"",v.current=t.text)},[t.text,i]),x.useEffect(()=>{i&&d.current&&t.author!==b.current&&(d.current.innerHTML=t.author||"",b.current=t.author)},[t.author,i]),x.useEffect(()=>{i&&g.current&&t.authorTitle!==y.current&&(g.current.innerHTML=t.authorTitle||"",y.current=t.authorTitle)},[t.authorTitle,i]),x.useEffect(()=>{i&&s?s({editorRef:E(),isContentEditable:!0,align:N.current.align||"left",onAlignChange:T}):!i&&s&&s(null)},[i,s,T,m,E]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const O=document.createRange();O.selectNodeContents(c.current),O.collapse(!1);const J=window.getSelection();J.removeAllRanges(),J.addRange(O)}})},[i]);const $={padding:"20px",paddingLeft:"24px",backgroundColor:t.backgroundColor||"#f8fafc",borderLeft:`4px solid ${t.borderColor||"#635bff"}`,textAlign:t.align||"left",borderRadius:"4px"},L=Ae($,t.layoutStyles),A={color:t.textColor||"#475569",fontSize:"16px",fontStyle:"italic",lineHeight:"1.6",margin:"0 0 12px 0",outline:"none",minHeight:"1.5em"},P={color:t.authorColor||"#1e293b",fontSize:"14px",fontWeight:"600",margin:"0 0 4px 0",outline:"none",minHeight:"1.2em"},M={color:t.textColor||"#475569",fontSize:"12px",margin:0,outline:"none",minHeight:"1em"},W=O=>{p(O)},G=()=>{const O=t.text||"Click to add quote...";return r.jsx("span",{dangerouslySetInnerHTML:{__html:`"${O}"`}})},U=()=>{const O=t.author||"";return O?r.jsx("span",{dangerouslySetInnerHTML:{__html:O}}):r.jsx("span",{style:{opacity:.5},children:"Author name"})},X=()=>{const O=t.authorTitle||"";return O?r.jsx("span",{dangerouslySetInnerHTML:{__html:O}}):r.jsx("span",{style:{opacity:.5},children:"Author title"})};return i?r.jsxs("div",{"data-text-editing":"true",style:L,children:[r.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[r.jsx("span",{style:{...A,position:"absolute",left:0,pointerEvents:"none"},children:'"'}),r.jsx("div",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:w,onBlur:w,onFocus:()=>W("quote"),"data-placeholder":"Enter quote...",style:{...A,paddingLeft:"12px",background:m==="quote"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px"}}),r.jsx("span",{style:{...A,position:"absolute",right:0,bottom:0,pointerEvents:"none"},children:'"'})]}),r.jsxs("div",{children:[r.jsx("div",{ref:d,contentEditable:!0,suppressContentEditableWarning:!0,onInput:C,onBlur:C,onFocus:()=>W("author"),"data-placeholder":"Author name",style:{...P,background:m==="author"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}}),r.jsx("div",{ref:g,contentEditable:!0,suppressContentEditableWarning:!0,onInput:S,onBlur:S,onFocus:()=>W("title"),"data-placeholder":"Author title",style:{...M,background:m==="title"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}})]})]}):r.jsxs("div",{style:L,children:[r.jsx("p",{style:A,children:G()}),r.jsxs("div",{children:[r.jsx("p",{style:P,children:U()}),r.jsx("p",{style:M,children:X()})]})]})},ob=(t,l={})=>{const i={text:t.text||"",author:t.author||"",authorTitle:t.authorTitle||"",align:t.align||"left",borderColor:t.borderColor||"#635bff",backgroundColor:t.backgroundColor||"#f8fafc",textColor:t.textColor||"#475569",authorColor:t.authorColor||"#1e293b",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="quote" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},lb=(t,l={})=>{const i=t.text||"",s=t.author||"",c=t.authorTitle||"",d=t.align||"left",g=t.borderColor||"#635bff",m=t.backgroundColor||"#f8fafc",p=t.textColor||"#475569",v=t.authorColor||"#1e293b";let b="";s&&(b=`<p style="color: ${v}; font-size: 14px; font-weight: 600; margin: 0;">${s}</p>`);let y="";return c&&(y=`<p style="color: ${p}; font-size: 12px; margin: 0;">${c}</p>`),`
        <div style="padding: 20px; padding-left: 24px; background-color: ${m}; border-left: 4px solid ${g}; text-align: ${d}; border-radius: 4px; margin: 10px 0;">
            <p style="color: ${p}; font-size: 16px; font-style: italic; line-height: 1.6; margin: 0 0 12px 0;">"${i}"</p>
            ${b}
            ${y}
        </div>
    `},ib={page:ob,email:lb},sb=[{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"authorColor",type:"color",label:f("Author Color"),section:f("Style")}],ab=_e(nb,{block:rb,save:ib,fields:sb}),cb="list",ub="1.0.0",db="List",fb="Content",gb="mdi:format-list-bulleted",pb="Add a bullet or numbered list",hb=["list","bullet","number","items","check","checklist"],mb=["email","page","campaign"],xb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},yb={items:["First item","Second item","Third item"],listType:"bullet",color:"#333333",fontSize:"16px",iconColor:"#635bff"},vb={type:cb,version:ub,label:db,category:fb,icon:gb,description:pb,keywords:hb,contexts:mb,supports:xb,defaultProps:yb};function bb({props:t,isSelected:l,onUpdate:i,onRegisterTextFormat:s}){const c=x.useRef(null),d=x.useRef(t),g=x.useRef(i);d.current=t,g.current=i;const m=t.items||["List item"],p=t.listType||"bullet",v=p==="number"?"ol":"ul",b=x.useCallback(()=>{if(!c.current)return;const j=c.current.querySelectorAll(":scope > li"),E=Array.from(j).map(C=>{const S=C.cloneNode(!0);return S.querySelectorAll("ul, ol").forEach(T=>T.remove()),S.innerHTML.trim()}).filter(C=>C&&C!=="<br>"),w=E.length>0?E:[""];JSON.stringify(w)!==JSON.stringify(d.current.items)&&g.current({...d.current,items:w})},[]);x.useEffect(()=>{l&&c.current&&(c.current.innerHTML=m.map(j=>`<li>${j||"<br>"}</li>`).join(""),requestAnimationFrame(()=>{c.current&&c.current.focus()}))},[l]),x.useEffect(()=>{!l&&c.current&&(c.current.innerHTML=m.map(j=>`<li>${j||"<br>"}</li>`).join(""))},[]),x.useEffect(()=>{s&&s(l?{editorRef:c,isContentEditable:!0,align:t.align||"left",onAlignChange:j=>g.current({...d.current,align:j})}:null)},[l,s,t.align]);const y=Ae({padding:"8px",borderRadius:"4px"},t.layoutStyles),N={...Ae({color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:"1.8",margin:0,textAlign:t.align||"left"},t.layoutStyles),paddingLeft:p==="check"?"0":"24px",listStyleType:p==="bullet"?"disc":p==="number"?"decimal":"none"};return l?r.jsx("div",{style:y,"data-text-editing":"true",children:r.jsx(v,{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:b,onBlur:b,style:{...N,paddingLeft:p==="check"?"8px":"32px",paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",border:"2px solid var(--color-primary, #635bff)",borderRadius:"4px",outline:"none",background:"white",minHeight:"40px"}})}):r.jsx("div",{style:y,children:r.jsx(v,{style:N,suppressContentEditableWarning:!0,ref:c})})}const wb=(t,l={})=>{const i={items:t.items||[],listType:t.listType||"bullet",color:t.color||"#333333",fontSize:t.fontSize||"16px",iconColor:t.iconColor||"#635bff",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="list" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},kb=(t,l={})=>{const i=t.items||[],s=t.listType||"bullet",c=t.color||"#333333",d=t.fontSize||"16px",g=t.iconColor||"#635bff";if(s==="check"){const v=i.map(b=>`<tr><td style="vertical-align: top; padding-right: 8px; color: ${g};">&#10003;</td><td style="color: ${c}; font-size: ${d}; padding-bottom: 8px;">${b}</td></tr>`).join("");return`<table style="color: ${c}; font-size: ${d}; line-height: 1.6;">${v}</table>`}const m=s==="number"?"ol":"ul",p=i.map(v=>`<li style="margin-bottom: 8px;">${v}</li>`).join("");return`<${m} style="color: ${c}; font-size: ${d}; line-height: 1.8; margin: 0; padding-left: 24px;">${p}</${m}>`},Cb={page:wb,email:kb},Sb=[{name:"listType",type:"select",label:f("List Type"),section:f("Content"),options:[{value:"bullet",label:f("Bullet List")},{value:"number",label:f("Numbered List")},{value:"check",label:f("Check List")}]},{name:"color",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Style"),options:[{value:"12px",label:f("Small")+" (12px)"},{value:"14px",label:f("Normal")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Style")}],jb=_e(vb,{block:bb,save:Cb,fields:Sb}),Nb="video",Eb="1.0.0",$b="Video",Tb="Content",Rb="mdi:play-circle-outline",Lb="Add a video with thumbnail",Ab=["video","media","youtube","play","vimeo","thumbnail"],Bb=["email","page","campaign"],Ib={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},_b={thumbnailUrl:"",videoUrl:"",alt:"Video thumbnail",width:"100%",align:"center",playButtonColor:""},Db={type:Nb,version:Eb,label:$b,category:Tb,icon:Rb,description:Lb,keywords:Ab,contexts:Bb,supports:Ib,defaultProps:_b},Pb=t=>{if(!t)return null;const l=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/];for(const b of l){const y=t.match(b);if(y)return{platform:"youtube",videoId:y[1],embedUrl:`https://www.youtube.com/embed/${y[1]}`,thumbnailUrl:`https://img.youtube.com/vi/${y[1]}/maxresdefault.jpg`}}const i=/(?:vimeo\.com\/)(\d+)/,s=t.match(i);if(s)return{platform:"vimeo",videoId:s[1],embedUrl:`https://player.vimeo.com/video/${s[1]}`,thumbnailUrl:null};const c=/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/,d=t.match(c);if(d)return{platform:"dailymotion",videoId:d[1],embedUrl:`https://www.dailymotion.com/embed/video/${d[1]}`,thumbnailUrl:`https://www.dailymotion.com/thumbnail/video/${d[1]}`};const g=/(?:wistia\.com\/medias\/|wi\.st\/)([a-zA-Z0-9]+)/,m=t.match(g);if(m)return{platform:"wistia",videoId:m[1],embedUrl:`https://fast.wistia.net/embed/iframe/${m[1]}`,thumbnailUrl:null};const p=/(?:loom\.com\/share\/)([a-zA-Z0-9]+)/,v=t.match(p);return v?{platform:"loom",videoId:v[1],embedUrl:`https://www.loom.com/embed/${v[1]}`,thumbnailUrl:null}:null},zb=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Mb=t=>({youtube:"mdi:youtube",vimeo:"mdi:vimeo",dailymotion:"simple-icons:dailymotion",wistia:"mdi:video-box",loom:"mdi:video-outline"})[t]||"mdi:play-circle",Ob=t=>({youtube:"#FF0000",vimeo:"#1AB7EA",dailymotion:"#00AAFF",wistia:"#54BBFF",loom:"#625DF5"})[t]||"#FF0000",Hb='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="600" height="340" viewBox="0 0 600 340"%3E%3Crect fill="%231a1a2e" width="600" height="340"/%3E%3Ctext fill="%23ffffff" font-family="Arial" font-size="24" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EVideo%3C/text%3E%3C/svg%3E',Fb=({props:t,isSelected:l})=>{const[i,s]=x.useState(!1),[c,d]=x.useState(null),g=x.useMemo(()=>Pb(t.videoUrl),[t.videoUrl]),m=x.useMemo(()=>zb(t.videoUrl),[t.videoUrl]);x.useEffect(()=>{if(!m||t.thumbnailUrl||!t.videoUrl){d(null);return}const A=document.createElement("video");return A.crossOrigin="anonymous",A.src=t.videoUrl,A.muted=!0,A.preload="metadata",A.onloadeddata=()=>{A.currentTime=Math.min(1,A.duration*.1)},A.onseeked=()=>{try{const P=document.createElement("canvas");P.width=A.videoWidth||640,P.height=A.videoHeight||360,P.getContext("2d").drawImage(A,0,0,P.width,P.height);const W=P.toDataURL("image/jpeg",.8);d(W)}catch{d(null)}},A.onerror=()=>{d(null)},()=>{A.src=""}},[t.videoUrl,t.thumbnailUrl,m]);const p=t.thumbnailUrl||g?.thumbnailUrl||c,v=i||!p?Hb:p,b=t.playButtonColor||(g?Ob(g.platform):"#FF0000"),N={textAlign:$r(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},j=Ae(N,t.layoutStyles),E={position:"relative",display:"inline-block",maxWidth:t.width||"100%",width:"100%"},w={width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"68px",height:"68px",backgroundColor:b,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",cursor:"pointer"},S={width:0,height:0,borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderLeft:"20px solid white",marginLeft:"4px"},T={position:"absolute",top:"12px",left:"12px",backgroundColor:"rgba(0,0,0,0.7)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},$=()=>{i||s(!0)};if(x.useEffect(()=>{s(!1)},[p]),!t.videoUrl)return r.jsx("div",{style:j,children:r.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 p-8 rounded text-center",children:[r.jsx("iconify-icon",{icon:"mdi:video-plus",width:"32",height:"32",class:"mb-2"}),r.jsx("div",{className:"text-sm",children:"Add video in the right panel"})]})});const L=m&&!t.thumbnailUrl;return r.jsx("div",{style:j,children:r.jsxs("div",{style:E,children:[L?r.jsx("video",{src:t.videoUrl,controls:!0,style:{width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},preload:"metadata"}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:v,alt:t.alt||"Video thumbnail",style:w,onError:$}),r.jsx("div",{style:C,children:r.jsx("div",{style:S})})]}),g&&r.jsxs("div",{style:T,children:[r.jsx("iconify-icon",{icon:Mb(g.platform),width:"16",height:"16"}),r.jsx("span",{style:{textTransform:"capitalize"},children:g.platform})]}),m&&!L&&r.jsxs("div",{style:T,children:[r.jsx("iconify-icon",{icon:"mdi:video",width:"16",height:"16"}),r.jsx("span",{children:"Video"})]})]})})},Wb=({props:t,onUpdate:l})=>{const i=(g,m)=>{l({...t,[g]:m})},s=async()=>{try{const g=await Zo.selectImage();g&&i("thumbnailUrl",g.url)}catch{}},c=async()=>{try{const g=await Zo.selectVideo();g&&i("videoUrl",g.url)}catch{}},d=()=>{i("thumbnailUrl","")};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ki,{title:f("Video"),children:[r.jsx(Ci,{children:f("Video URL")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:t.videoUrl||"",onChange:g=>i("videoUrl",g.target.value),placeholder:"YouTube, Vimeo, or direct URL...",className:"form-control flex-1"}),r.jsx("button",{type:"button",onClick:c,className:"btn-default px-3",title:f("Select from library"),children:r.jsx("iconify-icon",{icon:"lucide:folder-open",width:"16",height:"16"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:f("YouTube, Vimeo, Dailymotion, Wistia, Loom, or direct files (mp4, webm)")})]}),r.jsxs(ki,{title:f("Thumbnail"),children:[t.thumbnailUrl?r.jsxs("div",{className:"relative group mb-3",children:[r.jsx("img",{src:t.thumbnailUrl,alt:"Thumbnail",className:"w-full max-h-32 object-contain rounded border border-gray-200 dark:border-gray-700"}),r.jsx("button",{type:"button",onClick:d,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove thumbnail"),children:r.jsx("iconify-icon",{icon:"lucide:x",width:"14",height:"14"})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center p-4 mb-3 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[r.jsx("iconify-icon",{icon:"lucide:image",className:"text-2xl text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f("Auto-generated from video")})]}),r.jsxs("button",{type:"button",onClick:s,className:"btn-default w-full flex items-center justify-center gap-2",children:[r.jsx("iconify-icon",{icon:"lucide:image-plus"}),t.thumbnailUrl?f("Change Thumbnail"):f("Custom Thumbnail")]}),r.jsxs("details",{className:"mt-3",children:[r.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),r.jsx("input",{type:"url",value:t.thumbnailUrl||"",onChange:g=>i("thumbnailUrl",g.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]}),r.jsxs(ki,{title:f("Accessibility"),children:[r.jsx(Ci,{children:f("Alt Text")}),r.jsx("input",{type:"text",value:t.alt||"",onChange:g=>i("alt",g.target.value),placeholder:"Describe the video...",className:"form-control"})]}),r.jsxs(ki,{title:f("Appearance"),children:[r.jsx(Ci,{children:f("Width")}),r.jsxs("select",{value:t.width||"100%",onChange:g=>i("width",g.target.value),className:"form-control",children:[r.jsxs("option",{value:"100%",children:[f("Full Width")," (100%)"]}),r.jsxs("option",{value:"75%",children:[f("Three Quarters")," (75%)"]}),r.jsxs("option",{value:"50%",children:[f("Half")," (50%)"]}),r.jsxs("option",{value:"25%",children:[f("Quarter")," (25%)"]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx(Ci,{children:f("Play Button Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:t.playButtonColor||"#FF0000",onChange:g=>i("playButtonColor",g.target.value),className:"w-12 h-9 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:t.playButtonColor||"",onChange:g=>i("playButtonColor",g.target.value),placeholder:"#FF0000",className:"form-control flex-1"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f("Leave empty for platform default")})]})]})]})},ki=({title:t,children:l})=>r.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:t}),l]}),Ci=({children:t})=>r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:t}),Mf=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Of=t=>{if(!t)return null;const l=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/);if(l)return{platform:"youtube",id:l[1],thumbnail:`https://img.youtube.com/vi/${l[1]}/maxresdefault.jpg`,color:"#FF0000",embedUrl:`https://www.youtube.com/embed/${l[1]}?rel=0`};const i=t.match(/vimeo\.com\/(\d+)/);if(i)return{platform:"vimeo",id:i[1],thumbnail:null,color:"#1AB7EA",embedUrl:`https://player.vimeo.com/video/${i[1]}`};const s=t.match(/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/);return s?{platform:"dailymotion",id:s[1],thumbnail:`https://www.dailymotion.com/thumbnail/video/${s[1]}`,color:"#00AAFF",embedUrl:`https://www.dailymotion.com/embed/video/${s[1]}`}:null},Ub=(t,l={})=>{const i="video",s=Mf(t.videoUrl),c=Of(t.videoUrl),d=t.width||"100%",g=t.thumbnailUrl||t.thumbnail||"",m=t.align||"center",p=m==="left"?"flex-start":m==="right"?"flex-end":"center",v=Xt(i,t),b=c?` lb-video-${c.platform}`:"",y=`display: flex; justify-content: ${p}`,N=Yt(t,y);if(s){if(g){const j=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return`
                <div class="${v}" style="${N}">
                    <div id="${j}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${g}" alt="${t.alt||"Video thumbnail"}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${j}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<video src="${t.videoUrl}" controls autoplay style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;"></video>';
                        });
                    })();
                <\/script>
            `}return`
            <div class="${v}" style="${N}">
                <video src="${t.videoUrl}" controls ${t.autoplay?"autoplay muted":""} ${t.loop?"loop":""} style="max-width: ${d}; width: 100%; height: auto; border-radius: 8px;" preload="metadata">
                    Your browser does not support the video tag.
                </video>
            </div>
        `}if(c?.embedUrl){const j=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return g?`
                <div class="${v}${b}" style="${N}">
                    <div id="${j}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${g}" alt="Video thumbnail" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${j}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<iframe src="${c.embedUrl}&autoplay=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>';
                        });
                    })();
                <\/script>
            `:`
            <div class="${v}${b}" style="${N}">
                <div style="position: relative; max-width: ${d}; width: 100%;">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                        <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>
                    </div>
                </div>
            </div>
        `}return`
        <div class="${v}" style="${N}">
            <a href="${t.videoUrl}" target="_blank" rel="noopener noreferrer" class="lb-video-link">Watch Video</a>
        </div>
    `},Vb=(t,l={})=>{const{previewMode:i=!1}=l,s=Mf(t.videoUrl),c=Of(t.videoUrl);if(i){if(s&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <video src="${t.videoUrl}" controls style="max-width: ${t.width||"100%"}; width: 100%; height: auto; display: inline-block; border-radius: 8px; background-color: #1a1a2e;" preload="metadata"></video>
                </div>
            `;if(c?.embedUrl&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <div style="position: relative; max-width: ${t.width||"100%"}; width: 100%; display: inline-block;">
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                            <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            `}let d;t.thumbnailUrl?d=t.thumbnailUrl:c?.thumbnail?d=c.thumbnail:s?d="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='340' viewBox='0 0 600 340'%3E%3Crect fill='%231a1a2e' width='600' height='340'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='16' x='50%25' y='60%25' text-anchor='middle'%3EClick to play video%3C/text%3E%3C/svg%3E":d="https://via.placeholder.com/600x340/1a1a2e/ffffff?text=Video";const g=t.playButtonColor||c?.color||(s?"#635bff":"#ff0000"),m=`
        <div style="position: relative; display: inline-block; max-width: ${t.width||"100%"}; width: 100%;">
            <a href="${t.videoUrl}" target="_blank" style="display: block; text-decoration: none;">
                <img src="${d}" alt="${t.alt||"Video thumbnail"}" style="width: 100%; height: auto; display: block; border-radius: 8px; background-color: #1a1a2e;" />
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 68px; background-color: ${g}; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <span style="width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-left: 20px solid white; margin-left: 4px;"></span>
                </div>
            </a>
        </div>
    `;return`<div style="text-align: ${t.align||"center"};">${m}</div>`},Kb={page:Ub,email:Vb},Gb=_e(Db,{block:Fb,editor:Wb,save:Kb}),Xb="footer",Yb="1.0.0",Qb="Footer",qb="Layout",Jb="mdi:page-layout-footer",Zb="Add an email footer with company info",e1=["footer","unsubscribe","company","contact"],t1=["email","campaign"],n1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},r1={companyName:"Your Company Name",address:"123 Street Name, City, Country",phone:"+1 234 567 890",email:"contact@company.com",unsubscribeText:"Unsubscribe from these emails",unsubscribeUrl:"#unsubscribe",copyright:" 2024 Your Company. All rights reserved.",textColor:"#6b7280",linkColor:"#635bff",fontSize:"12px",align:"center"},o1={type:Xb,version:Yb,label:Qb,category:qb,icon:Jb,description:Zb,keywords:e1,contexts:t1,supports:n1,defaultProps:r1},l1=({props:t})=>{const l={padding:"24px 16px",textAlign:t.align||"center",borderTop:"1px solid #e5e7eb",borderRadius:"4px"},i=Ae(l,t.layoutStyles),s={color:t.textColor||"#6b7280",fontSize:t.fontSize||"12px",lineHeight:"1.6",margin:"0 0 8px 0"},c=Ae(s,t.layoutStyles),d={color:t.linkColor||"#635bff",textDecoration:"underline"},g={...c,fontWeight:"600",fontSize:"14px",marginBottom:"12px"};return r.jsxs("div",{style:i,children:[t.companyName&&r.jsx("p",{style:g,children:t.companyName}),t.address&&r.jsx("p",{style:c,children:t.address}),(t.phone||t.email)&&r.jsxs("p",{style:c,children:[t.phone&&r.jsx("span",{children:t.phone}),t.phone&&t.email&&r.jsx("span",{children:" | "}),t.email&&r.jsx("a",{href:`mailto:${t.email}`,style:d,children:t.email})]}),t.unsubscribeText&&r.jsx("p",{style:{...c,marginTop:"16px"},children:r.jsx("a",{href:t.unsubscribeUrl||"#",style:d,children:t.unsubscribeText})}),t.copyright&&r.jsx("p",{style:{...c,marginTop:"12px",fontSize:"11px"},children:t.copyright})]})},i1=(t,l={})=>{const s=Xt("footer",t),c=["padding: 24px 16px",`text-align: ${t.align||"center"}`];t.layoutStyles?.border||c.push("border-top: 1px solid #e5e7eb");const d=Yt(t,c.join("; ")),g=t.layoutStyles?.typography?.color||t.textColor||"#6b7280",m=t.layoutStyles?.typography?.fontSize||t.fontSize||"12px";return`
        <footer class="${s}" style="${d}">
            ${t.companyName?`<p style="color: ${g}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${g}; font-size: ${m}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`
                <p style="color: ${g}; font-size: ${m}; margin: 0 0 8px 0;">
                    ${t.phone||""}
                    ${t.phone&&t.email?" | ":""}
                    ${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"};">${t.email}</a>`:""}
                </p>
            `:""}
            ${t.copyright?`<p style="color: ${g}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </footer>
    `},s1=(t,l={})=>`
        <div style="padding: 24px 16px; text-align: ${t.align||"center"}; border-top: 1px solid #e5e7eb;">
            ${t.companyName?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.phone||""}${t.phone&&t.email?" | ":""}${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.email}</a>`:""}</p>`:""}
            ${t.unsubscribeText?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 16px 0 0 0;"><a href="${t.unsubscribeUrl||"#"}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.unsubscribeText}</a></p>`:""}
            ${t.copyright?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </div>
    `,a1={page:i1,email:s1},c1=[{name:"companyName",type:"text",label:f("Company Name"),section:f("Company Information"),placeholder:f("Your Company Name")},{name:"address",type:"textarea",label:f("Address"),section:f("Company Information"),rows:2,placeholder:"123 Street Name, City, Country"},{name:"phone",type:"text",label:f("Phone"),section:f("Company Information"),placeholder:"+1 234 567 890"},{name:"email",type:"email",label:f("Email"),section:f("Company Information"),placeholder:"contact@company.com"},{name:"unsubscribeText",type:"text",label:f("Unsubscribe Text"),section:f("Unsubscribe Link"),placeholder:f("Unsubscribe from these emails")},{name:"unsubscribeUrl",type:"url",label:f("Unsubscribe URL"),section:f("Unsubscribe Link"),placeholder:"#unsubscribe"},{name:"copyright",type:"text",label:f("Copyright Text"),section:f("Copyright"),placeholder:" 2024 Your Company. All rights reserved."},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],u1=_e(o1,{block:l1,save:a1,fields:c1}),d1="countdown",f1="1.0.0",g1="Countdown",p1="Advanced",h1="mdi:timer-outline",m1="Add a countdown timer",x1=["countdown","timer","deadline","urgency"],y1=["email","page","campaign"],v1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},b1={targetDate:"",targetTime:"23:59",title:"Sale Ends In",backgroundColor:"#1e293b",textColor:"#ffffff",numberColor:"#635bff",align:"center",expiredMessage:"This offer has expired!"},tf={type:d1,version:f1,label:g1,category:p1,icon:h1,description:m1,keywords:x1,contexts:y1,supports:v1,defaultProps:b1},w1=({props:t,isSelected:l})=>{const[i,s]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[c,d]=x.useState(!1),g=$r(t.layoutStyles||{});x.useEffect(()=>{const T=()=>{const L=`${t.targetDate}T${t.targetTime||"23:59"}:00`,M=new Date(L)-new Date;return M>0?(d(!1),{days:Math.floor(M/864e5),hours:Math.floor(M/36e5%24),minutes:Math.floor(M/1e3/60%60),seconds:Math.floor(M/1e3%60)}):(d(!0),{days:0,hours:0,minutes:0,seconds:0})};s(T());const $=setInterval(()=>{s(T())},1e3);return()=>clearInterval($)},[t.targetDate,t.targetTime]);const m={padding:"24px",backgroundColor:t.backgroundColor||"#1e293b",borderRadius:"8px",textAlign:g.textAlign||t.align||"center"},p=Ae(m,t.layoutStyles),v={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",marginBottom:"16px",margin:"0 0 16px 0"},b={display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},y={backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px 16px",minWidth:"70px"},N={color:t.numberColor||"#635bff",fontSize:"36px",fontWeight:"700",lineHeight:"1",display:"block"},j={color:t.textColor||"#ffffff",fontSize:"11px",marginTop:"4px",textTransform:"uppercase",letterSpacing:"1px",display:"block"},E={color:t.numberColor||"#635bff",fontSize:"28px",fontWeight:"700"},w={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",padding:"20px 0",margin:0},C={marginTop:"12px",padding:"6px 12px",backgroundColor:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"4px",fontSize:"11px",display:"inline-block"},S=[{value:i.days,label:"Days"},{value:i.hours,label:"Hours"},{value:i.minutes,label:"Mins"},{value:i.seconds,label:"Secs"}];return c?r.jsx("div",{style:p,children:r.jsx("p",{style:w,children:t.expiredMessage||"This offer has expired!"})}):r.jsxs("div",{style:p,children:[t.title&&r.jsx("p",{style:v,children:t.title}),r.jsx("div",{style:b,children:S.map((T,$)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("div",{style:y,children:[r.jsx("span",{style:N,children:String(T.value).padStart(2,"0")}),r.jsx("span",{style:j,children:T.label})]}),$<S.length-1&&r.jsx("span",{style:E,children:":"})]},$))}),r.jsx("div",{style:C,children:" Snapshot at send time (won't update live in email)"})]})},k1=(t,l={})=>{const s=Xt("countdown",t),c=`countdown-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,d=t.targetDate||new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],g=t.targetTime||"23:59",m=`${d}T${g}:00`,p=["padding: 24px",`text-align: ${t.align||"center"}`];t.layoutStyles?.background?.color||p.push(`background-color: ${t.backgroundColor||"#1e293b"}`),t.layoutStyles?.border||p.push("border-radius: 8px");const v=Yt(t,p.join("; ")),b=t.layoutStyles?.typography?.color||t.textColor||"#ffffff";return`
        <div class="${s}" id="${c}" data-target="${m}" data-expired-message="${t.expiredMessage||""}" style="${v}">
            ${t.title?`<p style="color: ${b}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <div style="display: flex; justify-content: center; gap: 16px; flex-wrap: wrap;">
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-days" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-hours" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-mins" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-secs" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                </div>
            </div>
        </div>
        <script>
            (function() {
                const el = document.getElementById('${c}');
                if (!el) return;
                const target = new Date(el.dataset.target);
                const expiredMsg = el.dataset.expiredMessage;
                function update() {
                    const now = new Date();
                    const diff = Math.max(0, target - now);
                    if (diff <= 0 && expiredMsg) {
                        el.innerHTML = '<p style="color: #ffffff; font-size: 18px; font-weight: 600; margin: 0;">' + expiredMsg + '</p>';
                        return;
                    }
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                    const mins = Math.floor((diff / 1000 / 60) % 60);
                    const secs = Math.floor((diff / 1000) % 60);
                    el.querySelector('.lb-countdown-days').textContent = String(days).padStart(2, '0');
                    el.querySelector('.lb-countdown-hours').textContent = String(hours).padStart(2, '0');
                    el.querySelector('.lb-countdown-mins').textContent = String(mins).padStart(2, '0');
                    el.querySelector('.lb-countdown-secs').textContent = String(secs).padStart(2, '0');
                }
                update();
                setInterval(update, 1000);
            })();
        <\/script>
    `},C1=(t,l={})=>{const i=t.targetDate||new Date(Date.now()+6048e5).toISOString().split("T")[0],s=t.targetTime||"23:59",c=`${i}T${s}:00`,d=new Date(c),m=Math.max(0,d-new Date),p=Math.floor(m/(1e3*60*60*24)),v=Math.floor(m/(1e3*60*60)%24),b=Math.floor(m/1e3/60%60),y=Math.floor(m/1e3%60);return m<=0&&t.expiredMessage?`
            <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
                <p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0;">${t.expiredMessage}</p>
            </div>
        `:`
        <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
            ${t.title?`<p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(p).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(v).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(b).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(y).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
    `},S1={page:k1,email:C1},j1=()=>{const t=new Date;return t.setDate(t.getDate()+7),t.toISOString().split("T")[0]},N1={...tf,defaultProps:{...tf.defaultProps,targetDate:j1()}},E1=[{name:"targetDate",type:"date",label:f("Target Date"),section:f("Countdown Settings"),required:!0,help:f("The date when the countdown ends")},{name:"targetTime",type:"time",label:f("Target Time"),section:f("Countdown Settings"),help:f("The time when the countdown ends")},{name:"title",type:"text",label:f("Title"),section:f("Countdown Settings"),placeholder:f("Sale Ends In")},{name:"expiredMessage",type:"text",label:f("Expired Message"),section:f("Countdown Settings"),placeholder:f("This offer has expired!"),help:f("Message to show when countdown expires")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"numberColor",type:"color",label:f("Number Color"),section:f("Colors")},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],$1=_e(N1,{block:w1,save:S1,fields:E1}),T1="table",R1="1.0.0",L1="Table",A1="Advanced",B1="mdi:table",I1="Add a data table",_1=["table","data","grid","rows","columns"],D1=["email","page","campaign"],P1={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},z1={headers:["Product","Qty","Price"],rows:[["Product Name 1","2","$29.99"],["Product Name 2","1","$49.99"]],showHeader:!0,headerBgColor:"#f1f5f9",headerTextColor:"#1e293b",borderColor:"#e2e8f0",cellPadding:"12px",fontSize:"14px"},M1={type:T1,version:R1,label:L1,category:A1,icon:B1,description:I1,keywords:_1,contexts:D1,supports:P1,defaultProps:z1},O1=({props:t})=>{const i=Ae({padding:"8px",borderRadius:"4px"},t.layoutStyles),s={width:"100%",borderCollapse:"collapse",fontSize:t.fontSize||"14px"},c=Ae(s,t.layoutStyles),d={backgroundColor:t.headerBgColor||"#f1f5f9",color:t.headerTextColor||"#1e293b",padding:t.cellPadding||"12px",textAlign:"left",fontWeight:"600",borderBottom:`2px solid ${t.borderColor||"#e2e8f0"}`},g={padding:t.cellPadding||"12px",borderBottom:`1px solid ${t.borderColor||"#e2e8f0"}`,color:"#374151"},m=t.headers||[],p=t.rows||[];return r.jsx("div",{style:i,children:r.jsxs("table",{style:c,children:[t.showHeader&&m.length>0&&r.jsx("thead",{children:r.jsx("tr",{children:m.map((v,b)=>r.jsx("th",{style:d,children:v},b))})}),r.jsx("tbody",{children:p.map((v,b)=>r.jsx("tr",{children:v.map((y,N)=>r.jsx("td",{style:g,children:y},N))},b))})]})})},H1=({props:t,onUpdate:l})=>{const i=(C,S)=>{l({...t,[C]:S})},s=(C,S)=>{const T=[...t.headers||[]];T[C]=S,i("headers",T)},c=(C,S,T)=>{const $=[...t.rows||[]];$[C]=[...$[C]],$[C][S]=T,i("rows",$)},d=()=>{const C=[...t.headers||[],"New Column"],S=(t.rows||[]).map(T=>[...T,""]);l({...t,headers:C,rows:S})},g=C=>{const S=[...t.headers||[]];S.splice(C,1);const T=(t.rows||[]).map($=>{const L=[...$];return L.splice(C,1),L});l({...t,headers:S,rows:T})},m=()=>{const C=[...t.rows||[]],S=(t.headers||[]).length;C.push(Array(S).fill("")),i("rows",C)},p=C=>{const S=[...t.rows||[]];S.splice(C,1),i("rows",S)},v={marginBottom:"16px"},b={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},y={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},N={width:"100%",borderCollapse:"collapse",fontSize:"12px",marginBottom:"12px"},j={width:"100%",padding:"6px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px"},w={...{padding:"6px 12px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",backgroundColor:"#ffffff"},color:"#dc2626",borderColor:"#dc2626",padding:"4px 8px"};return r.jsxs("div",{children:[r.jsxs("div",{style:v,children:[r.jsx("div",{style:y,children:f("Table Data")}),r.jsx("div",{style:{marginBottom:"12px"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:t.showHeader!==!1,onChange:C=>i("showHeader",C.target.checked),style:{marginRight:"8px"}}),r.jsx("span",{style:b,children:f("Show Header Row")})]})}),r.jsx("div",{style:{overflowX:"auto",marginBottom:"12px"},children:r.jsxs("table",{style:N,children:[t.showHeader!==!1&&r.jsx("thead",{children:r.jsx("tr",{children:(t.headers||[]).map((C,S)=>r.jsxs("th",{style:{padding:"4px",position:"relative"},children:[r.jsx("input",{type:"text",value:C,onChange:T=>s(S,T.target.value),style:j,placeholder:`Column ${S+1}`}),r.jsx("button",{onClick:()=>g(S),style:{...w,marginTop:"4px",width:"100%"},title:"Remove column",children:r.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})]},S))})}),r.jsx("tbody",{children:(t.rows||[]).map((C,S)=>r.jsxs("tr",{children:[C.map((T,$)=>r.jsx("td",{style:{padding:"4px"},children:r.jsx("input",{type:"text",value:T,onChange:L=>c(S,$,L.target.value),style:j,placeholder:`Cell ${S+1}-${$+1}`})},$)),r.jsx("td",{style:{padding:"4px",width:"40px"},children:r.jsx("button",{onClick:()=>p(S),style:w,title:"Remove row",children:r.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})})]},S))})]})}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsxs("button",{onClick:m,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[r.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Row")]}),r.jsxs("button",{onClick:d,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[r.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Column")]})]})]}),r.jsxs("div",{style:v,children:[r.jsx("div",{style:y,children:f("Style")}),r.jsx("label",{style:b,children:f("Font Size")}),r.jsxs("select",{value:t.fontSize||"14px",onChange:C=>i("fontSize",C.target.value),className:"form-control mb-3",children:[r.jsxs("option",{value:"12px",children:[f("Small")," (12px)"]}),r.jsxs("option",{value:"14px",children:[f("Medium")," (14px)"]}),r.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),r.jsxs("option",{value:"18px",children:[f("X-Large")," (18px)"]})]}),r.jsx("label",{style:b,children:f("Cell Padding")}),r.jsxs("select",{value:t.cellPadding||"12px",onChange:C=>i("cellPadding",C.target.value),className:"form-control",children:[r.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),r.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),r.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),r.jsxs("option",{value:"20px",children:[f("X-Large")," (20px)"]})]})]}),r.jsxs("div",{style:v,children:[r.jsx("div",{style:y,children:f("Colors")}),r.jsx("label",{style:b,children:f("Header Background Color")}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[r.jsx("input",{type:"color",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),className:"form-control",style:{flex:1}})]}),r.jsx("label",{style:b,children:f("Header Text Color")}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[r.jsx("input",{type:"color",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),className:"form-control",style:{flex:1}})]}),r.jsx("label",{style:b,children:f("Border Color")}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("input",{type:"color",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),className:"form-control",style:{flex:1}})]})]})]})},F1=(t,l={})=>{const s=Xt("table",t),c=(t.headers||[]).map(b=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${b}</th>`).join(""),d=t.layoutStyles?.typography?.color||"#374151",g=(t.rows||[]).map(b=>`<tr>${b.map(y=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: ${d};">${y}</td>`).join("")}</tr>`).join(""),m=t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",v=Yt(t,"overflow-x: auto");return`
        <div class="${s}" style="${v}">
            <table class="lb-table-inner" style="width: 100%; font-size: ${m}; border-collapse: collapse;">
                ${t.showHeader&&c?`<thead><tr>${c}</tr></thead>`:""}
                <tbody>${g}</tbody>
            </table>
        </div>
    `},W1=(t,l={})=>{const i=(t.headers||[]).map(c=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${c}</th>`).join(""),s=(t.rows||[]).map(c=>`<tr>${c.map(d=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: #374151;">${d}</td>`).join("")}</tr>`).join("");return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="font-size: ${t.fontSize||"14px"}; border-collapse: collapse;">
            ${t.showHeader&&i?`<thead><tr>${i}</tr></thead>`:""}
            <tbody>${s}</tbody>
        </table>
    `},U1={page:F1,email:W1},V1=_e(M1,{block:O1,editor:H1,save:U1}),K1="code",G1="1.0.0",X1="Code",Y1="Advanced",Q1="mdi:code-braces",q1="Add a code snippet with syntax highlighting",J1=["code","snippet","programming","syntax","highlight"],Z1=["email","page","campaign"],ew={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tw={code:`<?php
echo "Hello World";
?>`,language:"php",fontSize:"14px",backgroundColor:"#1e1e1e",textColor:"#d4d4d4",borderRadius:"8px"},nw={type:K1,version:G1,label:X1,category:Y1,icon:Q1,description:q1,keywords:J1,contexts:Z1,supports:ew,defaultProps:tw},rw=t=>{const l=document.createElement("div");return l.textContent=t,l.innerHTML},ow=()=>{if(window.Prism)return Promise.resolve();const t=s=>new Promise((c,d)=>{const g=document.createElement("script");g.src=s,g.onload=c,g.onerror=d,document.head.appendChild(g)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(s)}if(!document.querySelector('link[href*="prism-toolbar"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(s)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((s,c)=>s.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},lw=({props:t,onUpdate:l,isSelected:i})=>{const s=x.useRef(null),c=x.useRef(null),d=x.useRef(t.code),g=x.useRef(t),m=x.useRef(l),[p,v]=x.useState(!!window.Prism);g.current=t,m.current=l,x.useEffect(()=>{window.Prism||ow().then(()=>{v(!0)})},[]),x.useEffect(()=>{!i&&p&&c.current&&window.Prism&&setTimeout(()=>{c.current&&window.Prism&&window.Prism.highlightAllUnder(c.current)},0)},[i,p,t.code,t.language]);const{handleContentChange:b}=ll({editorRef:s,contentKey:"code",useInnerHTML:!1,propsRef:g,onUpdateRef:m,lastContentRef:d}),y=x.useCallback(()=>{b()},[b]);x.useEffect(()=>{i&&s.current&&s.current.textContent===""&&(s.current.textContent=t.code||"",d.current=t.code)},[i]),x.useEffect(()=>{i&&s.current&&t.code!==d.current&&(s.current.textContent=t.code||"",d.current=t.code)},[t.code,i]),x.useEffect(()=>{i&&s.current&&requestAnimationFrame(()=>{if(s.current){s.current.focus();const C=document.createRange();C.selectNodeContents(s.current),C.collapse(!1);const S=window.getSelection();S.removeAllRanges(),S.addRange(C)}})},[i]);const N=t.language||"php",j={fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:t.fontSize||"14px",lineHeight:"1.5",borderRadius:t.borderRadius||"8px",backgroundColor:"#1e1e1e",overflowX:"auto"},E=Ae(j,t.layoutStyles),w=`
        .code-block-preview pre[class*="language-"] {
            margin: 0 !important;
            padding: 16px !important;
            background: #1e1e1e !important;
            border-radius: ${t.borderRadius||"8px"} !important;
            font-size: ${t.fontSize||"14px"} !important;
        }
        .code-block-preview code[class*="language-"] {
            font-size: inherit !important;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
        }
        .code-block-preview .code-toolbar .toolbar {
            opacity: 1;
            top: 8px;
            right: 8px;
        }
        .code-block-preview .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .code-block-preview .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i?r.jsx("div",{"data-text-editing":"true",className:"relative",children:r.jsx("pre",{ref:s,contentEditable:!0,suppressContentEditableWarning:!0,onInput:y,onBlur:y,style:{...E,padding:"16px",color:"#d4d4d4",whiteSpace:"pre-wrap",wordBreak:"break-word",outline:"none",margin:0,minHeight:"60px"}})},"code-editor"):r.jsxs("div",{ref:c,className:"code-block-preview",style:{position:"relative"},children:[r.jsx("style",{children:w}),r.jsx("pre",{className:`language-${N}`,style:{...E,margin:0},children:r.jsx("code",{className:`language-${N}`,dangerouslySetInnerHTML:{__html:rw(t.code||"Click to add code...")}})})]},"code-preview")},iw=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",sw=(t,l={})=>{const i={code:t.code||"",language:t.language||"plaintext",fontSize:t.fontSize||"14px",backgroundColor:t.backgroundColor||"#1e1e1e",textColor:t.textColor||"#d4d4d4",borderRadius:t.borderRadius||"8px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="code" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},aw=(t,l={})=>{const i=iw(t.code||""),s=t.backgroundColor||"#1e1e1e",c=t.textColor||"#d4d4d4",d=t.fontSize||"14px",g=t.borderRadius||"8px";return`
        <div style="background-color: ${s}; border-radius: ${g}; padding: 16px; overflow-x: auto; font-family: monospace; font-size: ${d}; line-height: 1.5; color: ${c};">
            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${i}</pre>
        </div>
    `},cw={page:sw,email:aw},uw=[{name:"language",type:"select",label:f("Language"),section:f("Settings"),options:[{value:"markup",label:"HTML"},{value:"css",label:"CSS"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"jsx",label:"JSX (React)"},{value:"tsx",label:"TSX (React)"},{value:"php",label:"PHP"},{value:"python",label:"Python"},{value:"bash",label:"Bash / Shell"},{value:"sql",label:"SQL"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"scss",label:"SCSS"},{value:"plaintext",label:"Plain Text"}]},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:f("X-Small")+" (12px)"},{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"}]}],dw=_e(nw,{block:lw,save:cw,fields:uw}),fw="preformatted",gw="1.0.0",pw="Preformatted",hw="Content",mw="mdi:format-text-wrapping-wrap",xw="Add preformatted text with monospace font",yw=["preformatted","pre","monospace","fixed","code"],vw=["email","page","campaign"],bw={layout:!0,html:!0,duplicate:!0,remove:!0},ww={text:"Write preformatted text...",backgroundColor:"#f5f5f5",textColor:"#333333",borderColor:"#e0e0e0",borderRadius:"4px"},kw={type:fw,version:gw,label:pw,category:hw,icon:mw,description:xw,keywords:yw,contexts:vw,supports:bw,defaultProps:ww},Cw=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{const c=x.useRef(null),d=x.useRef(t.text),g=x.useRef(t),m=x.useRef(l);g.current=t,m.current=l;const{handleContentChange:p}=ll({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:g,onUpdateRef:m,lastContentRef:d}),v=x.useCallback(()=>{p()},[p]),b=x.useCallback(j=>{m.current({...g.current,align:j})},[]);x.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",d.current=t.text)},[i]),x.useEffect(()=>{i&&c.current&&t.text!==d.current&&(c.current.innerHTML=t.text||"",d.current=t.text)},[t.text,i]),x.useEffect(()=>{i&&s?s({editorRef:c,isContentEditable:!0,align:g.current.align||"left",onAlignChange:b}):!i&&s&&s(null)},[i,s,b]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const j=document.createRange();j.selectNodeContents(c.current),j.collapse(!1);const E=window.getSelection();E.removeAllRanges(),E.addRange(j)}})},[i]);const N=Ae({fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:"14px",lineHeight:"1.6",padding:"16px",borderRadius:"4px",backgroundColor:"#f5f5f5",color:"#333333",border:"1px solid #e0e0e0",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},t.layoutStyles);return i?r.jsx("div",{"data-text-editing":"true",className:"relative",children:r.jsx("pre",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:v,onBlur:v,style:{...N,border:"2px solid var(--color-primary, #635bff)",outline:"none",margin:0,minHeight:"60px"}})}):r.jsx("pre",{style:{...N,margin:0},dangerouslySetInnerHTML:{__html:t.text||"Write preformatted text..."}})},Sw=t=>{const i=Xt("preformatted",t),s=t.text||"",c=["overflow-x: auto","white-space: pre-wrap","word-wrap: break-word"];t.layoutStyles?.typography?.fontFamily||c.push('font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace'),t.layoutStyles?.typography?.fontSize||c.push("font-size: 14px"),t.layoutStyles?.typography?.lineHeight||c.push("line-height: 1.6"),t.layoutStyles?.typography?.color||c.push("color: #333333"),t.layoutStyles?.background?.color||c.push("background-color: #f5f5f5"),t.layoutStyles?.border?.width||c.push("border: 1px solid #e0e0e0"),t.layoutStyles?.border?.radius||c.push("border-radius: 4px"),t.layoutStyles?.spacing?.padding||c.push("padding: 16px");const d=Yt(t,c.join("; "));return`<pre class="${i}" style="margin: 0; ${d}">${s}</pre>`},jw=t=>{const l=t.text||"",i=t.layoutStyles||{},s=i.background?.color||"#f5f5f5",c=i.typography?.color||"#333333",d=i.typography?.fontSize||"14px",g=i.typography?.lineHeight||"1.6",m=i.spacing?.padding||"16px",p=i.border?.radius||"4px",v=i.border?.width||"1px",b=i.border?.color||"#e0e0e0";return`<pre style="margin: 0; background-color: ${s}; border-radius: ${p}; padding: ${m}; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: ${d}; line-height: ${g}; color: ${c}; border: ${v} solid ${b};">${l}</pre>`},Nw={page:Sw,email:jw},Ew=[{name:"borderRadius",type:"text",label:f("Border Radius"),section:f("Style"),placeholder:"4px"},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Colors")}],$w=_e(kw,{block:Cw,save:Nw,fields:Ew}),Tw="accordion",Rw="1.0.0",Lw="Accordion",Aw="Content",Bw="mdi:arrow-collapse-vertical",Iw="Add collapsible accordion sections",_w=["accordion","collapse","expand","faq"],Dw=["email","page","campaign"],Pw={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},zw={items:[{title:"Accordion Item 1",content:"Content for the first accordion item."},{title:"Accordion Item 2",content:"Content for the second accordion item."}],independentToggle:!1,transitionDuration:200,headerBgColor:"#ffffff",headerBgColorActive:"#f9fafb",headerPadding:"16px",titleColor:"#1f2937",titleFontSize:"16px",titleFontWeight:"600",contentBgColor:"#ffffff",contentColor:"#4b5563",contentFontSize:"14px",contentPadding:"16px",iconColor:"#6b7280",iconPosition:"right",borderColor:"#e5e7eb",borderRadius:"8px"},Mw=[{name:"items",type:"array",label:"Accordion Items"},{name:"independentToggle",type:"boolean",label:"Independent Toggle"},{name:"transitionDuration",type:"number",label:"Transition Duration (ms)"},{name:"headerBgColor",type:"color",label:"Header Background Color"},{name:"headerBgColorActive",type:"color",label:"Header Active Background Color"},{name:"headerPadding",type:"text",label:"Header Padding"},{name:"titleColor",type:"color",label:"Title Color"},{name:"titleFontSize",type:"text",label:"Title Font Size"},{name:"titleFontWeight",type:"select",label:"Title Font Weight",options:[{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi-bold (600)"},{value:"700",label:"Bold (700)"}]},{name:"contentBgColor",type:"color",label:"Content Background Color"},{name:"contentColor",type:"color",label:"Content Color"},{name:"contentFontSize",type:"text",label:"Content Font Size"},{name:"contentPadding",type:"text",label:"Content Padding"},{name:"iconColor",type:"color",label:"Icon Color"},{name:"iconPosition",type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}]},{name:"borderColor",type:"color",label:"Border Color"},{name:"borderRadius",type:"text",label:"Border Radius"}],Ow={type:Tw,version:Rw,label:Lw,category:Aw,icon:Bw,description:Iw,keywords:_w,contexts:Dw,supports:Pw,defaultProps:zw,properties:Mw},Hw=({props:t,isSelected:l,onUpdate:i})=>{const[s,c]=x.useState([0]),[d,g]=x.useState(null),m=x.useRef(null),p=x.useRef(t),v=x.useRef(i);p.current=t,v.current=i;const b=t.items||[{title:"Accordion Item 1",content:"Content for the first accordion item."}],y=U=>{t.independentToggle?c(X=>X.includes(U)?X.filter(O=>O!==U):[...X,U]):c(X=>X.includes(U)?[]:[U])},N=()=>{const U=[...b,{title:"New Item",content:"Content goes here..."}];v.current({...p.current,items:U})},j=(U,X)=>{if(X.stopPropagation(),b.length<=1)return;const O=b.filter((J,te)=>te!==U);v.current({...p.current,items:O}),c(J=>J.filter(te=>te!==U).map(te=>te>U?te-1:te))},E=(U,X,O)=>{O.stopPropagation(),g({index:U,field:X})},w=x.useCallback(()=>{if(m.current&&d){const U=m.current.innerText,X=[...p.current.items];X[d.index]={...X[d.index],[d.field]:U},v.current({...p.current,items:X})}},[d]),C=()=>{w(),g(null)},S=U=>{U.key==="Enter"&&d?.field==="title"?(U.preventDefault(),C()):U.key==="Escape"&&g(null)};x.useEffect(()=>{if(d&&m.current){m.current.focus();const U=document.createRange();U.selectNodeContents(m.current),U.collapse(!1);const X=window.getSelection();X.removeAllRanges(),X.addRange(U)}},[d]);const $=Ae({padding:"8px",borderRadius:"8px"},t.layoutStyles),L={border:`1px solid ${t.borderColor||"#e5e7eb"}`,borderRadius:t.borderRadius||"8px",overflow:"hidden"},A=U=>({borderBottom:U?"none":`1px solid ${t.borderColor||"#e5e7eb"}`}),P=U=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.headerPadding||"16px",backgroundColor:U?t.headerBgColorActive||t.headerBgColor||"#f9fafb":t.headerBgColor||"#ffffff",cursor:"pointer",transition:"background-color 0.2s",userSelect:"none"}),M={fontWeight:t.titleFontWeight||"600",fontSize:t.titleFontSize||"16px",color:t.titleColor||"#1f2937",margin:0,flex:1},W={padding:t.contentPadding||"16px",backgroundColor:t.contentBgColor||"#ffffff",color:t.contentColor||"#4b5563",fontSize:t.contentFontSize||"14px",lineHeight:"1.6"},G=U=>({color:t.iconColor||"#6b7280",transition:`transform ${t.transitionDuration||200}ms ease`,transform:U?"rotate(180deg)":"rotate(0deg)",flexShrink:0,marginLeft:"12px"});return r.jsxs("div",{style:$,children:[r.jsx("div",{style:L,children:b.map((U,X)=>{const O=s.includes(X),J=X===b.length-1,te=d?.index===X&&d?.field==="title",re=d?.index===X&&d?.field==="content";return r.jsxs("div",{style:A(J),children:[r.jsxs("div",{style:P(O),onClick:()=>!d&&y(X),children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,gap:"8px"},children:[t.iconPosition==="left"&&r.jsx("span",{style:{...G(O),marginLeft:0,marginRight:"12px"},children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l&&te?r.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:S,onClick:ae=>ae.stopPropagation(),style:{...M,outline:"none",border:"1px solid var(--color-primary, #635bff)",borderRadius:"4px",padding:"4px 8px",backgroundColor:"white"},children:U.title}):r.jsx("h3",{style:M,onDoubleClick:ae=>l&&E(X,"title",ae),children:U.title})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l&&b.length>1&&r.jsx("button",{type:"button",onClick:ae=>j(X,ae),style:{padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#ef4444",opacity:.7},title:"Delete item",children:r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})}),t.iconPosition!=="left"&&r.jsx("span",{style:G(O),children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),r.jsx("div",{style:{maxHeight:O?"1000px":"0",overflow:"hidden",transition:`max-height ${t.transitionDuration||200}ms ease-in-out`},children:l&&re?r.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:ae=>ae.key==="Escape"&&C(),style:{...W,outline:"none",border:"2px solid var(--color-primary, #635bff)",minHeight:"80px"},children:U.content}):r.jsx("div",{style:W,onDoubleClick:ae=>l&&E(X,"content",ae),children:U.content||"Click to add content..."})})]},X)})}),l&&r.jsxs("button",{type:"button",onClick:N,style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"12px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Accordion Item"]}),l&&r.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:"Double-click on title or content to edit"})]})},Fw=({props:t,onUpdate:l})=>{const i=(p,v)=>{l({...t,[p]:v})},s={marginBottom:"16px"},c={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},d={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},g={display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},m={width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"};return r.jsxs("div",{children:[r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Behavior")}),r.jsxs("label",{style:{...c,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:t.independentToggle||!1,onChange:p=>i("independentToggle",p.target.checked),style:{cursor:"pointer"}}),r.jsx("span",{children:f("Allow Multiple Items Open")})]}),r.jsxs("div",{style:{marginTop:"12px"},children:[r.jsx("label",{style:c,children:f("Transition Duration (ms)")}),r.jsx("input",{type:"number",value:t.transitionDuration||200,onChange:p=>i("transitionDuration",parseInt(p.target.value)||200),className:"form-control",min:"0",max:"1000",step:"50"})]})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Header Styling")}),r.jsx("label",{style:c,children:f("Background Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.headerBgColor||"#ffffff",onChange:p=>i("headerBgColor",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.headerBgColor||"#ffffff",onChange:p=>i("headerBgColor",p.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),r.jsx("label",{style:c,children:f("Active Background Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.headerBgColorActive||"#f9fafb",onChange:p=>i("headerBgColorActive",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.headerBgColorActive||"#f9fafb",onChange:p=>i("headerBgColorActive",p.target.value),className:"form-control",style:{flex:1},placeholder:"#f9fafb"})]}),r.jsx("label",{style:c,children:f("Padding")}),r.jsx("input",{type:"text",value:t.headerPadding||"16px",onChange:p=>i("headerPadding",p.target.value),className:"form-control",placeholder:"16px"})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Title Styling")}),r.jsx("label",{style:c,children:f("Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.titleColor||"#1f2937",onChange:p=>i("titleColor",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.titleColor||"#1f2937",onChange:p=>i("titleColor",p.target.value),className:"form-control",style:{flex:1},placeholder:"#1f2937"})]}),r.jsx("label",{style:c,children:f("Font Size")}),r.jsxs("select",{value:t.titleFontSize||"16px",onChange:p=>i("titleFontSize",p.target.value),className:"form-control",style:{marginBottom:"12px"},children:[r.jsx("option",{value:"12px",children:"12px"}),r.jsx("option",{value:"14px",children:"14px"}),r.jsx("option",{value:"16px",children:"16px"}),r.jsx("option",{value:"18px",children:"18px"}),r.jsx("option",{value:"20px",children:"20px"}),r.jsx("option",{value:"24px",children:"24px"})]}),r.jsx("label",{style:c,children:f("Font Weight")}),r.jsxs("select",{value:t.titleFontWeight||"600",onChange:p=>i("titleFontWeight",p.target.value),className:"form-control",children:[r.jsxs("option",{value:"400",children:[f("Normal")," (400)"]}),r.jsxs("option",{value:"500",children:[f("Medium")," (500)"]}),r.jsxs("option",{value:"600",children:[f("Semi-bold")," (600)"]}),r.jsxs("option",{value:"700",children:[f("Bold")," (700)"]})]})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Content Styling")}),r.jsx("label",{style:c,children:f("Background Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.contentBgColor||"#ffffff",onChange:p=>i("contentBgColor",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.contentBgColor||"#ffffff",onChange:p=>i("contentBgColor",p.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),r.jsx("label",{style:c,children:f("Text Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.contentColor||"#4b5563",onChange:p=>i("contentColor",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.contentColor||"#4b5563",onChange:p=>i("contentColor",p.target.value),className:"form-control",style:{flex:1},placeholder:"#4b5563"})]}),r.jsx("label",{style:c,children:f("Font Size")}),r.jsxs("select",{value:t.contentFontSize||"14px",onChange:p=>i("contentFontSize",p.target.value),className:"form-control",style:{marginBottom:"12px"},children:[r.jsx("option",{value:"12px",children:"12px"}),r.jsx("option",{value:"14px",children:"14px"}),r.jsx("option",{value:"16px",children:"16px"}),r.jsx("option",{value:"18px",children:"18px"})]}),r.jsx("label",{style:c,children:f("Padding")}),r.jsx("input",{type:"text",value:t.contentPadding||"16px",onChange:p=>i("contentPadding",p.target.value),className:"form-control",placeholder:"16px"})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Icon")}),r.jsx("label",{style:c,children:f("Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.iconColor||"#6b7280",onChange:p=>i("iconColor",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.iconColor||"#6b7280",onChange:p=>i("iconColor",p.target.value),className:"form-control",style:{flex:1},placeholder:"#6b7280"})]}),r.jsx("label",{style:c,children:f("Position")}),r.jsxs("select",{value:t.iconPosition||"right",onChange:p=>i("iconPosition",p.target.value),className:"form-control",children:[r.jsx("option",{value:"left",children:f("Left")}),r.jsx("option",{value:"right",children:f("Right")})]})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Border")}),r.jsx("label",{style:c,children:f("Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.borderColor||"#e5e7eb",onChange:p=>i("borderColor",p.target.value),style:m}),r.jsx("input",{type:"text",value:t.borderColor||"#e5e7eb",onChange:p=>i("borderColor",p.target.value),className:"form-control",style:{flex:1},placeholder:"#e5e7eb"})]}),r.jsx("label",{style:c,children:f("Border Radius")}),r.jsx("input",{type:"text",value:t.borderRadius||"8px",onChange:p=>i("borderRadius",p.target.value),className:"form-control",placeholder:"8px"})]}),r.jsxs("div",{style:{padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px",fontSize:"12px",color:"#6b7280",lineHeight:"1.5"},children:[r.jsx("strong",{style:{color:"#374151"},children:f("Tip:")})," ",f('Double-click on titles or content in the canvas to edit them directly. Use the "Add Accordion Item" button to add more items.')]})]})},Ww=(t,l={})=>{const s=Xt("accordion",t),c=t.items||[{title:"Accordion Item",content:"Content goes here..."}],d=`accordion-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,g=t.layoutStyles?.border?.color||t.borderColor||"#e5e7eb",m=t.layoutStyles?.border?.radius||t.borderRadius||"8px",p=t.headerBgColor||"#ffffff",v=t.headerBgColorActive||"#f9fafb",b=t.headerPadding||"16px",y=t.layoutStyles?.typography?.color||t.titleColor||"#1f2937",N=t.layoutStyles?.typography?.fontSize||t.titleFontSize||"16px",j=t.layoutStyles?.typography?.fontWeight||t.titleFontWeight||"600",E=t.contentBgColor||"#ffffff",w=t.contentColor||"#4b5563",C=t.contentFontSize||"14px",S=t.contentPadding||"16px",T=t.iconColor||"#6b7280",$=t.iconPosition||"right",L=t.transitionDuration||200,A=t.independentToggle||!1,P=c.map((G,U)=>{const X=U===c.length-1,O=`${d}-item-${U}`;return`
            <div class="lb-accordion-item" data-index="${U}" style="border-bottom: ${X?"none":`1px solid ${g}`};">
                <button type="button" class="lb-accordion-header" data-target="${O}" style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: ${b}; background-color: ${p}; border: none; cursor: pointer; text-align: left; transition: background-color 0.2s; flex-direction: ${$==="left"?"row-reverse":"row"};">
                    <span style="font-weight: ${j}; font-size: ${N}; color: ${y}; flex: 1;">${G.title}</span>
                    <span class="lb-accordion-icon" style="color: ${T}; transition: transform ${L}ms ease; ${$==="left"?"margin-right: 12px;":"margin-left: 12px;"}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </span>
                </button>
                <div id="${O}" class="lb-accordion-content" style="max-height: 0; overflow: hidden; transition: max-height ${L}ms ease-in-out;">
                    <div style="padding: ${S}; background-color: ${E}; color: ${w}; font-size: ${C}; line-height: 1.6;">
                        ${G.content}
                    </div>
                </div>
            </div>
        `}).join(""),M=["overflow: hidden"];t.layoutStyles?.border||(M.push(`border: 1px solid ${g}`),M.push(`border-radius: ${m}`));const W=Yt(t,M.join("; "));return`
        <div class="${s}" id="${d}" data-independent="${A}" style="${W}">
            ${P}
        </div>
        <script>
            (function() {
                const accordion = document.getElementById('${d}');
                if (!accordion) return;
                const isIndependent = accordion.dataset.independent === 'true';
                const headers = accordion.querySelectorAll('.lb-accordion-header');

                headers.forEach(header => {
                    header.addEventListener('click', function() {
                        const targetId = this.dataset.target;
                        const content = document.getElementById(targetId);
                        const icon = this.querySelector('.lb-accordion-icon');
                        const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

                        if (!isIndependent) {
                            // Close all other items
                            accordion.querySelectorAll('.lb-accordion-content').forEach(c => {
                                c.style.maxHeight = '0px';
                            });
                            accordion.querySelectorAll('.lb-accordion-icon').forEach(i => {
                                i.style.transform = 'rotate(0deg)';
                            });
                            accordion.querySelectorAll('.lb-accordion-header').forEach(h => {
                                h.style.backgroundColor = '${p}';
                            });
                        }

                        if (isOpen) {
                            content.style.maxHeight = '0px';
                            icon.style.transform = 'rotate(0deg)';
                            this.style.backgroundColor = '${p}';
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(180deg)';
                            this.style.backgroundColor = '${v}';
                        }
                    });
                });

                // Open first item by default
                const firstHeader = headers[0];
                if (firstHeader) {
                    firstHeader.click();
                }
            })();
        <\/script>
    `},Uw=(t,l={})=>{const i=t.items||[{title:"Accordion Item",content:"Content goes here..."}],s=t.borderColor||"#e5e7eb",c=t.borderRadius||"8px",d=t.headerBgColor||"#ffffff",g=t.headerPadding||"16px",m=t.titleColor||"#1f2937",p=t.titleFontSize||"16px",v=t.titleFontWeight||"600",b=t.contentBgColor||"#ffffff",y=t.contentColor||"#4b5563",N=t.contentFontSize||"14px",j=t.contentPadding||"16px",E=t.iconColor||"#6b7280",w=i.map((C,S)=>`
            <div style="border-bottom: ${S===i.length-1?"none":`1px solid ${s}`};">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: ${g}; background-color: ${d};">
                    <span style="font-weight: ${v}; font-size: ${p}; color: ${m};">${C.title}</span>
                    <span style="color: ${E}; font-size: 12px;">&#9660;</span>
                </div>
                <div style="padding: ${j}; background-color: ${b}; color: ${y}; font-size: ${N}; line-height: 1.6;">
                    ${C.content}
                </div>
            </div>
        `).join("");return`
        <div style="border: 1px solid ${s}; border-radius: ${c}; overflow: hidden;">
            ${w}
        </div>
    `},Vw={page:Ww,email:Uw},Kw=_e(Ow,{block:Hw,editor:Fw,save:Vw}),Gw="toc",Xw="1.0.0",Yw="Table of Contents",Qw="Content",qw="mdi:table-of-contents",Jw="Auto-generated table of contents from headings",Zw=["toc","table of contents","navigation","headings","index"],ek=["page"],tk={colors:!0,align:!1,layout:!0,html:!0,duplicate:!0,remove:!0},nk={title:"Table of Contents",showTitle:!0,minLevel:"h1",maxLevel:"h4",listStyle:"bullet",backgroundColor:"#f8fafc",borderColor:"#e2e8f0",titleColor:"#1e293b",linkColor:"#3b82f6"},rk={type:Gw,version:Xw,label:Yw,category:Qw,icon:qw,description:Jw,keywords:Zw,contexts:ek,supports:tk,defaultProps:nk},ok=(t,l,i)=>{const s=[],c=d=>{if(Array.isArray(d))for(const g of d){if(g.type==="heading"&&g.props?.text){const m=g.props.level||"h2",p=parseInt(m.replace("h",""),10);if(p>=l&&p<=i){let v=g.props.text,b;do b=v,v=v.replace(/<[^>]*>/g,"");while(v!==b);v.trim()&&s.push({id:g.id,level:p,text:v.trim()})}}if(g.props?.children&&Array.isArray(g.props.children))for(const m of g.props.children)Array.isArray(m)&&c(m)}};return c(t),s};function lk({props:t,isSelected:l}){const{title:i=f("Table of Contents"),showTitle:s=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:g="bullet",backgroundColor:m="#f8fafc",borderColor:p="#e2e8f0",titleColor:v="#1e293b",linkColor:b="#635bff",layoutStyles:y}=t,{state:N}=Oi(),j=N.blocks,E=parseInt(c.replace("h",""),10),w=parseInt(d.replace("h",""),10),C=x.useMemo(()=>ok(j,E,w),[j,E,w]),S=Ae({backgroundColor:m,border:`1px solid ${p}`,borderRadius:"8px",padding:"16px 20px"},y),T={color:v,fontSize:"18px",fontWeight:"600",marginBottom:"12px",margin:0,paddingBottom:"8px",borderBottom:`1px solid ${p}`},$={margin:0,padding:0,listStyle:g==="none"?"none":g==="number"?"decimal":"disc",paddingLeft:g==="none"?"0":"20px"},L=M=>({marginLeft:`${(M-E)*16}px`,marginBottom:"6px",lineHeight:"1.6"}),A={color:b,textDecoration:"none"},P=g==="number"?"ol":"ul";return r.jsxs("div",{style:S,children:[s&&r.jsx("h4",{style:T,children:i}),r.jsx("nav",{children:r.jsx(P,{style:$,children:C.length===0?r.jsx("li",{style:{color:"#94a3b8",fontStyle:"italic"},children:f("No headings found.")}):C.map(M=>r.jsx("li",{style:L(M.level),children:r.jsx("span",{style:A,children:M.text})},M.id))})})]})}const Hf=t=>Array.isArray(t)?t.map(l=>{const i={type:l.type,id:l.id};return l.type==="heading"&&l.props&&(i.props={text:l.props.text,level:l.props.level}),l.props?.children&&Array.isArray(l.props.children)&&(i.props=i.props||{},i.props.children=l.props.children.map(s=>Array.isArray(s)?Hf(s):s)),i}):[],ik=(t,l={})=>{const{title:i="Table of Contents",showTitle:s=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:g="bullet",backgroundColor:m="#f8fafc",borderColor:p="#e2e8f0",titleColor:v="#1e293b",linkColor:b="#635bff"}=t,y=Hf(l.allBlocks||[]),N={title:i,showTitle:s,minLevel:c,maxLevel:d,listStyle:g,backgroundColor:m,borderColor:p,titleColor:v,linkColor:b,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||"",_allBlocks:y};return`<div data-lara-block="toc" data-props='${JSON.stringify(N).replace(/'/g,"&#39;")}'></div>`},sk=()=>null,ak={page:ik,email:sk},ck=[{name:"title",type:"text",label:f("Title"),section:f("Content"),placeholder:f("Table of Contents")},{name:"showTitle",type:"toggle",label:f("Show Title"),section:f("Content")},{name:"minLevel",type:"select",label:f("Minimum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"maxLevel",type:"select",label:f("Maximum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"listStyle",type:"select",label:f("List Style"),section:f("Style"),options:[{value:"bullet",label:f("Bullet")},{value:"number",label:f("Numbered")},{value:"none",label:f("None")}]},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"titleColor",type:"color",label:f("Title Color"),section:f("Style")},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],uk=_e(rk,{block:lk,save:ak,fields:ck}),dk="time-to-read",fk="1.0.0",gk="Time to Read",pk="Content",hk="mdi:clock-outline",mk="Display estimated reading time for the content",xk=["time","read","reading","minutes","duration","estimate"],yk=["page"],vk={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},bk={wordsPerMinute:200,displayAsRange:!0,prefix:"",suffix:"",align:"left",color:"#666666",fontSize:"14px",iconColor:"#666666",showIcon:!0},wk={type:dk,version:fk,label:gk,category:pk,icon:hk,description:mk,keywords:xk,contexts:yk,supports:vk,defaultProps:bk},kk=({props:t})=>{const i={display:"flex",alignItems:"center",gap:"6px",textAlign:$r(t.layoutStyles||{}).textAlign||t.align||"left",justifyContent:t.align==="center"?"center":t.align==="right"?"flex-end":"flex-start"},s=Ae(i,t.layoutStyles),c={color:t.layoutStyles?.typography?.color||t.color||"#666666",fontSize:t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",lineHeight:"1.4"},d={color:t.iconColor||t.color||"#666666",width:"16px",height:"16px",flexShrink:0},g=()=>{const m=t.prefix||"",p=t.suffix||"";return t.displayAsRange?`${m}1-2 minutes${p}`:`${m}2 minutes${p}`};return r.jsxs("div",{style:s,children:[t.showIcon&&r.jsxs("svg",{style:d,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),r.jsx("span",{style:c,children:g()})]})},Ck=(t,l={})=>{const i={wordsPerMinute:t.wordsPerMinute||200,displayAsRange:t.displayAsRange!==!1,prefix:t.prefix||"",suffix:t.suffix||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"14px",iconColor:t.iconColor||"#666666",showIcon:t.showIcon!==!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="time-to-read" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Sk=(t,l={})=>"",jk={page:Ck,email:Sk},Nk=[{name:"displayAsRange",type:"toggle",label:f("Display as range"),section:f("Settings"),help:f('Show reading time as a range (e.g., "1-2 minutes" instead of "2 minutes")')},{name:"wordsPerMinute",type:"number",label:f("Words per minute"),section:f("Settings"),help:f("Average reading speed (default: 200 WPM)"),min:100,max:400,step:10},{name:"showIcon",type:"toggle",label:f("Show clock icon"),section:f("Settings")},{name:"prefix",type:"text",label:f("Prefix text"),section:f("Labels"),placeholder:f('e.g., "Reading time: "')},{name:"suffix",type:"text",label:f("Suffix text"),section:f("Labels"),placeholder:f('e.g., " read"')},{name:"color",type:"color",label:f("Text Color"),section:f("Colors")},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Colors")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"}]},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],Ek=_e(wk,{block:kk,save:jk,fields:Nk}),$k="markdown",Tk="1.1.0",Rk="Markdown",Lk="Advanced",Ak="mdi:language-markdown",Bk="Write markdown directly or fetch from external URLs (GitHub, GitLab, etc.)",Ik=["markdown","md","github","documentation","external","url","content","write"],_k=["page"],Dk={layout:!0,html:!1,duplicate:!0,remove:!0},Pk={sourceType:"content",content:"",url:"",showSource:!0,cacheEnabled:!0},zk={type:$k,version:Tk,label:Rk,category:Lk,icon:Ak,description:Bk,keywords:Ik,contexts:_k,supports:Dk,defaultProps:Pk},Mk=()=>{if(window.Prism)return Promise.resolve();const t=s=>new Promise((c,d)=>{const g=document.createElement("script");g.src=s,g.onload=c,g.onerror=d,document.head.appendChild(g)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(s)}if(!document.querySelector('link[href*="prism-toolbar"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(s)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((s,c)=>s.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},Ok=({props:t,onUpdate:l,isSelected:i})=>{const[s,c]=x.useState(!1),[d,g]=x.useState(null),[m,p]=x.useState(""),[v,b]=x.useState(!1),[y,N]=x.useState(!1),[j,E]=x.useState(""),w=x.useRef(""),C=x.useRef(""),S=x.useRef(null),T=x.useRef(null);x.useRef(t.content);const $=t.sourceType||"content",L=x.useCallback(async()=>{const O=$==="content"?t.content:j;if(O)try{await navigator.clipboard.writeText(O),N(!0),setTimeout(()=>N(!1),2e3)}catch(J){console.error("Failed to copy:",J)}},[$,t.content,j]);x.useEffect(()=>{m&&S.current&&($==="url"||!i)&&Mk().then(()=>{setTimeout(()=>{window.Prism&&S.current&&window.Prism.highlightAllUnder(S.current)},0)})},[m,i,$]);const A=x.useCallback(async O=>{if(!O){p("");return}c(!0),g(null);try{const J=await fetch("/api/admin/builder/markdown/convert",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({content:O})}),te=await J.json();if(!J.ok||!te.success)throw new Error(te.error||"Failed to convert markdown");p(te.html),C.current=O}catch(J){g(J.message),p("")}finally{c(!1)}},[]),P=x.useCallback(async(O,J=!1)=>{if(!O){p(""),g(null);return}c(!0),g(null);try{const te=await fetch("/api/admin/builder/markdown/fetch",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({url:O,refresh:J})}),re=await te.json();if(!te.ok||!re.success)throw new Error(re.error||"Failed to fetch markdown");p(re.html),b(re.cached||!1),E(re.markdown||""),w.current=O}catch(te){g(te.message),p("")}finally{c(!1)}},[]);x.useEffect(()=>{$==="url"&&t.url&&t.url!==w.current?P(t.url,!1):$==="content"&&t.content&&t.content!==C.current&&A(t.content)},[$,t.url,t.content,P,A]),x.useEffect(()=>{!i&&$==="content"&&t.content&&t.content!==C.current&&A(t.content)},[i,$,t.content,A]);const M=x.useCallback(O=>{const J=O.target.value;l({...t,content:J})},[t,l]);x.useEffect(()=>{i&&$==="content"&&T.current&&T.current.focus()},[i,$]);const W=()=>{$==="url"&&t.url&&P(t.url,!0)},U=Ae({borderRadius:"4px",minHeight:"100px"},t.layoutStyles),X=`
        .markdown-content {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #1f2937;
        }
        .markdown-content h1 { font-size: 2em; font-weight: 700; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h2 { font-size: 1.5em; font-weight: 600; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h3 { font-size: 1.25em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content h4 { font-size: 1em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content p { margin: 0 0 1em; }
        .markdown-content ul { margin: 0 0 1em; padding-left: 2em; list-style-type: disc; }
        .markdown-content ol { margin: 0 0 1em; padding-left: 2em; list-style-type: decimal; }
        .markdown-content li { margin: 0.25em 0; display: list-item; }
        .markdown-content code { background: #f3f4f6; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.875em; font-family: ui-monospace, monospace; color: #e83e8c; }
        .markdown-content pre[class*="language-"] { background: #1e1e1e; padding: 1em !important; border-radius: 8px; overflow-x: auto; margin: 0 0 1em; }
        .markdown-content pre code { display: block; background: transparent !important; font-size: 0.875em; line-height: 1.5; }
        .markdown-content blockquote { border-left: 4px solid #6366f1; padding-left: 1em; margin: 0 0 1em; color: #6b7280; font-style: italic; }
        .markdown-content a { color: #6366f1; text-decoration: underline; }
        .markdown-content a:hover { color: #4f46e5; }
        .markdown-content table { border-collapse: collapse; width: 100%; margin: 0 0 1em; }
        .markdown-content th, .markdown-content td { border: 1px solid #e5e7eb; padding: 0.5em 1em; text-align: left; }
        .markdown-content th { background: #f9fafb; font-weight: 600; }
        .markdown-content hr { border: none; border-top: 1px solid #e5e7eb; margin: 2em 0; }
        .markdown-content img { max-width: 100%; height: auto; border-radius: 8px; }
        .markdown-content input[type="checkbox"] { margin-right: 0.5em; }

        /* Copy button styling for Prism */
        .markdown-content .code-toolbar .toolbar { opacity: 1; }
        .markdown-content .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .markdown-content .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i&&$==="content"?r.jsx("div",{style:U,"data-text-editing":"true",children:r.jsx("textarea",{ref:T,value:t.content||"",onChange:M,placeholder:`# Hello World

Write your **markdown** content here...

- Item 1
- Item 2

\`\`\`php
echo 'Hello';
\`\`\``,className:"w-full px-4 py-3 border-0 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",style:{minHeight:"200px",resize:"vertical",lineHeight:"1.6"}})}):r.jsxs("div",{style:U,children:[r.jsx("style",{children:X}),s&&r.jsx("div",{className:"p-6 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:$==="url"?"Fetching markdown...":"Converting markdown..."})]})}),d&&!s&&r.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[r.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"20",height:"20"}),r.jsx("span",{className:"text-sm font-medium",children:"Error loading markdown"})]}),r.jsx("p",{className:"text-xs text-red-500 mt-1",children:d}),$==="url"&&r.jsx("button",{type:"button",onClick:W,className:"mt-2 text-xs text-red-600 underline hover:text-red-700",children:"Try again"})]}),!s&&!d&&m&&r.jsxs("div",{className:"relative",children:[i&&(t.content||j)&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsxs("button",{type:"button",onClick:L,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-all ${y?"bg-green-100 text-green-700 border border-green-200":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,title:"Copy raw markdown",children:[r.jsx("iconify-icon",{icon:y?"mdi:check":"mdi:content-copy",width:"14",height:"14"}),y?"Copied!":"Copy Markdown"]})}),t.showSource&&$==="url"&&t.url&&r.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-gray-500 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[r.jsx("iconify-icon",{icon:"mdi:link-variant",width:"14",height:"14"}),r.jsx("span",{className:"truncate",title:t.url,children:t.url})]}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-2",children:[v&&r.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[r.jsx("iconify-icon",{icon:"mdi:cached",width:"14",height:"14"}),"cached"]}),r.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),W()},className:"text-gray-500 hover:text-gray-700 p-1",title:"Refresh content",children:r.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),r.jsx("div",{ref:S,className:"markdown-content",dangerouslySetInnerHTML:{__html:m}},i?"selected":"preview")]}),!s&&!d&&!m&&r.jsxs("div",{className:"p-6 text-center text-gray-400 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[r.jsx("iconify-icon",{icon:"mdi:language-markdown",width:"48",height:"48",class:"mb-2 opacity-50"}),r.jsx("div",{className:"text-sm font-medium",children:"Markdown Block"}),r.jsx("div",{className:"text-xs mt-1",children:$==="content"?"Click to start writing markdown":"Enter a markdown URL in the sidebar"})]})]})},Hk=(t,l={})=>{const i={sourceType:t.sourceType||"content",content:t.content||"",url:t.url||"",showSource:t.showSource!==!1,cacheEnabled:t.cacheEnabled!==!1,layoutStyles:t.layoutStyles||{}};return`<div data-lara-block="markdown" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Fk=(t,l={})=>`<div style="padding: 16px; background: #f3f4f6; border-radius: 8px; text-align: center; color: #6b7280; font-size: 14px;">
        <p style="margin: 0;">Markdown content is not supported in emails.</p>
        <p style="margin: 8px 0 0; font-size: 12px;">Please use other block types for email templates.</p>
    </div>`,Wk={page:Hk,email:Fk},Uk=[{name:"sourceType",type:"select",label:f("Source Type"),section:f("Content"),options:[{value:"content",label:f("Write Content")},{value:"url",label:f("From URL")}]},{name:"url",type:"text",label:f("Markdown URL"),section:f("Content"),placeholder:"https://github.com/user/repo/blob/main/README.md",description:f("Enter a URL to a markdown file (GitHub, GitLab, Bitbucket, or direct .md URL)"),condition:t=>t.sourceType==="url"},{name:"showSource",type:"toggle",label:f("Show Source URL"),section:f("Settings"),defaultValue:!0,condition:t=>t.sourceType==="url"},{name:"cacheEnabled",type:"toggle",label:f("Enable Caching"),section:f("Settings"),defaultValue:!0,description:f("Cache the markdown content to improve performance"),condition:t=>t.sourceType==="url"}],Vk=_e(zk,{block:Ok,save:Wk,fields:Uk}),Kk="section",Gk="1.0.0",Xk="Section",Yk="Layout",Qk="mdi:card-outline",qk="Full-width section container with gradient background support",Jk=["section","container","wrapper","hero","banner","full-width"],Zk=["page"],eC={align:!1,spacing:!0,nesting:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tC={fullWidth:!0,containerMaxWidth:"1280px",contentAlign:"center",backgroundType:"solid",backgroundColor:"#ffffff",gradientFrom:"#f9fafb",gradientTo:"#f3f4f6",gradientDirection:"to-br",children:[[]]},nC={type:Kk,version:Gk,label:Xk,category:Yk,icon:Qk,description:qk,keywords:Jk,contexts:Zk,supports:eC,defaultProps:tC},rC=({block:t,parentId:l,onSelect:i,selectedBlockId:s,onUpdate:c,onDelete:d,onMoveNested:g,onDuplicateNested:m,blockIndex:p,totalBlocks:v,onUpdateNested:b,onDeleteNested:y,onMoveNestedBlock:N,onDuplicateNestedBlock:j})=>{const[E,w]=x.useState(null),[C,S]=x.useState(null),{attributes:T,listeners:$,setNodeRef:L,transform:A,transition:P,isDragging:M}=qa({id:t.id,data:{type:"nested",columnIndex:0,parentId:l}}),W={transform:Nn.Transform.toString(A),transition:P,opacity:M?.5:1},G=Ja(t.type),U=s===t.id,X=p>0,O=p<v-1,J=re=>{w(re?{editorRef:re.editorRef,align:re.align,onAlignChange:re.onAlignChange}:null)},te=re=>{S(re?{align:re.align,onAlignChange:re.onAlignChange}:null)};return G?r.jsxs("div",{ref:L,style:W,className:`relative group cursor-grab active:cursor-grabbing ${M?"z-50":""}`,onClick:re=>{re.stopPropagation(),i(t.id)},...T,...$,children:[U&&r.jsx(Bi,{block:t,onMoveUp:()=>g(t.id,l,0,"up"),onMoveDown:()=>g(t.id,l,0,"down"),onDelete:()=>d(t.id,l,0),onDuplicate:()=>m(t.id,l,0),canMoveUp:X,canMoveDown:O,textFormatProps:E,alignProps:C}),r.jsx(G,{props:t.props,isSelected:U,onUpdate:re=>c(t.id,re),onRegisterTextFormat:J,onRegisterAlign:te,...Ii(t.type).nesting||Ii(t.type).columnCount?{blockId:t.id,onSelect:i,selectedBlockId:s,onUpdateNested:b||c,onDeleteNested:y||d,onMoveNestedBlock:N||g,onDuplicateNestedBlock:j||m}:{}})]}):r.jsxs("div",{ref:L,style:W,className:"p-2 bg-red-100 text-red-600 rounded text-xs",children:["Unknown: ",t.type]})},oC=({parentId:t,blocks:l,onSelect:i,selectedBlockId:s,onUpdate:c,onDelete:d,onMoveNested:g,onDuplicateNested:m,onUpdateNested:p,onDeleteNested:v,onMoveNestedBlock:b,onDuplicateNestedBlock:y})=>{const N=`section-${t}`,{setNodeRef:j,isOver:E}=ol({id:N,data:{type:"column",columnIndex:0,parentId:t}}),w=l.map(C=>C.id);return r.jsx("div",{ref:j,className:`min-h-[80px] p-4 rounded-lg transition-colors ${E?"bg-primary/10 border-2 border-primary border-dashed":l.length===0?"bg-gray-50/50 border-2 border-dashed border-gray-300":""}`,children:r.jsx(Qa,{items:w,strategy:Ya,children:l.length>0?r.jsx("div",{className:"space-y-3",children:l.map((C,S)=>r.jsx(rC,{block:C,blockIndex:S,totalBlocks:l.length,parentId:t,onSelect:i,selectedBlockId:s,onUpdate:c,onDelete:d,onMoveNested:g,onDuplicateNested:m,onUpdateNested:p,onDeleteNested:v,onMoveNestedBlock:b,onDuplicateNestedBlock:y},C.id))}):r.jsx("div",{className:"flex items-center justify-center h-full min-h-[60px] text-gray-400 text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{children:f("Drop blocks here")})]})})})})},lC=({props:t,isSelected:l,blockId:i,onSelect:s,selectedBlockId:c,onUpdateNested:d,onDeleteNested:g,onMoveNestedBlock:m,onDuplicateNestedBlock:p})=>{const{fullWidth:v=!0,containerMaxWidth:b="1280px",contentAlign:y="center",backgroundType:N="solid",backgroundColor:j="#ffffff",gradientFrom:E="#f9fafb",gradientTo:w="#f3f4f6",gradientDirection:C="to-br",children:S=[[]]}=t,L={background:N==="gradient"?N==="gradient"?`linear-gradient(${{"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"}[C]||"to bottom right"}, ${E}, ${w})`:j:j,padding:t.layoutStyles?.padding?void 0:"48px 16px",...t.layoutStyles?.padding&&{paddingTop:t.layoutStyles.padding.top||"48px",paddingRight:t.layoutStyles.padding.right||"16px",paddingBottom:t.layoutStyles.padding.bottom||"48px",paddingLeft:t.layoutStyles.padding.left||"16px"}},A={maxWidth:v?b:"100%",margin:y==="center"?"0 auto":void 0,marginLeft:y==="left"?"0":void 0,marginRight:y==="right"?"0":void 0,width:"100%"},P=Array.isArray(S[0])?S[0]:[];return r.jsx("div",{className:`transition-all rounded-lg ${l?"ring-2 ring-primary ring-offset-2":""}`,style:L,children:r.jsx("div",{style:A,children:r.jsx(oC,{parentId:i,blocks:P,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:p,onUpdateNested:d,onDeleteNested:g,onMoveNestedBlock:m,onDuplicateNestedBlock:p})})})},iC=({props:t,onUpdate:l})=>{const{fullWidth:i=!0,containerMaxWidth:s="1280px",contentAlign:c="center",backgroundType:d="solid",backgroundColor:g="#ffffff",gradientFrom:m="#f9fafb",gradientTo:p="#f3f4f6",gradientDirection:v="to-br"}=t,b=(j,E)=>{l({...t,[j]:E})},y=[{value:"to-t",label:f("To Top")},{value:"to-tr",label:f("To Top Right")},{value:"to-r",label:f("To Right")},{value:"to-br",label:f("To Bottom Right")},{value:"to-b",label:f("To Bottom")},{value:"to-bl",label:f("To Bottom Left")},{value:"to-l",label:f("To Left")},{value:"to-tl",label:f("To Top Left")}],N=[{value:"640px",label:"sm (640px)"},{value:"768px",label:"md (768px)"},{value:"1024px",label:"lg (1024px)"},{value:"1280px",label:"xl (1280px)"},{value:"1536px",label:"2xl (1536px)"},{value:"100%",label:f("Full")}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Type")}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>b("backgroundType","solid"),className:`
                            px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                            ${d==="solid"?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                        `,children:f("Solid Color")}),r.jsx("button",{onClick:()=>b("backgroundType","gradient"),className:`
                            px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                            ${d==="gradient"?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                        `,children:f("Gradient")})]})]}),d==="solid"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:g,onChange:j=>b("backgroundColor",j.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:g,onChange:j=>b("backgroundColor",j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#ffffff"})]})]}),d==="gradient"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gradient From")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:m,onChange:j=>b("gradientFrom",j.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:m,onChange:j=>b("gradientFrom",j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#f9fafb"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gradient To")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:p,onChange:j=>b("gradientTo",j.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:p,onChange:j=>b("gradientTo",j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#f3f4f6"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gradient Direction")}),r.jsx("select",{value:v,onChange:j=>b("gradientDirection",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:y.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Preview")}),r.jsx("div",{className:"h-16 rounded-lg border border-gray-200",style:{background:`linear-gradient(${v==="to-br"?"to bottom right":v==="to-b"?"to bottom":v==="to-r"?"to right":v==="to-tr"?"to top right":v==="to-t"?"to top":v==="to-tl"?"to top left":v==="to-l"?"to left":"to bottom left"}, ${m}, ${p})`}})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Container Settings")}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("Contained Content")}),r.jsx("p",{className:"text-xs text-gray-500",children:f("Limit content width with a max-width container")})]}),r.jsx("button",{onClick:()=>b("fullWidth",!i),className:`
                            relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                            ${i?"bg-primary":"bg-gray-300"}
                        `,children:r.jsx("span",{className:`
                                inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                                ${i?"translate-x-6":"translate-x-1"}
                            `})})]}),i&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Container Max Width")}),r.jsx("select",{value:s,onChange:j=>b("containerMaxWidth",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:N.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Content Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(j=>r.jsx("button",{onClick:()=>b("contentAlign",j),className:`
                                    px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                    ${c===j?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                                `,children:f(j.charAt(0).toUpperCase()+j.slice(1))},j))})]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-700",children:[f("Tip"),":"]}),r.jsx("p",{className:"mt-1",children:f("Use sections to create full-width backgrounds with gradient colors. Drag blocks inside the section to build your content.")})]})]})})]})},sC={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},aC=(t,l={})=>{const{generateBlockHtml:i}=l,c=Xt("section",t),{fullWidth:d=!0,containerMaxWidth:g="1280px",contentAlign:m="center",backgroundType:p="solid",backgroundColor:v="#ffffff",gradientFrom:b="#f9fafb",gradientTo:y="#f3f4f6",gradientDirection:N="to-br",children:j=[]}=t;let E="";p==="gradient"?E=`background: linear-gradient(${sC[N]||"to bottom right"}, ${b}, ${y})`:E=`background-color: ${v}`;const w=m==="center"?"margin: 0 auto":m==="left"?"margin-left: 0":"margin-right: 0",C="padding: 48px 16px",T=(j[0]||[]).map(P=>i?i(P,l):"").join(""),$=[E,C].filter(Boolean).join("; "),L=Yt(t,$),A=d?`max-width: ${g}; ${w}; width: 100%`:"width: 100%";return`
        <section class="${c}" style="${L}">
            <div class="lb-section-container" style="${A}">
                ${T}
            </div>
        </section>
    `},cC=(t,l={})=>{const{generateBlockHtml:i}=l,{backgroundType:s="solid",backgroundColor:c="#ffffff",gradientFrom:d="#f9fafb",gradientTo:g="#f3f4f6",children:m=[]}=t,p=s==="gradient"?d:c,b=(m[0]||[]).map(y=>i?i(y,l):"").join("");return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: ${p};">
            <tr>
                <td style="padding: 32px 16px;">
                    ${b}
                </td>
            </tr>
        </table>
    `},uC={page:aC,email:cC},dC=_e(nC,{block:lC,editor:iC,save:uC}),fC="icon",gC="1.0.0",pC="Icon",hC="Content",mC="mdi:emoticon-outline",xC="Display icons from the Iconify library",yC=["icon","iconify","symbol","emoji","graphic"],vC=["page","email"],bC={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},wC={icon:"lucide:star",size:"48px",color:"#3b82f6",align:"center",backgroundColor:"",backgroundShape:"none",backgroundPadding:"16px"},kC={type:fC,version:gC,label:pC,category:hC,icon:mC,description:xC,keywords:yC,contexts:vC,supports:bC,defaultProps:wC},CC=({props:t,isSelected:l,onRegisterAlign:i})=>{const{icon:s="lucide:star",size:c="48px",color:d="#3b82f6",align:g="center",backgroundColor:m="",backgroundShape:p="none",backgroundPadding:v="16px"}=t,b=x.useRef(i);b.current=i,x.useEffect(()=>(l&&b.current&&b.current({align:g,onAlignChange:()=>{}}),()=>{b.current&&b.current(null)}),[l,g]);const y={left:"flex-start",center:"center",right:"flex-end"},N=()=>{if(!m||p==="none")return{};const S={backgroundColor:m,padding:v,display:"inline-flex",alignItems:"center",justifyContent:"center"};switch(p){case"circle":return{...S,borderRadius:"50%"};case"rounded":return{...S,borderRadius:"12px"};case"square":return{...S,borderRadius:"0"};default:return S}},j={display:"flex",justifyContent:y[g]||"center",padding:"8px 0"},E=Ae(j,t.layoutStyles),w=N(),C=m&&p!=="none";return r.jsx("div",{className:`transition-all ${l?"ring-2 ring-primary ring-offset-2 rounded":""}`,style:E,children:C?r.jsx("div",{style:w,children:r.jsx("iconify-icon",{icon:s,width:c,height:c,style:{color:d}})}):r.jsx("iconify-icon",{icon:s,width:c,height:c,style:{color:d}})})},SC=[{icon:"lucide:star",label:"Star"},{icon:"lucide:heart",label:"Heart"},{icon:"lucide:check",label:"Check"},{icon:"lucide:x",label:"X"},{icon:"lucide:plus",label:"Plus"},{icon:"lucide:minus",label:"Minus"},{icon:"lucide:arrow-right",label:"Arrow Right"},{icon:"lucide:arrow-left",label:"Arrow Left"},{icon:"lucide:chevron-right",label:"Chevron Right"},{icon:"lucide:chevron-down",label:"Chevron Down"},{icon:"lucide:user",label:"User"},{icon:"lucide:users",label:"Users"},{icon:"lucide:mail",label:"Mail"},{icon:"lucide:phone",label:"Phone"},{icon:"lucide:home",label:"Home"},{icon:"lucide:settings",label:"Settings"},{icon:"lucide:search",label:"Search"},{icon:"lucide:menu",label:"Menu"},{icon:"lucide:target",label:"Target"},{icon:"lucide:lightbulb",label:"Lightbulb"},{icon:"lucide:zap",label:"Zap"},{icon:"lucide:shield",label:"Shield"},{icon:"lucide:globe",label:"Globe"},{icon:"lucide:rocket",label:"Rocket"}],jC=({props:t,onUpdate:l})=>{const{icon:i="lucide:star",size:s="48px",color:c="#3b82f6",align:d="center",backgroundColor:g="",backgroundShape:m="none",backgroundPadding:p="16px"}=t,[v,b]=x.useState(i),y=(w,C)=>{l({...t,[w]:C})},N=()=>{y("icon",v)},j=[{value:"24px",label:"XS"},{value:"32px",label:"SM"},{value:"48px",label:"MD"},{value:"64px",label:"LG"},{value:"80px",label:"XL"},{value:"96px",label:"2XL"}],E=[{value:"8px",label:"XS"},{value:"12px",label:"SM"},{value:"16px",label:"MD"},{value:"20px",label:"LG"},{value:"24px",label:"XL"}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon")}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{type:"text",value:v,onChange:w=>b(w.target.value),onKeyDown:w=>w.key==="Enter"&&N(),placeholder:"lucide:icon-name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),r.jsx("button",{onClick:N,className:"px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90",children:f("Apply")})]}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:SC.map(w=>r.jsx("button",{onClick:()=>{y("icon",w.icon),b(w.icon)},title:w.label,className:`
                                p-2 rounded-lg border-2 transition-all flex items-center justify-center
                                ${i===w.icon?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"}
                            `,children:r.jsx("iconify-icon",{icon:w.icon,width:"20",height:"20"})},w.icon))}),r.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[f("Browse more icons at")," ",r.jsx("a",{href:"https://icon-sets.iconify.design/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Iconify"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Size")}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:j.map(w=>r.jsx("button",{onClick:()=>y("size",w.value),className:`
                                px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                ${s===w.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:w.label},w.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:c,onChange:w=>y("color",w.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:c,onChange:w=>y("color",w.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(w=>r.jsx("button",{onClick:()=>y("align",w),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                ${d===w?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:f(w.charAt(0).toUpperCase()+w.slice(1))},w))})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Background")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Shape")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"none",label:f("None")},{value:"circle",label:f("Circle")},{value:"rounded",label:f("Rounded")},{value:"square",label:f("Square")}].map(w=>r.jsx("button",{onClick:()=>y("backgroundShape",w.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${m===w.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:w.label},w.value))})]}),m!=="none"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:g||"#e5e7eb",onChange:w=>y("backgroundColor",w.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:g,onChange:w=>y("backgroundColor",w.target.value),placeholder:"#e5e7eb",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Padding")}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:E.map(w=>r.jsx("button",{onClick:()=>y("backgroundPadding",w.value),className:`
                                            px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                            ${p===w.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                        `,children:w.label},w.value))})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Preview")}),r.jsx("div",{className:"flex justify-center p-4 bg-gray-50 rounded-lg",children:m!=="none"&&g?r.jsx("div",{style:{backgroundColor:g,padding:p,borderRadius:m==="circle"?"50%":m==="rounded"?"12px":"0",display:"inline-flex"},children:r.jsx("iconify-icon",{icon:i,width:s,height:s,style:{color:c}})}):r.jsx("iconify-icon",{icon:i,width:s,height:s,style:{color:c}})})]})]})},NC=(t,l={})=>{const i={icon:t.icon||"lucide:star",size:t.size||"48px",color:t.color||"#3b82f6",align:t.align||"center",backgroundColor:t.backgroundColor||"",backgroundShape:t.backgroundShape||"none",backgroundPadding:t.backgroundPadding||"16px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="icon" data-block-id="${s}" data-props='${c}'></div>`},EC=(t,l={})=>{const{icon:i="lucide:star",size:s="48px",color:c="#3b82f6",align:d="center",backgroundColor:g="",backgroundShape:m="none",backgroundPadding:p="16px"}=t,b={left:"left",center:"center",right:"right"}[d]||"center",y=i.split(":"),N=y[0]||"lucide",j=y[1]||"star",E=`https://api.iconify.design/${N}/${j}.svg?color=${encodeURIComponent(c)}`,w=parseInt(s)||48;let C=`<img src="${E}" width="${w}" height="${w}" alt="" style="display: inline-block; vertical-align: middle;" />`;if(g&&m!=="none"){const S=m==="circle"?"50%":m==="rounded"?"12px":"0",T=parseInt(p)||16;C=`
            <div style="display: inline-block; background-color: ${g}; padding: ${T}px; border-radius: ${S};">
                ${C}
            </div>
        `}return`
        <div style="text-align: ${b}; padding: 8px 0;">
            ${C}
        </div>
    `},$C={page:NC,email:EC},TC=_e(kC,{block:CC,editor:jC,save:$C}),RC="feature-box",LC="1.0.0",AC="Feature Box",BC="Content",IC="mdi:card-text-outline",_C="Icon with title and description - perfect for features, values, and services",DC=["feature","box","card","icon","service","value","benefit"],PC=["page","email"],zC={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},MC={icon:"lucide:star",iconSize:"32px",iconColor:"#3b82f6",iconBackgroundColor:"#dbeafe",iconBackgroundShape:"circle",title:"Feature Title",titleColor:"#111827",titleSize:"18px",description:"A brief description of this feature or benefit.",descriptionColor:"#6b7280",descriptionSize:"14px",align:"center",gap:"16px"},OC={type:RC,version:LC,label:AC,category:BC,icon:IC,description:_C,keywords:DC,contexts:PC,supports:zC,defaultProps:MC},HC=({props:t,isSelected:l,onUpdate:i,onRegisterAlign:s})=>{const{icon:c="lucide:star",iconSize:d="32px",iconColor:g="#3b82f6",iconBackgroundColor:m="#dbeafe",iconBackgroundShape:p="circle",title:v="Feature Title",titleColor:b="#111827",titleSize:y="18px",description:N="A brief description of this feature or benefit.",descriptionColor:j="#6b7280",descriptionSize:E="14px",align:w="center",gap:C="16px"}=t,S=x.useRef(null),T=x.useRef(null),[$,L]=x.useState(!1),[A,P]=x.useState(!1),M=x.useRef(s);M.current=s,x.useEffect(()=>(l&&M.current&&M.current({align:w,onAlignChange:()=>{}}),()=>{M.current&&M.current(null)}),[l,w]);const W={left:"flex-start",center:"center",right:"flex-end"},G={left:"left",center:"center",right:"right"},U=()=>{if(!m||p==="none")return{};const ae={backgroundColor:m,padding:"16px",display:"inline-flex",alignItems:"center",justifyContent:"center",marginBottom:C};switch(p){case"circle":return{...ae,borderRadius:"50%"};case"rounded":return{...ae,borderRadius:"12px"};case"square":return{...ae,borderRadius:"0"};default:return ae}},X={display:"flex",flexDirection:"column",alignItems:W[w]||"center",textAlign:G[w]||"center",padding:"16px"},O=Ae(X,t.layoutStyles),J=ae=>{i({...t,title:ae.target.innerText})},te=ae=>{i({...t,description:ae.target.innerText})},re=m&&p!=="none";return r.jsxs("div",{className:`transition-all rounded-lg ${l?"ring-2 ring-primary ring-offset-2":""}`,style:O,children:[re?r.jsx("div",{style:U(),children:r.jsx("iconify-icon",{icon:c,width:d,height:d,style:{color:g}})}):r.jsx("div",{style:{marginBottom:C},children:r.jsx("iconify-icon",{icon:c,width:d,height:d,style:{color:g}})}),r.jsx("h3",{ref:S,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>L(!0),onBlur:ae=>{L(!1),J(ae)},onKeyDown:ae=>{ae.key==="Enter"&&(ae.preventDefault(),ae.target.blur())},style:{color:b,fontSize:y,fontWeight:"600",margin:0,marginBottom:"8px",outline:"none",cursor:l?"text":"default"},className:$?"bg-blue-50/50 rounded px-1":"",children:v}),r.jsx("p",{ref:T,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>P(!0),onBlur:ae=>{P(!1),te(ae)},style:{color:j,fontSize:E,margin:0,lineHeight:"1.5",outline:"none",cursor:l?"text":"default"},className:A?"bg-blue-50/50 rounded px-1":"",children:N})]})},FC=[{icon:"lucide:lightbulb",label:"Lightbulb"},{icon:"lucide:heart",label:"Heart"},{icon:"lucide:users",label:"Users"},{icon:"lucide:shield",label:"Shield"},{icon:"lucide:zap",label:"Zap"},{icon:"lucide:target",label:"Target"},{icon:"lucide:rocket",label:"Rocket"},{icon:"lucide:star",label:"Star"},{icon:"lucide:check-circle",label:"Check Circle"},{icon:"lucide:award",label:"Award"},{icon:"lucide:globe",label:"Globe"},{icon:"lucide:settings",label:"Settings"}],WC=({props:t,onUpdate:l})=>{const{icon:i="lucide:star",iconSize:s="32px",iconColor:c="#3b82f6",iconBackgroundColor:d="#dbeafe",iconBackgroundShape:g="circle",title:m="Feature Title",titleColor:p="#111827",titleSize:v="18px",description:b="A brief description of this feature or benefit.",descriptionColor:y="#6b7280",descriptionSize:N="14px",align:j="center",gap:E="16px"}=t,[w,C]=x.useState(i),S=(A,P)=>{l({...t,[A]:P})},T=()=>{S("icon",w)},$=[{value:"24px",label:"SM"},{value:"32px",label:"MD"},{value:"40px",label:"LG"},{value:"48px",label:"XL"}],L=[{value:"14px",label:"SM"},{value:"16px",label:"MD"},{value:"18px",label:"LG"},{value:"20px",label:"XL"}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon")}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{type:"text",value:w,onChange:A=>C(A.target.value),onKeyDown:A=>A.key==="Enter"&&T(),placeholder:"lucide:icon-name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{onClick:T,className:"px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90",children:f("Apply")})]}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:FC.map(A=>r.jsx("button",{onClick:()=>{S("icon",A.icon),C(A.icon)},title:A.label,className:`
                                p-2 rounded-lg border-2 transition-all flex items-center justify-center
                                ${i===A.icon?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"}
                            `,children:r.jsx("iconify-icon",{icon:A.icon,width:"20",height:"20"})},A.icon))})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Icon Style")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Size")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:$.map(A=>r.jsx("button",{onClick:()=>S("iconSize",A.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${s===A.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:A.label},A.value))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:c,onChange:A=>S("iconColor",A.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:c,onChange:A=>S("iconColor",A.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Background")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"none",label:f("None")},{value:"circle",label:f("Circle")},{value:"rounded",label:f("Rounded")},{value:"square",label:f("Square")}].map(A=>r.jsx("button",{onClick:()=>S("iconBackgroundShape",A.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${g===A.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:A.label},A.value))})]}),g!=="none"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:d||"#dbeafe",onChange:A=>S("iconBackgroundColor",A.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:d,onChange:A=>S("iconBackgroundColor",A.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Text Style")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Title")}),r.jsx("input",{type:"text",value:m,onChange:A=>S("title",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Title Color")}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("input",{type:"color",value:p,onChange:A=>S("titleColor",A.target.value),className:"h-8 w-10 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:p,onChange:A=>S("titleColor",A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Title Size")}),r.jsx("select",{value:v,onChange:A=>S("titleSize",A.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:L.map(A=>r.jsxs("option",{value:A.value,children:[A.label," (",A.value,")"]},A.value))})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Description")}),r.jsx("textarea",{value:b,onChange:A=>S("description",A.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Description Color")}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("input",{type:"color",value:y,onChange:A=>S("descriptionColor",A.target.value),className:"h-8 w-10 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:y,onChange:A=>S("descriptionColor",A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Description Size")}),r.jsx("select",{value:N,onChange:A=>S("descriptionSize",A.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[{value:"12px",label:"XS"},{value:"14px",label:"SM"},{value:"16px",label:"MD"}].map(A=>r.jsxs("option",{value:A.value,children:[A.label," (",A.value,")"]},A.value))})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(A=>r.jsx("button",{onClick:()=>S("align",A),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                ${j===A?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:f(A.charAt(0).toUpperCase()+A.slice(1))},A))})]})]})},UC=(t,l={})=>{const i={icon:t.icon||"lucide:star",iconSize:t.iconSize||"32px",iconColor:t.iconColor||"#3b82f6",iconBackgroundColor:t.iconBackgroundColor||"#dbeafe",iconBackgroundShape:t.iconBackgroundShape||"circle",title:t.title||"Feature Title",titleColor:t.titleColor||"#111827",titleSize:t.titleSize||"18px",description:t.description||"",descriptionColor:t.descriptionColor||"#6b7280",descriptionSize:t.descriptionSize||"14px",align:t.align||"center",gap:t.gap||"16px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="feature-box" data-block-id="${s}" data-props='${c}'></div>`},VC=(t,l={})=>{const{icon:i="lucide:star",iconSize:s="32px",iconColor:c="#3b82f6",iconBackgroundColor:d="#dbeafe",iconBackgroundShape:g="circle",title:m="Feature Title",titleColor:p="#111827",titleSize:v="18px",description:b="",descriptionColor:y="#6b7280",descriptionSize:N="14px",align:j="center"}=t,w={left:"left",center:"center",right:"right"}[j]||"center",C=i.split(":"),S=C[0]||"lucide",T=C[1]||"star",$=`https://api.iconify.design/${S}/${T}.svg?color=${encodeURIComponent(c)}`,L=parseInt(s)||32;let A=`<img src="${$}" width="${L}" height="${L}" alt="" style="display: inline-block;" />`;return d&&g!=="none"&&(A=`
            <div style="display: inline-block; background-color: ${d}; padding: 16px; border-radius: ${g==="circle"?"50%":g==="rounded"?"12px":"0"};">
                ${A}
            </div>
        `),`
        <div style="text-align: ${w}; padding: 16px;">
            <div style="margin-bottom: 16px;">
                ${A}
            </div>
            <h3 style="color: ${p}; font-size: ${v}; font-weight: 600; margin: 0 0 8px 0;">
                ${m}
            </h3>
            <p style="color: ${y}; font-size: ${N}; margin: 0; line-height: 1.5;">
                ${b}
            </p>
        </div>
    `},KC={page:UC,email:VC},GC=_e(OC,{block:HC,editor:WC,save:KC}),XC="stats-item",YC="1.0.0",QC="Stats Item",qC="Content",JC="mdi:chart-bar",ZC="Display a statistic with a large value and label",e2=["stats","counter","number","metric","statistic","count"],t2=["page","email"],n2={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},r2={value:"100+",valueColor:"#3b82f6",valueSize:"48px",label:"Happy Customers",labelColor:"#6b7280",labelSize:"14px",align:"center",prefix:"",suffix:""},o2={type:XC,version:YC,label:QC,category:qC,icon:JC,description:ZC,keywords:e2,contexts:t2,supports:n2,defaultProps:r2},l2=({props:t,isSelected:l,onUpdate:i,onRegisterAlign:s})=>{const{value:c="100+",valueColor:d="#3b82f6",valueSize:g="48px",label:m="Happy Customers",labelColor:p="#6b7280",labelSize:v="14px",align:b="center",prefix:y="",suffix:N=""}=t,j=x.useRef(null),E=x.useRef(null),[w,C]=x.useState(!1),[S,T]=x.useState(!1),$=x.useRef(s);$.current=s,x.useEffect(()=>(l&&$.current&&$.current({align:b,onAlignChange:()=>{}}),()=>{$.current&&$.current(null)}),[l,b]);const A={textAlign:{left:"left",center:"center",right:"right"}[b]||"center",padding:"16px"},P=Ae(A,t.layoutStyles),M=G=>{i({...t,label:G.target.innerText})},W=`${y}${c}${N}`;return r.jsxs("div",{className:`transition-all rounded-lg ${l?"ring-2 ring-primary ring-offset-2":""}`,style:P,children:[r.jsx("div",{ref:j,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>C(!0),onBlur:G=>{C(!1);let U=G.target.innerText;y&&U.startsWith(y)&&(U=U.substring(y.length)),N&&U.endsWith(N)&&(U=U.substring(0,U.length-N.length)),i({...t,value:U})},onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),G.target.blur())},style:{color:d,fontSize:g,fontWeight:"bold",lineHeight:"1.2",marginBottom:"8px",outline:"none",cursor:l?"text":"default"},className:w?"bg-blue-50/50 rounded px-1 inline-block":"",children:W}),r.jsx("div",{ref:E,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>T(!0),onBlur:G=>{T(!1),M(G)},onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),G.target.blur())},style:{color:p,fontSize:v,outline:"none",cursor:l?"text":"default"},className:S?"bg-blue-50/50 rounded px-1 inline-block":"",children:m})]})},i2=({props:t,onUpdate:l})=>{const{value:i="100+",valueColor:s="#3b82f6",valueSize:c="48px",label:d="Happy Customers",labelColor:g="#6b7280",labelSize:m="14px",align:p="center",prefix:v="",suffix:b=""}=t,y=(E,w)=>{l({...t,[E]:w})},N=[{value:"32px",label:"SM"},{value:"40px",label:"MD"},{value:"48px",label:"LG"},{value:"56px",label:"XL"},{value:"64px",label:"2XL"}],j=[{value:"12px",label:"XS"},{value:"14px",label:"SM"},{value:"16px",label:"MD"},{value:"18px",label:"LG"}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Value")}),r.jsx("input",{type:"text",value:i,onChange:E=>y("value",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"100+"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Prefix")}),r.jsx("input",{type:"text",value:v,onChange:E=>y("prefix",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"$"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Suffix")}),r.jsx("input",{type:"text",value:b,onChange:E=>y("suffix",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"%"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Value Style")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Value Size")}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:N.map(E=>r.jsx("button",{onClick:()=>y("valueSize",E.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${c===E.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:E.label},E.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Value Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:s,onChange:E=>y("valueColor",E.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:s,onChange:E=>y("valueColor",E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Label")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Label Text")}),r.jsx("input",{type:"text",value:d,onChange:E=>y("label",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Happy Customers"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Label Size")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:j.map(E=>r.jsx("button",{onClick:()=>y("labelSize",E.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${m===E.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:E.label},E.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Label Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:g,onChange:E=>y("labelColor",E.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:g,onChange:E=>y("labelColor",E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(E=>r.jsx("button",{onClick:()=>y("align",E),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                ${p===E?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:f(E.charAt(0).toUpperCase()+E.slice(1))},E))})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Preview")}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[r.jsxs("div",{style:{color:s,fontSize:c,fontWeight:"bold",lineHeight:"1.2",marginBottom:"4px"},children:[v,i,b]}),r.jsx("div",{style:{color:g,fontSize:m},children:d})]})]})]})},s2=(t,l={})=>{const i={value:t.value||"100+",valueColor:t.valueColor||"#3b82f6",valueSize:t.valueSize||"48px",label:t.label||"Happy Customers",labelColor:t.labelColor||"#6b7280",labelSize:t.labelSize||"14px",align:t.align||"center",prefix:t.prefix||"",suffix:t.suffix||"",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="stats-item" data-block-id="${s}" data-props='${c}'></div>`},a2=(t,l={})=>{const{value:i="100+",valueColor:s="#3b82f6",valueSize:c="48px",label:d="Happy Customers",labelColor:g="#6b7280",labelSize:m="14px",align:p="center",prefix:v="",suffix:b=""}=t,y=`${v}${i}${b}`;return`
        <div style="text-align: ${p}; padding: 16px;">
            <div style="color: ${s}; font-size: ${c}; font-weight: bold; line-height: 1.2; margin-bottom: 8px;">
                ${y}
            </div>
            <div style="color: ${g}; font-size: ${m};">
                ${d}
            </div>
        </div>
    `},c2={page:s2,email:a2},u2=_e(o2,{block:l2,editor:i2,save:c2}),Ff=[Hx,ry,vy,Dy,Zy,m0,B0,av,$v,Vv,ab,jb,Gb,u1,$1,V1,dw,$w,Kw,uk,Ek,Vk,dC,TC,GC,u2],Wf=Ff.reduce((t,l)=>(l&&l.type&&(t[l.type]=l),t),{}),d2=t=>Wf[t]?.block||null,Ii=t=>{const l=Wf[t];if(l?.supports)return l.supports;if(typeof window<"u"&&window.LaraBuilderBlockRegistry){const i=window.LaraBuilderBlockRegistry.get(t);if(i?.supports)return i.supports}return{}},I2=t=>{Ff.forEach((l,i)=>{if(!l||!l.type){console.warn(`[BlockLoader] Skipping invalid block at index ${i}:`,l);return}t.register(l)})},Ja=t=>{const l=Ge.getComponent(t);return l||d2(t)},f2=t=>t?`lb-${t.toLowerCase()}`:"lb-block",g2=(t,l={},i="")=>{const s=["lb-block",f2(t)];return l.customClass&&s.push(l.customClass),i&&s.push(i),s.filter(Boolean).join(" ")},nf=({id:t,isFirst:l=!1})=>{const{setNodeRef:i,isOver:s}=ol({id:t,data:{type:"dropzone",position:t}});return r.jsx("div",{ref:i,className:`transition-all duration-200 ${s?"h-16 bg-primary/10 border-2 border-dashed border-primary rounded-lg my-2 flex items-center justify-center":l?"h-0":"h-1"}`,children:s&&r.jsx("span",{className:"text-primary text-sm font-medium",children:f("Drop here")})})},p2=({block:t,selectedBlockId:l,onSelect:i,onUpdate:s,onDelete:c,onDeleteNested:d,onMoveBlock:g,onDuplicateBlock:m,onMoveNestedBlock:p,onDuplicateNestedBlock:v,onInsertBlockAfter:b,onReplaceBlock:y,totalBlocks:N,blockIndex:j,context:E})=>{const[w,C]=x.useState(null),[S,T]=x.useState(!1),$=x.useRef(null),L=x.useRef(null),A=x.useRef(t.props);A.current=t.props;const{attributes:P,listeners:M,setNodeRef:W,setActivatorNodeRef:G,transform:U,transition:X,isDragging:O}=qa({id:t.id}),J=x.useCallback(Ne=>{(!Ne.inputType||Ne.inputType.startsWith("insert")||Ne.inputType.startsWith("delete"))&&(T(!0),$.current&&clearTimeout($.current),$.current=setTimeout(()=>{T(!1)},1500))},[]);x.useEffect(()=>{const Ne=L.current;if(Ne)return Ne.addEventListener("input",J),()=>{Ne.removeEventListener("input",J),$.current&&clearTimeout($.current)}},[J]);const te={transform:Nn.Transform.toString(U),transition:X,opacity:O?.5:1},re=g2(t.type,t.props),ae=Ja(t.type),pe=l===t.id,V=Ii(t.type),ee=V.bold||V.italic||V.underline,K=V.align&&!ee,I=V.columnCount===!0,F=V.nesting===!0||I,ne=["text-editor"].includes(t.type),ge=ne,ue=K?{align:t.props?.align||"center",onAlignChange:Ne=>s(t.id,{...t.props,align:Ne})}:null,Ce=I?{columns:t.props?.columns||1,onColumnsChange:Ne=>{const Ct=parseInt(t.props?.columns)||1;let Qt=[...t.props?.children||[[]]];if(Ne>Ct)for(let qt=Ct;qt<Ne;qt++)Qt.push([]);else Ne<Ct&&(Qt=Qt.slice(0,Ne));s(t.id,{...t.props,columns:Ne,children:Qt})}}:null,ye={ref:G,...M};if(!ae)return r.jsxs("div",{ref:W,style:te,className:"p-4 bg-red-100 text-red-600 rounded",children:["Unknown block type: ",t.type]});const ke=j>0,be=j<N-1,Qe=pe&&(ee||ne)?"cursor-text":"cursor-grab active:cursor-grabbing",mt=pe&&!S&&!O,ut=Ne=>{W(Ne),L.current=Ne};return r.jsxs("div",{ref:ut,style:te,className:`${re} relative group ${Qe} ${O?"z-50":""} ${pe?"lb-block-selected":""}`,"data-block-type":t.type,onClick:Ne=>{Ne.stopPropagation(),i(t.id)},...P,children:[mt&&!ge&&r.jsx(Bi,{block:t,onMoveUp:()=>g(t.id,"up"),onMoveDown:()=>g(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:ke,canMoveDown:be,textFormatProps:w,alignProps:ue,columnsProps:Ce,dragHandleProps:ye}),r.jsx(ae,{props:t.props,isSelected:pe,onUpdate:Ne=>s(t.id,Ne),onInsertBlockAfter:b?Ne=>b(t.id,Ne):void 0,...ee?{onRegisterTextFormat:C,onDelete:()=>c(t.id),onReplaceBlock:y?Ne=>y(t.id,Ne):void 0,context:E}:{},...F?{blockId:t.id,onSelect:i,selectedBlockId:l,onUpdateNested:s,onDeleteNested:d,onMoveNestedBlock:p,onDuplicateNestedBlock:v}:{}}),mt&&ge&&r.jsx(Bi,{block:t,onMoveUp:()=>g(t.id,"up"),onMoveDown:()=>g(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:ke,canMoveDown:be,textFormatProps:w,alignProps:ue,columnsProps:Ce,dragHandleProps:ye,position:"bottom"})]})},h2=({blocks:t,selectedBlockId:l,onSelect:i,onUpdate:s,onDelete:c,onDeleteNested:d,onMoveBlock:g,onDuplicateBlock:m,onMoveNestedBlock:p,onDuplicateNestedBlock:v,onInsertBlockAfter:b,onReplaceBlock:y,canvasSettings:N,previewMode:j="desktop",context:E="post"})=>{const{setNodeRef:w,isOver:C}=ol({id:"canvas"}),S=t.map(M=>M.id),T=$r(N?.layoutStyles||{}),L={width:(()=>{switch(j){case"mobile":return"375px";case"tablet":return"768px";default:return N?.width||"700px"}})(),contentPadding:N?.contentPadding||"32px",contentMargin:N?.contentMargin||"40px"},A={backgroundColor:"#f3f4f6",padding:L.contentMargin},P={backgroundColor:T.backgroundColor||"#ffffff",fontFamily:T.fontFamily||"Arial, sans-serif",fontSize:T.fontSize,fontWeight:T.fontWeight,lineHeight:T.lineHeight,color:T.color,textAlign:T.textAlign,backgroundImage:T.backgroundImage,backgroundSize:T.backgroundSize,backgroundPosition:T.backgroundPosition,backgroundRepeat:T.backgroundRepeat,borderTopWidth:T.borderTopWidth,borderRightWidth:T.borderRightWidth,borderBottomWidth:T.borderBottomWidth,borderLeftWidth:T.borderLeftWidth,borderStyle:T.borderStyle||"solid",borderColor:T.borderColor,borderTopLeftRadius:T.borderTopLeftRadius||"8px",borderTopRightRadius:T.borderTopRightRadius||"8px",borderBottomLeftRadius:T.borderBottomLeftRadius||"8px",borderBottomRightRadius:T.borderBottomRightRadius||"8px",boxShadow:T.boxShadow||"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",marginTop:T.marginTop,marginRight:T.marginRight,marginBottom:T.marginBottom,marginLeft:T.marginLeft,paddingTop:T.paddingTop,paddingRight:T.paddingRight,paddingBottom:T.paddingBottom,paddingLeft:T.paddingLeft};return r.jsx("div",{className:"flex-1 overflow-auto",style:A,onClick:()=>i(null),children:r.jsx("div",{className:"mx-auto",style:{maxWidth:L.width},children:r.jsx("div",{ref:w,className:`min-h-[400px] transition-colors ${C?"ring-2 ring-primary ring-offset-2":""}`,style:P,children:r.jsx("div",{style:{padding:L.contentPadding},children:r.jsx(Qa,{items:S,strategy:Ya,children:t.length>0?r.jsxs("div",{children:[r.jsx(nf,{id:"dropzone-0",isFirst:!0}),t.map((M,W)=>r.jsxs("div",{children:[r.jsx(p2,{block:M,blockIndex:W,totalBlocks:t.length,selectedBlockId:l,onSelect:i,onUpdate:s,onDelete:c,onDeleteNested:d,onMoveBlock:g,onDuplicateBlock:m,onMoveNestedBlock:p,onDuplicateNestedBlock:v,onInsertBlockAfter:b,onReplaceBlock:y,context:E}),r.jsx(nf,{id:`dropzone-${W+1}`})]},M.id))]}):r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${C?"border-primary bg-primary/10":"border-gray-300"}`,children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:f("Drag blocks here to start building")}),r.jsx("p",{className:"mt-1 text-gray-400 text-sm",children:f("or click blocks on the left to add them")})]})})})})})})},m2=({selectedBlock:t,onUpdate:l,onImageUpload:i,onVideoUpload:s,canvasSettings:c,onCanvasSettingsUpdate:d})=>{const g=j=>{d({...c,layoutStyles:j})};if(!t)return r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f("Email Settings")})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Email Width")}),r.jsxs("select",{value:c?.width||"700px",onChange:j=>d({...c,width:j.target.value}),className:"form-control",children:[r.jsxs("option",{value:"500px",children:["500px (",f("Narrow"),")"]}),r.jsxs("option",{value:"600px",children:["600px (",f("Standard"),")"]}),r.jsxs("option",{value:"700px",children:["700px (",f("Wide"),")"]}),r.jsxs("option",{value:"800px",children:["800px (",f("Extra Wide"),")"]})]})]}),r.jsx(wi,{layoutStyles:c?.layoutStyles||{},onUpdate:g,onImageUpload:i,defaultCollapsed:!1}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsx("p",{className:"text-xs text-gray-400 text-center",children:f("Click the block to edit")})})]});const m=Ge.get(t.type),p=t.props||{},v=j=>{l(t.id,{...p,layoutStyles:j})},b=m?.label||t.type,y=m?.editor,N=m?.fields;return y?r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),r.jsx(y,{props:p,onUpdate:j=>l(t.id,j),onImageUpload:i,onVideoUpload:s}),r.jsx(wi,{layoutStyles:p.layoutStyles||{},onUpdate:v,onImageUpload:i,defaultCollapsed:!0,customCSS:p.customCSS||"",customClass:p.customClass||"",onCustomCSSChange:j=>l(t.id,{...p,customCSS:j}),onCustomClassChange:j=>l(t.id,{...p,customClass:j})})]}):N&&N.length>0?r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),r.jsx(ox,{fields:N,blockProps:p,onUpdate:j=>l(t.id,j)}),r.jsx(wi,{layoutStyles:p.layoutStyles||{},onUpdate:v,onImageUpload:i,defaultCollapsed:!0,customCSS:p.customCSS||"",customClass:p.customClass||"",onCustomCSSChange:j=>l(t.id,{...p,customCSS:j}),onCustomClassChange:j=>l(t.id,{...p,customClass:j})})]}):r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:f("Click the block to edit it directly.")}),r.jsx(wi,{layoutStyles:p.layoutStyles||{},onUpdate:v,onImageUpload:i,defaultCollapsed:!0,customCSS:p.customCSS||"",customClass:p.customClass||"",onCustomCSSChange:j=>l(t.id,{...p,customCSS:j}),onCustomClassChange:j=>l(t.id,{...p,customClass:j})})]})},x2=({toast:t,onClose:l})=>{if(x.useEffect(()=>{if(t){const c=setTimeout(()=>{l()},4e3);return()=>clearTimeout(c)}},[t,l]),!t)return null;const i=t.variant==="success"?"bg-green-500":t.variant==="error"?"bg-red-500":t.variant==="warning"?"bg-yellow-500":"bg-blue-500",s=t.variant==="success"?"mdi:check-circle":t.variant==="error"?"mdi:alert-circle":t.variant==="warning"?"mdi:alert":"mdi:information";return r.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-slide-in-right",children:r.jsxs("div",{className:`${i} text-white px-4 py-3 rounded-lg shadow-lg flex items-start gap-3 max-w-sm`,children:[r.jsx("iconify-icon",{icon:s,width:"20",height:"20",class:"flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:t.title}),t.message&&r.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:t.message})]}),r.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})})},y2=({html:t,onHtmlChange:l,canvasSettings:i,onExitCodeEditor:s})=>{const[c,d]=x.useState(t),g=x.useRef(null),[m,p]=x.useState(1);x.useEffect(()=>{d(t)},[t]),x.useEffect(()=>{const E=(c||"").split(`
`).length;p(Math.max(E,20))},[c]);const v=E=>{const w=E.target.value;d(w)},b=()=>{l(c)},y=E=>{if(E.key==="Tab"){E.preventDefault();const w=E.target.selectionStart,C=E.target.selectionEnd,S=c.substring(0,w)+"    "+c.substring(C);d(S),setTimeout(()=>{E.target.selectionStart=E.target.selectionEnd=w+4},0)}},N=()=>{try{let E=c.replace(/></g,`>
<`).replace(/\n\s*\n/g,`
`),w=0;E=E.split(`
`).map(S=>{if(S=S.trim(),!S)return"";S.match(/^<\//)&&(w=Math.max(0,w-1));const T="    ".repeat(w)+S;return S.match(/^<[^/!][^>]*[^/]>$/)&&!S.match(/^<(br|hr|img|input|meta|link)/i)&&w++,T}).join(`
`),d(E),l(E)}catch(E){console.error("Error formatting HTML:",E)}},j={width:i?.width||"700px",backgroundColor:i?.backgroundColor||"#f3f4f6",contentBackgroundColor:i?.contentBackgroundColor||"#ffffff",contentPadding:i?.contentPadding||"32px",contentMargin:i?.contentMargin||"40px",contentBorderRadius:i?.contentBorderRadius||"8px"};return r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white border-b border-gray-200 flex-shrink-0",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Editing code"}),r.jsx("button",{onClick:s,className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Exit code editor"})]}),r.jsx("div",{className:"flex-1 overflow-auto",style:{backgroundColor:j.backgroundColor,padding:j.contentMargin},children:r.jsx("div",{className:"mx-auto",style:{maxWidth:j.width},children:r.jsxs("div",{className:"shadow-lg",style:{backgroundColor:j.contentBackgroundColor,borderRadius:j.contentBorderRadius},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"HTML Code Editor"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Format HTML",children:[r.jsx("iconify-icon",{icon:"mdi:auto-fix",width:"14",height:"14"}),"Format"]})})]}),r.jsxs("div",{className:"flex min-h-[500px]",children:[r.jsx("div",{className:"flex-shrink-0 bg-gray-50 border-r border-gray-200 text-right select-none",children:r.jsx("div",{className:"py-4 px-2",children:Array.from({length:m},(E,w)=>r.jsx("div",{className:"text-xs text-gray-400 leading-6 pr-2",style:{fontFamily:"ui-monospace, monospace"},children:w+1},w))})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("textarea",{ref:g,value:c,onChange:v,onBlur:b,onKeyDown:y,className:"w-full h-full min-h-[500px] p-4 text-sm leading-6 text-gray-800 bg-transparent resize-none focus:outline-none",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace',tabSize:4},spellCheck:!1,placeholder:"<!-- Paste or write your HTML here -->"})})]}),r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[c.length," characters  ",(c||"").split(`
`).length," lines"]}),r.jsx("span",{className:"text-xs text-gray-400",children:"Press Tab for indent  Changes save on blur"})]})]})})})]})},v2=({editorMode:t,onEditorModeChange:l,onCopyAllBlocks:i,onPasteBlocks:s})=>{const[c,d]=x.useState(!1),[g,m]=x.useState(!1),p=x.useRef(null);x.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const v=async()=>{try{await i(),m(!0),setTimeout(()=>m(!1),2e3)}catch(y){console.error("Failed to copy blocks:",y)}},b=async()=>{try{const y=await navigator.clipboard.readText();y&&s(y)}catch(y){console.error("Failed to paste:",y)}d(!1)};return r.jsxs("div",{className:"relative",ref:p,children:[r.jsx("button",{onClick:()=>d(!c),className:`p-1.5 pb-0 rounded-md transition-colors ${c?"bg-gray-100 text-gray-900":"hover:bg-gray-100 text-gray-600"}`,title:"Options",children:r.jsx("iconify-icon",{icon:"mdi:dots-vertical",width:"20",height:"20"})}),c&&r.jsxs("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 py-1 overflow-hidden",children:[r.jsx("div",{className:"px-3 py-2 border-b border-gray-100",children:r.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Editor"})}),r.jsxs("button",{onClick:()=>{l("visual"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("iconify-icon",{icon:"mdi:eye-outline",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Visual editor"})]}),t==="visual"&&r.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),r.jsxs("button",{onClick:()=>{l("code"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Code editor"})]}),t==="code"&&r.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),r.jsx("div",{className:"px-3 py-2 border-t border-b border-gray-100 mt-1",children:r.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Tools"})}),r.jsxs("button",{onClick:v,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[r.jsx("iconify-icon",{icon:g?"mdi:check":"mdi:content-copy",width:"18",height:"18",class:g?"text-green-500":"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:`text-sm ${g?"text-green-600":"text-gray-700"}`,children:g?"Copied!":"Copy all blocks"})]}),r.jsxs("button",{onClick:b,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[r.jsx("iconify-icon",{icon:"mdi:content-paste",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Paste blocks"})]})]})]})};function b2({isOpen:t,onClose:l,onInsertContent:i,isPostContext:s=!1,setTitle:c,setExcerpt:d}){const[g,m]=x.useState(""),[p,v]=x.useState({}),[b,y]=x.useState(""),[N,j]=x.useState(!1),[E,w]=x.useState(""),[C,S]=x.useState(!1),[T,$]=x.useState(!0),[L,A]=x.useState(null),[P,M]=x.useState("");x.useEffect(()=>{t&&W()},[t]);const W=async()=>{$(!0);try{const O=await fetch("/admin/ai/providers",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!O.ok)throw new Error("Failed to fetch providers");const J=await O.json();J.success&&(v(J.data.providers||{}),y(J.data.default_provider||""),j(J.data.is_configured||!1),m(J.data.default_provider||""))}catch(O){console.error("Error fetching AI providers:",O),M(f("Failed to load AI providers"))}finally{$(!1)}},G=async()=>{if(!E.trim()){M(f("Please enter a prompt to generate content."));return}if(!g){M(f("Please select an AI provider or configure from AI Integrations settings."));return}S(!0),M(""),A(null);try{const O=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),te=await(await fetch("/admin/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":O,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({prompt:E,provider:g,content_type:"post_content"})})).json();if(te.success){let re=te.data;if(typeof re=="string")try{re=JSON.parse(re)}catch(ae){console.warn("Failed to parse AI response as JSON:",ae)}A(re)}else M(te.message||f("Failed to generate content"))}catch(O){M(f("Network error. Please try again.")),console.error("AI Generation Error:",O)}finally{S(!1)}},U=x.useCallback(()=>{if(L){if(s&&c&&L.title&&c(L.title),s&&d&&L.excerpt&&d(L.excerpt),L.content&&i){const O=[];if(L.title&&!s){const te=Ge.createInstance("heading",{content:L.title,level:"h1",align:"left"});te&&O.push(te)}const J=L.content;if(J.includes("<")&&J.includes(">")){const te=Ge.createInstance("text-editor",{content:J});te&&O.push(te)}else J.split(/\n\n+/).map(re=>re.trim()).filter(re=>re.length>0).forEach(re=>{const ae=re.replace(/\n/g,"<br>"),pe=Ge.createInstance("text",{content:ae,align:"left"});pe&&O.push(pe)});O.length>0&&i(O)}X()}},[L,s,c,d,i]),X=()=>{w(""),A(null),M(""),l()};return t?r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 p-4 backdrop-blur-sm",onClick:O=>{O.target===O.currentTarget&&X()},children:r.jsxs("div",{className:"flex max-w-2xl w-full max-h-[95vh] flex-col overflow-hidden rounded-lg border border-gray-200 bg-white text-gray-900 shadow-2xl",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white",style:{backgroundColor:"var(--color-primary, #635bff)"},children:r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("AI Content Generator")})]}),r.jsx("button",{type:"button",onClick:X,className:"text-gray-400 hover:text-gray-600 transition-colors",title:f("Close"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"24",height:"24"})})]}),r.jsx("div",{className:"px-6 pb-6 space-y-4 flex-1 overflow-y-auto",children:T?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-gray-500",children:f("Loading providers...")})]}):N?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"ai_provider",className:"block text-sm font-medium text-gray-700",children:f("AI Provider")}),r.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:text-primary/80 hover:underline flex items-center",title:f("Configure AI Settings"),children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"12",height:"12",class:"mr-1"}),f("Settings")]})]}),r.jsxs("select",{id:"ai_provider",value:g,onChange:O=>m(O.target.value),className:"form-control",children:[r.jsx("option",{value:"",disabled:!0,children:f("Select AI Provider")}),Object.entries(p).map(([O,J])=>r.jsx("option",{value:O,children:J},O))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"ai_prompt",className:"block text-sm font-medium text-gray-700",children:f("Describe your content")}),r.jsx("textarea",{id:"ai_prompt",value:E,onChange:O=>w(O.target.value),rows:4,placeholder:f("Example: Write a blog post about the benefits of AI in modern web development, focusing on productivity and user experience..."),className:"form-control-textarea w-full",maxLength:1e3}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:f("Be specific about your content requirements")}),r.jsxs("span",{children:[E.length,"/1000"]})]})]}),r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx("button",{type:"button",onClick:G,disabled:!E.trim()||C,className:"inline-flex items-center px-6 py-2.5 text-sm font-medium text-white hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:"var(--color-primary, #635bff)"},children:C?r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin mr-2"}),f("Generating...")]}):r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"mr-2"}),f("Generate Content")]})})}),L&&r.jsxs("div",{className:"mt-6 space-y-4 border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f("Generated Content Preview")}),L.title&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Title")}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:L.title})]}),L.excerpt&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Excerpt")}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:L.excerpt})]}),L.content&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Content")}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm max-h-32 overflow-y-auto",dangerouslySetInnerHTML:{__html:L.content.replace(/\n/g,"<br>")}})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:f("Cancel")}),r.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-md transition-all duration-200",children:f("Insert Content")})]})]}),P&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:r.jsx("p",{className:"text-sm text-red-700",children:P})})]}):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",width:"48",height:"48",class:"text-amber-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:f("No AI providers configured. Please configure an AI provider in settings.")}),r.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16",class:"mr-2"}),f("Go to Settings")]})]})})]})}):null}function w2({listUrl:t,isFormDirty:l,labels:i,isPostContext:s,isEmailContext:c,templateData:d,postData:g,postTypeModel:m,canUndo:p,canRedo:v,undo:b,redo:y,title:N,setTitle:j,excerpt:E,setExcerpt:w,templateName:C,setTemplateName:S,saving:T,onSave:$,editorMode:L,onEditorModeChange:A,onCopyAllBlocks:P,onPasteBlocks:M,onInsertAIContent:W}){const[G,U]=x.useState(!1),X=()=>c?"lucide:mail":s&&m?.icon||"lucide:file-text";return r.jsxs("header",{className:"bg-white border-b border-gray-200 px-2 sm:px-4 py-2 sm:py-3 flex items-center justify-between shadow-sm flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[t&&r.jsx("a",{href:t,onClick:O=>{l&&(window.confirm(f("You have unsaved changes. Are you sure you want to leave?"))||O.preventDefault())},className:"inline-flex items-center justify-center w-9 h-9 rounded-lg border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 hover:text-gray-700 transition-colors",title:f("Go back"),children:r.jsx("iconify-icon",{icon:X(),width:"20",height:"20"})}),r.jsx("iconify-icon",{icon:"lucide:chevron-right",width:"16",height:"16",class:"text-gray-400"}),r.jsxs("h1",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:[d?.uuid||g?.id?f("Edit"):f("Create"),r.jsxs("span",{className:"hidden sm:inline",children:[" ",m?.label_singular||i.title.split(" ")[0]]})]}),r.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[r.jsx("button",{onClick:b,disabled:!p,className:`p-1.5 pb-0 rounded-md transition-colors ${p?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Undo (Ctrl+Z)"),children:r.jsx("iconify-icon",{icon:"mdi:undo",width:"18",height:"18"})}),r.jsx("button",{onClick:y,disabled:!v,className:`p-1.5 pb-0 rounded-md transition-colors ${v?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Redo (Ctrl+Shift+Z)"),children:r.jsx("iconify-icon",{icon:"mdi:redo",width:"18",height:"18"})})]}),l&&r.jsxs("span",{className:"text-xs text-orange-600 bg-orange-50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md font-medium",children:[r.jsx("span",{className:"hidden sm:inline",children:f("Unsaved changes")}),r.jsx("span",{className:"sm:hidden",children:"*"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s&&r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>U(!0),className:"inline-flex items-center justify-center w-8 h-8 text-white rounded-md transition-all duration-200 shadow-sm hover:shadow-md hover:opacity-90",style:{backgroundColor:"var(--color-primary, #635bff)"},title:f("Generate content with AI"),children:r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),r.jsx("input",{type:"text",value:N,onChange:O=>j(O.target.value),placeholder:f(":type title...").replace(":type",m?.label_singular||"Post"),className:"form-control w-64"})]}),c&&r.jsx("div",{className:"hidden md:flex items-center gap-2",children:r.jsx("input",{type:"text",value:C,onChange:O=>S(O.target.value),placeholder:f("Template name..."),className:"form-control w-64"})}),r.jsx("button",{onClick:$,disabled:T,className:`gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 ${T?"btn-default cursor-not-allowed":"btn-primary"}`,children:T?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"hidden sm:inline",children:f("Saving...")})]}):r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:content-save",class:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:i.saveText})]})}),r.jsx(v2,{editorMode:L,onEditorModeChange:A,onCopyAllBlocks:P,onPasteBlocks:M})]}),r.jsx(b2,{isOpen:G,onClose:()=>U(!1),onInsertContent:W,isPostContext:s,setTitle:j,setExcerpt:w})]})}const k2=({block:t,onAddBlock:l})=>{const[i,s]=x.useState(!1),c=x.useRef(null),{attributes:d,listeners:g,setNodeRef:m,transform:p,isDragging:v}=Nf({id:`palette-${t.type}`,data:{type:"palette",blockType:t.type}}),b={transform:p?`translate3d(${p.x}px, ${p.y}px, 0)`:void 0,opacity:v?.5:1},y=E=>{c.current={x:E.clientX,y:E.clientY},s(!1)},N=E=>{if(c.current){const w=Math.abs(E.clientX-c.current.x),C=Math.abs(E.clientY-c.current.y);(w>5||C>5)&&s(!0)}},j=E=>{E.stopPropagation(),!i&&l&&l(t.type),c.current=null};return r.jsxs("div",{ref:m,style:b,...g,...d,onMouseDown:y,onMouseMove:N,onClick:j,className:"flex flex-col items-center justify-center p-2 bg-white border border-gray-200 rounded-lg cursor-grab hover:border-primary hover:bg-primary/10 transition-colors active:cursor-grabbing",title:f(t.label),children:[r.jsx("iconify-icon",{icon:t.icon,width:"24",height:"24",class:"text-primary"}),r.jsx("span",{className:"text-[10px] text-gray-600 font-medium mt-1 text-center leading-tight",children:f(t.label)})]})},Uf=({onAddBlock:t,context:l=null})=>{const[i,s]=x.useState(""),[c,d]=x.useState(0);x.useEffect(()=>{const b=()=>{d(y=>y+1)};return fe.addAction(ve.ACTION_BLOCK_REGISTERED,b),()=>{fe.removeAction(ve.ACTION_BLOCK_REGISTERED,b)}},[]);const g=x.useMemo(()=>l?Ge.getBlocksForContext(l):Ge.getAll(),[l,c]),m=x.useMemo(()=>{const b=new Set(g.map(y=>y.category));return Array.from(b)},[g]),p=x.useMemo(()=>{if(!i.trim())return g;const b=i.toLowerCase().trim();return g.filter(y=>y.label.toLowerCase().includes(b)||y.type.toLowerCase().includes(b)||y.category.toLowerCase().includes(b))},[g,i]),v=x.useMemo(()=>{if(!i.trim())return m;const b=new Set(p.map(y=>y.category));return m.filter(y=>b.has(y))},[m,p,i]);return r.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[r.jsx("div",{className:"mb-3 shrink-0",children:r.jsxs("div",{className:"relative m-0.5",children:[r.jsx("iconify-icon",{icon:"mdi:magnify",width:"18",height:"18",class:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:f("Search blocks..."),className:"form-control pl-9 pr-8 w-full"}),i&&r.jsx("button",{onClick:()=>s(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:v.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx("iconify-icon",{icon:"mdi:package-variant",width:"32",height:"32",class:"mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:f("No blocks found")})]}):v.map(b=>{const y=p.filter(N=>N.category===b);return y.length===0?null:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-2 px-1",children:f(b)}),r.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:y.map(N=>r.jsx(k2,{block:N,onAddBlock:t},N.type))})]},b)})})]})};function C2({collapsed:t,setCollapsed:l,onAddBlock:i,context:s}){return t?r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Blocks"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"20",height:"20"})}),r.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-primary/10 text-primary",title:f("Show Blocks"),children:r.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"})})]}):r.jsxs("div",{className:"flex flex-col h-full p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),r.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Blocks"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18",height:"18"})})]}),r.jsx(Uf,{onAddBlock:i,context:s})]})}function S2({collapsed:t,setCollapsed:l,PropertiesPanel:i,propertiesPanelProps:s}){return t?r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Properties"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"20",height:"20"})}),r.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-gray-50 text-gray-600",title:f("Show Properties"),children:r.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"})})]}):r.jsxs("div",{className:"flex flex-col h-full pt-4 pr-4 pb-4 pl-2 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pl-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),r.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Properties"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"18",height:"18"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto pl-2",children:r.jsx(i,{...s})})]})}function j2({isOpen:t,onClose:l,onAddBlock:i,context:s}){return t?r.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),r.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-white shadow-xl flex flex-col animate-slide-in-left",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),r.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),r.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:r.jsx(Uf,{onAddBlock:c=>{i(c),l()},context:s})})]})]}):null}function N2({isOpen:t,onClose:l,context:i,isEmailContext:s,isPostContext:c,templateName:d,setTemplateName:g,templateSubject:m,setTemplateSubject:p,title:v,setTitle:b,postTypeModel:y,PropertiesPanel:N,propertiesPanelProps:j}){return t?r.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),r.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 bg-white shadow-xl flex flex-col animate-slide-in-right",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),r.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),r.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[s&&r.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Template Details")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Name")}),r.jsx("input",{type:"text",value:d,onChange:E=>g(E.target.value),placeholder:f("Template name..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]}),i==="email"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Subject")}),r.jsx("input",{type:"text",value:m,onChange:E=>p(E.target.value),placeholder:f("Email subject..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]})]})]}),c&&r.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Title")}),r.jsx("input",{type:"text",value:v,onChange:E=>b(E.target.value),placeholder:f(":type title...").replace(":type",y?.label_singular||"Post"),className:"form-control w-full"})]}),r.jsx(N,{...j})]})]})]}):null}function E2({onOpenLeftDrawer:t,onOpenRightDrawer:l}){return r.jsxs("div",{className:"lg:hidden fixed bottom-4 left-4 right-4 z-40 flex justify-between pointer-events-none",children:[r.jsxs("button",{onClick:t,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg shadow-lg hover:bg-primary/90 transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"}),r.jsx("span",{className:"text-sm font-medium",children:f("Blocks")})]}),r.jsxs("button",{onClick:l,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-gray-700 text-white rounded-lg shadow-lg hover:bg-gray-800 transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"}),r.jsx("span",{className:"text-sm font-medium",children:f("Properties")})]})]})}function $2({onSave:t,onImageUpload:l,onVideoUpload:i,listUrl:s,showHeader:c=!0,templateData:d,postData:g,taxonomies:m,selectedTerms:p,parentPosts:v,postType:b,postTypeModel:y,statuses:N,PropertiesPanelComponent:j}){const{state:E,actions:w,canUndo:C,canRedo:S,undo:T,redo:$,getHtml:L,getSaveData:A,context:P}=Oi(),{blocks:M,selectedBlockId:W,canvasSettings:G,isDirty:U}=E;Nm({enableKeyboardShortcuts:!0});const{addBlockAfterSelected:X}=$m(),O=P==="email"||P==="campaign",J=P==="page"||P==="post",{templateName:te,templateSubject:re,templateStatus:ae,templateDirty:pe,setTemplateName:V,setTemplateSubject:ee,setTemplateStatus:K,markEmailSaved:I}=Tm({templateData:d,isEmailContext:O}),{title:F,slug:ie,status:ne,excerpt:ge,publishedAt:ue,parentId:Ce,selectedTerms:ye,featuredImage:ke,removeFeaturedImage:be,postDirty:Mt,setTitle:Qe,setSlug:mt,setStatus:ut,setExcerpt:Ne,setPublishedAt:Ct,setParentId:En,setSelectedTerms:Qt,setFeaturedImage:qt,setRemoveFeaturedImage:xt,generateSlug:Ot,markPostSaved:vn}=Rm({postData:g,initialSelectedTerms:p,isPostContext:J}),{findBlock:ur,handleUpdateBlock:Mn,handleDeleteBlock:Tr,handleDeleteNestedBlock:Rr,handleMoveBlock:Jt,handleMoveNestedBlock:Ht,handleDuplicateBlock:bn,handleDuplicateNestedBlock:wn,handleAddBlock:dt,handleInsertBlockAfter:Lr,handleReplaceBlock:Ar}=Lm({blocks:M,actions:w,addBlockAfterSelected:X}),{activeId:On,handleDragStart:dr,handleDragEnd:Hn,customCollisionDetection:fr}=Am({blocks:M,actions:w}),Fn=eh(Zp(Ka,{activationConstraint:{distance:8}})),gr=ur(W),[pr,sn]=x.useState(!1),[De,qe]=x.useState(null),[nt,Et]=x.useState(!1),[ft,Je]=x.useState(!1),[gt,an]=x.useState(!1),[Be,$t]=x.useState(!1),[Pe,Tt]=x.useState("visual"),[rt,Rt]=x.useState(""),[yt,cn]=x.useState("desktop"),ot=x.useCallback((Se,je,Ue)=>{qe({variant:Se,title:je,message:Ue})},[]),ao=U||pe||Mt;x.useEffect(()=>{const Se=je=>{if(ao)return je.preventDefault(),je.returnValue="",""};return window.addEventListener("beforeunload",Se),()=>window.removeEventListener("beforeunload",Se)},[ao]),x.useEffect(()=>{const Se=je=>{if(!W)return;const Ue=document.activeElement;if(Ue?.tagName==="INPUT"||Ue?.tagName==="TEXTAREA"||Ue?.isContentEditable||Ue?.closest('[contenteditable="true"]')||Ue?.closest(".ProseMirror")||Ue?.closest(".ql-editor")||Ue?.closest('[data-text-editing="true"]'))return;let un=!1,Ft=null,Tn=null,Rn=M.findIndex(Wt=>Wt.id===W);if(Rn===-1)for(const Wt of M){if(Wt.type==="columns"&&Wt.props.children)for(let lt=0;lt<Wt.props.children.length;lt++){const At=Wt.props.children[lt].findIndex(Wi=>Wi.id===W);if(At!==-1){un=!0,Ft=Wt.id,Tn=lt,Rn=At;break}}if(un)break}if((je.key==="Backspace"||je.key==="Delete")&&(je.preventDefault(),un&&Ft!==null&&Tn!==null?w.deleteNestedBlock(Ft,Tn,W):w.deleteBlock(W)),je.key==="Enter"&&(je.preventDefault(),Ge.get("text"))){const lt=Ge.createInstance("text",{content:""});un&&Ft!==null&&Tn!==null?w.addNestedBlock(Ft,Tn,lt,Rn+1):w.addBlock(lt,Rn+1)}};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[W,M,w]);const Hi=x.useCallback(Se=>{if(Se==="code"&&Pe==="visual"){const je=L();Rt(je)}else Se==="visual"&&Pe==="code"&&(rt.trim()||w.setBlocks([]));Tt(Se)},[Pe,L,rt,w]),$n=x.useCallback(()=>{rt.trim()||w.setBlocks([]),Tt("visual")},[rt,w]),il=x.useCallback(async()=>{const Se=JSON.stringify(M,null,2);await navigator.clipboard.writeText(Se),ot("success",f("Copied!"),f("All blocks copied to clipboard"))},[M,ot]),sl=x.useCallback(Se=>{try{const je=JSON.parse(Se);Array.isArray(je)&&(je.forEach(Ue=>{if(Ue.type){const Lt=Ge.createInstance(Ue.type,Ue.props);Lt&&w.addBlock(Lt)}}),ot("success",f("Pasted!"),f(":count blocks pasted").replace(":count",je.length)))}catch{if(Pe==="code")Rt(Se),ot("success",f("Pasted!"),f("HTML content pasted"));else{const Ue=Ge.createInstance("html",{code:Se});Ue&&(w.addBlock(Ue),ot("success",f("Pasted!"),f("HTML block created")))}}},[w,Pe,ot]),Fi=x.useCallback(Se=>{!Array.isArray(Se)||Se.length===0||(Se.forEach(je=>{je&&w.addBlock(je)}),ot("success",f("AI Content Inserted"),f(":count blocks added").replace(":count",Se.length)))},[w,ot]),al=x.useCallback(Se=>{Rt(Se)},[]),cl=async()=>{if(O&&!te.trim()){ot("error",f("Validation Error"),f("Template name is required"));return}if(J&&!F.trim()){ot("error",f("Validation Error"),f("Title is required"));return}fe.doAction(ve.ACTION_BEFORE_SAVE,E),sn(!0);try{const Se=Pe==="code"?rt:L(),je=A();let Ue={};if(O)Ue={name:te,subject:re||te,is_active:ae,body_html:Se,design_json:je};else if(J){const Ft={};Object.entries(ye).forEach(([Tn,Rn])=>{Ft[`taxonomy_${Tn}`]=Rn}),Ue={title:F,slug:ie||void 0,status:ne,excerpt:ge,content:Se,design_json:je,published_at:ne==="scheduled"?ue:void 0,parent_id:Ce||void 0,featured_image:ke||void 0,remove_featured_image:be,...Ft}}const Lt=await t(Ue);w.markSaved(),O?I():J&&vn();const un=!!(d?.uuid||g?.id);ot("success",f(un?"Saved":"Created"),Lt?.message||f(un?"Saved successfully!":"Created successfully!")),fe.doAction(ve.ACTION_AFTER_SAVE,Lt),un||(Lt?.id&&s?setTimeout(()=>{window.location.href=`${s.replace(/\/$/,"")}/${Lt.id}/edit`},500):Lt?.redirect&&setTimeout(()=>{window.location.href=Lt.redirect},500))}catch(Se){ot("error",f("Save Failed"),Se.message||f("Failed to save")),fe.doAction(ve.ACTION_SAVE_ERROR,Se)}finally{sn(!1)}},ul=x.useMemo(()=>{const Se={email:{title:f("Email Builder"),backText:f("Back to Templates"),saveText:f("Save")},page:{title:f("Page Builder"),backText:y?.label?f("Back to :type").replace(":type",y.label):f("Back to Posts"),saveText:g?.id?f("Update"):f("Publish")},post:{title:f("Post Builder"),backText:y?.label?f("Back to :type").replace(":type",y.label):f("Back to Posts"),saveText:g?.id?f("Update"):f("Publish")},campaign:{title:f("Campaign Editor"),backText:f("Back to Campaign"),saveText:f("Save")}};return fe.applyFilters(`${ve.FILTER_CONFIG}.${P}`,Se[P]||Se.email)},[P,y,g]),co=j||m2,Br={selectedBlock:gr,onUpdate:Mn,onImageUpload:l,onVideoUpload:i,canvasSettings:G,onCanvasSettingsUpdate:w.updateCanvasSettings};return O?Object.assign(Br,{templateName:te,setTemplateName:V,templateSubject:re,setTemplateSubject:ee,templateStatus:ae,setTemplateStatus:K,context:P}):J&&Object.assign(Br,{title:F,setTitle:Qe,slug:ie,setSlug:mt,generateSlug:Ot,status:ne,setStatus:ut,excerpt:ge,setExcerpt:Ne,publishedAt:ue,setPublishedAt:Ct,parentId:Ce,setParentId:En,selectedTerms:ye,setSelectedTerms:Qt,featuredImage:ke,setFeaturedImage:qt,removeFeaturedImage:be,setRemoveFeaturedImage:xt,taxonomies:m,parentPosts:v,postTypeModel:y,statuses:N,postData:g,postType:b}),r.jsxs(tm,{sensors:Fn,collisionDetection:fr,onDragStart:dr,onDragEnd:Hn,children:[r.jsx("style",{children:`
                @keyframes slideInLeft {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                @keyframes slideInRight {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
                .animate-slide-in-left {
                    animation: slideInLeft 0.2s ease-out forwards;
                }
                .animate-slide-in-right {
                    animation: slideInRight 0.2s ease-out forwards;
                }
            `}),r.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[c&&r.jsx("div",{onClick:()=>w.selectBlock(null),children:r.jsx(w2,{listUrl:s,isFormDirty:ao,labels:ul,isPostContext:J,isEmailContext:O,templateData:d,postData:g,postTypeModel:y,canUndo:C,canRedo:S,undo:T,redo:$,title:F,setTitle:Qe,excerpt:ge,setExcerpt:Ne,templateName:te,setTemplateName:V,saving:pr,onSave:cl,editorMode:Pe,onEditorModeChange:Hi,onCopyAllBlocks:il,onPasteBlocks:sl,onInsertAIContent:Fi})}),r.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[r.jsx(E2,{onOpenLeftDrawer:()=>Et(!0),onOpenRightDrawer:()=>Je(!0)}),r.jsx("div",{className:`hidden lg:flex bg-white border-r border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${gt?"w-12":"w-64"}`,onClick:()=>w.selectBlock(null),children:r.jsx(C2,{collapsed:gt,setCollapsed:an,onAddBlock:dt,context:P})}),r.jsx(j2,{isOpen:nt,onClose:()=>Et(!1),onAddBlock:dt,context:P}),Pe==="visual"?r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"flex items-center justify-center gap-1 py-2 px-4 bg-gray-100 border-b border-gray-200",onClick:()=>w.selectBlock(null),children:r.jsx("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-gray-200 p-0.5",children:["desktop","tablet","mobile"].map(Se=>r.jsxs("button",{type:"button",onClick:()=>cn(Se),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${yt===Se?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,title:f(`${Se.charAt(0).toUpperCase()+Se.slice(1)} Preview`),children:[r.jsx("iconify-icon",{icon:`mdi:${Se==="desktop"?"monitor":Se==="tablet"?"tablet":"cellphone"}`,width:"16",height:"16"}),r.jsx("span",{className:"hidden sm:inline",children:f(Se.charAt(0).toUpperCase()+Se.slice(1))})]},Se))})}),r.jsx(h2,{blocks:M,selectedBlockId:W,onSelect:w.selectBlock,onUpdate:Mn,onDelete:Tr,onDeleteNested:Rr,onMoveBlock:Jt,onDuplicateBlock:bn,onMoveNestedBlock:Ht,onDuplicateNestedBlock:wn,onInsertBlockAfter:Lr,onReplaceBlock:Ar,canvasSettings:G,previewMode:yt,context:P})]}):r.jsx(y2,{html:rt,onHtmlChange:al,canvasSettings:G,onExitCodeEditor:$n}),r.jsx("div",{className:`hidden lg:flex bg-white border-l border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${Be?"w-12":"w-80"}`,children:r.jsx(S2,{collapsed:Be,setCollapsed:$t,PropertiesPanel:co,propertiesPanelProps:Br})}),r.jsx(N2,{isOpen:ft,onClose:()=>Je(!1),context:P,isEmailContext:O,isPostContext:J,templateName:te,setTemplateName:V,templateSubject:re,setTemplateSubject:ee,title:F,setTitle:Qe,postTypeModel:y,PropertiesPanel:co,propertiesPanelProps:Br})]})]}),r.jsx(ym,{children:On&&On.toString().startsWith("palette-")&&r.jsx("div",{className:"p-4 bg-white border-2 border-primary rounded-lg shadow-lg opacity-80",children:r.jsx("span",{className:"text-sm font-medium",children:Ge.get(On.replace("palette-",""))?.label})})}),r.jsx(x2,{toast:De,onClose:()=>qe(null)})]})}function _2({context:t="post",initialData:l=null,onSave:i,onImageUpload:s,onVideoUpload:c,listUrl:d,config:g={},showHeader:m=!0,templateData:p,postData:v=null,taxonomies:b=[],selectedTerms:y={},parentPosts:N={},postType:j="post",postTypeModel:E={},statuses:w={},PropertiesPanelComponent:C}){return x.useEffect(()=>{fe.doAction(ve.ACTION_INIT,{context:t,initialData:l})},[]),r.jsx(jm,{context:t,initialData:l,config:g,children:r.jsx($2,{onSave:i,onImageUpload:s,onVideoUpload:c,listUrl:d,showHeader:m,templateData:p,postData:v,taxonomies:b,selectedTerms:y,parentPosts:N,postType:j,postTypeModel:E,statuses:w,PropertiesPanelComponent:C})})}class Vf{constructor(l){this.context=l}getDefaultSettings(){return{}}generateHtml(l,i={}){const s={...this.getDefaultSettings(),...i};fe.doAction(ve.ACTION_HTML_BEFORE_GENERATE,l,s,this.context);const c=l.map(g=>this.generateBlockHtml(g,{settings:s,allBlocks:l})).join("");let d=this.wrapOutput(c,s);return d=fe.applyFilters(ve.FILTER_HTML_GENERATED,d,l,s,this.context),fe.doAction(ve.ACTION_HTML_AFTER_GENERATE,d,l,s,this.context),d}generateBlockHtml(l,i={}){throw new Error("generateBlockHtml must be implemented by subclass")}wrapOutput(l,i){return l}isBlockSupported(l){return!0}getPreviewStyles(){return""}}class Kf extends Vf{constructor(){super("email")}getDefaultSettings(){return{width:"700px",backgroundColor:"#f3f4f6",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",contentBackgroundColor:"#ffffff",contentBackgroundImage:"",contentBackgroundSize:"cover",contentBackgroundPosition:"center",contentBackgroundRepeat:"no-repeat",contentPadding:"32px",contentMargin:"40px",contentBorderWidth:"0px",contentBorderColor:"#e5e7eb",contentBorderRadius:"8px",fontFamily:"Arial, sans-serif"}}generateBlockHtml(l,i={}){const{type:s,props:c}=l,d=c?.layoutStyles,g={...i,generateBlockHtml:(p,v)=>this.generateBlockHtml(p,v)},m=Ge.get(s);if(m?.save?.email){let p=m.save.email(c,g);return p=this._wrapWithLayoutStyles(p,d),p=fe.applyFilters(_a(ve.FILTER_HTML_BLOCK,s),p,c,g),p=fe.applyFilters(`builder.email.block.${s}`,p,c,g),p}return console.warn(`[EmailAdapter] No HTML generator found for block type: ${s}`),""}_wrapWithLayoutStyles(l,i){const s=Ai(i);return s?`<table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td style="${s}">${l}</td></tr></table>`:l}wrapOutput(l,i){const s=i.width||"600px",c=i.contentPadding||"40px",d=i.contentMargin||"40px",g=i.layoutStyles?.background||{},m=i.layoutStyles?.border||{},p=i.layoutStyles?.boxShadow||{};let v="background-color: #f4f4f4;",b=`background-color: ${g.color||"#ffffff"};`;g.image&&(b+=` background-image: url('${g.image}'); background-size: ${g.size||"cover"}; background-position: ${g.position||"center"}; background-repeat: ${g.repeat||"no-repeat"};`);const y=m.width?.top||"0px",N=m.color||"#e5e7eb",j=y!=="0px"?`border: ${y} ${m.style||"solid"} ${N};`:"",E=m.radius?.topLeft||"8px";let w="";return p.blur&&p.blur!=="0px"&&(w=`box-shadow: ${p.inset?"inset ":""}${p.x||"0px"} ${p.y||"0px"} ${p.blur||"0px"} ${p.spread||"0px"} ${p.color||"rgba(0, 0, 0, 0.1)"};`),`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Email</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; ${v}">
    <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="${v}">
        <tr>
            <td align="center" style="padding: ${d} 20px;">
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="max-width: ${s}; ${b} border-radius: ${E}; ${j} ${w}">
                    <tr>
                        <td style="padding: ${c};">
                            ${l}
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
        `.trim()}}class T2 extends Vf{constructor(){super("page")}getDefaultSettings(){return{width:"100%",maxWidth:"1200px",backgroundColor:"#ffffff",contentPadding:"24px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",lineHeight:"1.6",textColor:"#1f2937"}}generateBlockHtml(l,i={}){const{type:s,props:c,id:d}=l,g={...i,blockId:d,generateBlockHtml:(v,b)=>this.generateBlockHtml(v,{...b,allBlocks:i.allBlocks})},m=Ge.get(s);if(m?.save?.page){let v=m.save.page(c,g);return v=fe.applyFilters(_a(ve.FILTER_HTML_BLOCK,s),v,c,g),v=fe.applyFilters(`builder.page.block.${s}`,v,c,g),v}let p=this._generateFallbackBlockHtml(l,g);return p=fe.applyFilters(_a(ve.FILTER_HTML_BLOCK,s),p,c,g),p=fe.applyFilters(`builder.page.block.${s}`,p,c,g),p}_wrapWithLayoutStyles(l,i,s=""){const d=[Ai(i),s].filter(Boolean).join("; ");return d?`<div class="lb-layout-wrapper" style="${d}">${l}</div>`:l}_generateFallbackBlockHtml(l,i={}){const{type:s,props:c}=l;return s==="section"?this._generateSectionHtml(c,i):(console.warn(`[WebAdapter] No HTML generator found for block type: ${s}`),"")}_generateSectionHtml(l,i){const s=`lb-block lb-section${l.customClass?` ${l.customClass}`:""}`,c=Ai(l?.layoutStyles),d=l?.customCSS||"",g=[`padding: ${l.padding||"40px 20px"}`];l.layoutStyles?.background?.color||g.push(`background-color: ${l.backgroundColor||"transparent"}`),l.backgroundImage&&!l.layoutStyles?.background?.image&&(g.push(`background-image: url('${l.backgroundImage}')`),g.push(`background-size: ${l.backgroundSize||"cover"}`),g.push(`background-position: ${l.backgroundPosition||"center"}`));const m=[c,g.join("; "),d].filter(Boolean).join("; "),p=(l.children||[]).map(v=>this.generateBlockHtml(v,i)).join("");return`
            <section class="${s}" style="${m}">
                <div style="max-width: ${l.maxWidth||"1200px"}; margin: 0 auto;">
                    ${p}
                </div>
            </section>
        `}wrapOutput(l,i){return`<div class="lb-content">${l}</div>`}generateStandalonePage(l,i={}){const s={...this.getDefaultSettings(),...i},c=l.map(N=>this.generateBlockHtml(N,{settings:s})).join(""),d=s.fontFamily||'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',g=s.fontSize||"16px",m=s.lineHeight||"1.6",p=s.textColor||"#1f2937",v=s.backgroundColor||"#ffffff",b=s.maxWidth||"1200px",y=s.contentPadding||"24px";return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            padding: 0;
            font-family: ${d};
            font-size: ${g};
            line-height: ${m};
            color: ${p};
            background-color: ${v};
        }
        img { max-width: 100%; height: auto; }
        a { color: inherit; }
        .lb-content {
            max-width: ${b};
            margin: 0 auto;
            padding: ${y};
        }
        .lb-heading { margin: 0 0 16px 0; }
        .lb-text { margin: 0 0 16px 0; }
        .lb-image-wrapper { margin: 0 0 16px 0; }
        .lb-button:hover { opacity: 0.9; }
        .lb-columns { margin: 0 0 16px 0; }
        @media (max-width: 768px) {
            .lb-columns { flex-direction: column; }
            .lb-column { flex: none !important; width: 100% !important; }
        }
    </style>
</head>
<body>
    <div class="lb-content">
        ${c}
    </div>
</body>
</html>
        `.trim()}getPreviewStyles(){return`
            .lb-heading { margin: 0 0 16px 0; }
            .lb-text { margin: 0 0 16px 0; }
            .lb-image-wrapper { margin: 0 0 16px 0; }
            .lb-button:hover { opacity: 0.9; }
            .lb-columns { margin: 0 0 16px 0; }
        `}}oo.register("email",new Kf);oo.register("page",new T2);oo.register("campaign",new Kf);export{wi as L,m2 as P,L2 as R,f as _,A2 as a,R2 as b,B2 as c,_2 as d,Ge as e,x as f,Bm as i,r as j,Zo as m,I2 as r};
