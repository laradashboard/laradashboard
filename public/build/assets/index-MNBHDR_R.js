function Ha(t,l){for(var i=0;i<l.length;i++){const s=l[i];if(typeof s!="string"&&!Array.isArray(s)){for(const c in s)if(c!=="default"&&!(c in t)){const d=Object.getOwnPropertyDescriptor(s,c);d&&Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:()=>s[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Fa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Na={exports:{}},Vo={},Ea={exports:{}},$e={};var jd;function Ap(){if(jd)return $e;jd=1;var t=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function N(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,k={};function C(_,U,me){this.props=_,this.context=U,this.refs=k,this.updater=me||S}C.prototype.isReactComponent={},C.prototype.setState=function(_,U){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,U,"setState")},C.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function j(){}j.prototype=C.prototype;function L(_,U,me){this.props=_,this.context=U,this.refs=k,this.updater=me||S}var E=L.prototype=new j;E.constructor=L,$(E,C.prototype),E.isPureReactComponent=!0;var A=Array.isArray,R=Object.prototype.hasOwnProperty,M={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function H(_,U,me){var K,ne={},W=null,X=null;if(U!=null)for(K in U.ref!==void 0&&(X=U.ref),U.key!==void 0&&(W=""+U.key),U)R.call(U,K)&&!P.hasOwnProperty(K)&&(ne[K]=U[K]);var J=arguments.length-2;if(J===1)ne.children=me;else if(1<J){for(var ie=Array(J),re=0;re<J;re++)ie[re]=arguments[re+2];ne.children=ie}if(_&&_.defaultProps)for(K in J=_.defaultProps,J)ne[K]===void 0&&(ne[K]=J[K]);return{$$typeof:t,type:_,key:W,ref:X,props:ne,_owner:M.current}}function G(_,U){return{$$typeof:t,type:_.type,key:U,ref:_.ref,props:_.props,_owner:_._owner}}function V(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function Y(_){var U={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(me){return U[me]})}var O=/\/+/g;function ee(_,U){return typeof _=="object"&&_!==null&&_.key!=null?Y(""+_.key):U.toString(36)}function se(_,U,me,K,ne){var W=typeof _;(W==="undefined"||W==="boolean")&&(_=null);var X=!1;if(_===null)X=!0;else switch(W){case"string":case"number":X=!0;break;case"object":switch(_.$$typeof){case t:case l:X=!0}}if(X)return X=_,ne=ne(X),_=K===""?"."+ee(X,0):K,A(ne)?(me="",_!=null&&(me=_.replace(O,"$&/")+"/"),se(ne,U,me,"",function(re){return re})):ne!=null&&(V(ne)&&(ne=G(ne,me+(!ne.key||X&&X.key===ne.key?"":(""+ne.key).replace(O,"$&/")+"/")+_)),U.push(ne)),1;if(X=0,K=K===""?".":K+":",A(_))for(var J=0;J<_.length;J++){W=_[J];var ie=K+ee(W,J);X+=se(W,U,me,ie,ne)}else if(ie=N(_),typeof ie=="function")for(_=ie.call(_),J=0;!(W=_.next()).done;)W=W.value,ie=K+ee(W,J++),X+=se(W,U,me,ie,ne);else if(W==="object")throw U=String(_),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return X}function ce(_,U,me){if(_==null)return _;var K=[],ne=0;return se(_,K,"","",function(W){return U.call(me,W,ne++)}),K}function he(_){if(_._status===-1){var U=_._result;U=U(),U.then(function(me){(_._status===0||_._status===-1)&&(_._status=1,_._result=me)},function(me){(_._status===0||_._status===-1)&&(_._status=2,_._result=me)}),_._status===-1&&(_._status=0,_._result=U)}if(_._status===1)return _._result.default;throw _._result}var ve={current:null},te={transition:null},ae={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:te,ReactCurrentOwner:M};function le(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:ce,forEach:function(_,U,me){ce(_,function(){U.apply(this,arguments)},me)},count:function(_){var U=0;return ce(_,function(){U++}),U},toArray:function(_){return ce(_,function(U){return U})||[]},only:function(_){if(!V(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},$e.Component=C,$e.Fragment=i,$e.Profiler=c,$e.PureComponent=L,$e.StrictMode=s,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,$e.act=le,$e.cloneElement=function(_,U,me){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var K=$({},_.props),ne=_.key,W=_.ref,X=_._owner;if(U!=null){if(U.ref!==void 0&&(W=U.ref,X=M.current),U.key!==void 0&&(ne=""+U.key),_.type&&_.type.defaultProps)var J=_.type.defaultProps;for(ie in U)R.call(U,ie)&&!P.hasOwnProperty(ie)&&(K[ie]=U[ie]===void 0&&J!==void 0?J[ie]:U[ie])}var ie=arguments.length-2;if(ie===1)K.children=me;else if(1<ie){J=Array(ie);for(var re=0;re<ie;re++)J[re]=arguments[re+2];K.children=J}return{$$typeof:t,type:_.type,key:ne,ref:W,props:K,_owner:X}},$e.createContext=function(_){return _={$$typeof:g,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:d,_context:_},_.Consumer=_},$e.createElement=H,$e.createFactory=function(_){var U=H.bind(null,_);return U.type=_,U},$e.createRef=function(){return{current:null}},$e.forwardRef=function(_){return{$$typeof:m,render:_}},$e.isValidElement=V,$e.lazy=function(_){return{$$typeof:x,_payload:{_status:-1,_result:_},_init:he}},$e.memo=function(_,U){return{$$typeof:b,type:_,compare:U===void 0?null:U}},$e.startTransition=function(_){var U=te.transition;te.transition={};try{_()}finally{te.transition=U}},$e.unstable_act=le,$e.useCallback=function(_,U){return ve.current.useCallback(_,U)},$e.useContext=function(_){return ve.current.useContext(_)},$e.useDebugValue=function(){},$e.useDeferredValue=function(_){return ve.current.useDeferredValue(_)},$e.useEffect=function(_,U){return ve.current.useEffect(_,U)},$e.useId=function(){return ve.current.useId()},$e.useImperativeHandle=function(_,U,me){return ve.current.useImperativeHandle(_,U,me)},$e.useInsertionEffect=function(_,U){return ve.current.useInsertionEffect(_,U)},$e.useLayoutEffect=function(_,U){return ve.current.useLayoutEffect(_,U)},$e.useMemo=function(_,U){return ve.current.useMemo(_,U)},$e.useReducer=function(_,U,me){return ve.current.useReducer(_,U,me)},$e.useRef=function(_){return ve.current.useRef(_)},$e.useState=function(_){return ve.current.useState(_)},$e.useSyncExternalStore=function(_,U,me){return ve.current.useSyncExternalStore(_,U,me)},$e.useTransition=function(){return ve.current.useTransition()},$e.version="18.3.1",$e}var Nd;function Wa(){return Nd||(Nd=1,Ea.exports=Ap()),Ea.exports}var Ed;function Lp(){if(Ed)return Vo;Ed=1;var t=Wa(),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function g(m,h,b){var x,v={},N=null,S=null;b!==void 0&&(N=""+b),h.key!==void 0&&(N=""+h.key),h.ref!==void 0&&(S=h.ref);for(x in h)s.call(h,x)&&!d.hasOwnProperty(x)&&(v[x]=h[x]);if(m&&m.defaultProps)for(x in h=m.defaultProps,h)v[x]===void 0&&(v[x]=h[x]);return{$$typeof:l,type:m,key:N,ref:S,props:v,_owner:c.current}}return Vo.Fragment=i,Vo.jsx=g,Vo.jsxs=g,Vo}var $d;function Bp(){return $d||($d=1,Na.exports=Lp()),Na.exports}var r=Bp();const Ip=Fa(r),A2=Ha({__proto__:null,default:Ip},[r]);var y=Wa();const Ve=Fa(y),L2=Ha({__proto__:null,default:Ve},[y]);var $a={exports:{}},Mt={},Ta={exports:{}},Ra={};var Td;function _p(){return Td||(Td=1,(function(t){function l(te,ae){var le=te.length;te.push(ae);e:for(;0<le;){var _=le-1>>>1,U=te[_];if(0<c(U,ae))te[_]=ae,te[le]=U,le=_;else break e}}function i(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var ae=te[0],le=te.pop();if(le!==ae){te[0]=le;e:for(var _=0,U=te.length,me=U>>>1;_<me;){var K=2*(_+1)-1,ne=te[K],W=K+1,X=te[W];if(0>c(ne,le))W<U&&0>c(X,ne)?(te[_]=X,te[W]=le,_=W):(te[_]=ne,te[K]=le,_=K);else if(W<U&&0>c(X,le))te[_]=X,te[W]=le,_=W;else break e}}return ae}function c(te,ae){var le=te.sortIndex-ae.sortIndex;return le!==0?le:te.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var g=Date,m=g.now();t.unstable_now=function(){return g.now()-m}}var h=[],b=[],x=1,v=null,N=3,S=!1,$=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(te){for(var ae=i(b);ae!==null;){if(ae.callback===null)s(b);else if(ae.startTime<=te)s(b),ae.sortIndex=ae.expirationTime,l(h,ae);else break;ae=i(b)}}function A(te){if(k=!1,E(te),!$)if(i(h)!==null)$=!0,he(R);else{var ae=i(b);ae!==null&&ve(A,ae.startTime-te)}}function R(te,ae){$=!1,k&&(k=!1,j(H),H=-1),S=!0;var le=N;try{for(E(ae),v=i(h);v!==null&&(!(v.expirationTime>ae)||te&&!Y());){var _=v.callback;if(typeof _=="function"){v.callback=null,N=v.priorityLevel;var U=_(v.expirationTime<=ae);ae=t.unstable_now(),typeof U=="function"?v.callback=U:v===i(h)&&s(h),E(ae)}else s(h);v=i(h)}if(v!==null)var me=!0;else{var K=i(b);K!==null&&ve(A,K.startTime-ae),me=!1}return me}finally{v=null,N=le,S=!1}}var M=!1,P=null,H=-1,G=5,V=-1;function Y(){return!(t.unstable_now()-V<G)}function O(){if(P!==null){var te=t.unstable_now();V=te;var ae=!0;try{ae=P(!0,te)}finally{ae?ee():(M=!1,P=null)}}else M=!1}var ee;if(typeof L=="function")ee=function(){L(O)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ce=se.port2;se.port1.onmessage=O,ee=function(){ce.postMessage(null)}}else ee=function(){C(O,0)};function he(te){P=te,M||(M=!0,ee())}function ve(te,ae){H=C(function(){te(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){$||S||($=!0,he(R))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return i(h)},t.unstable_next=function(te){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var le=N;N=ae;try{return te()}finally{N=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ae){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var le=N;N=te;try{return ae()}finally{N=le}},t.unstable_scheduleCallback=function(te,ae,le){var _=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?_+le:_):le=_,te){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=le+U,te={id:x++,callback:ae,priorityLevel:te,startTime:le,expirationTime:U,sortIndex:-1},le>_?(te.sortIndex=le,l(b,te),i(h)===null&&te===i(b)&&(k?(j(H),H=-1):k=!0,ve(A,le-_))):(te.sortIndex=U,l(h,te),$||S||($=!0,he(R))),te},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(te){var ae=N;return function(){var le=N;N=ae;try{return te.apply(this,arguments)}finally{N=le}}}})(Ra)),Ra}var Rd;function Dp(){return Rd||(Rd=1,Ta.exports=_p()),Ta.exports}var Ad;function Pp(){if(Ad)return Mt;Ad=1;var t=Wa(),l=Dp();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,c={};function d(e,n){g(e,n),g(e+"Capture",n)}function g(e,n){for(c[e]=n,e=0;e<n.length;e++)s.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function N(e){return h.call(v,e)?!0:h.call(x,e)?!1:b.test(e)?v[e]=!0:(x[e]=!0,!1)}function S(e,n,o,a){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $(e,n,o,a){if(n===null||typeof n>"u"||S(e,n,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function k(e,n,o,a,u,p,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new k(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(j,L);C[n]=new k(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(j,L);C[n]=new k(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(j,L);C[n]=new k(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,n,o,a){var u=C.hasOwnProperty(n)?C[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&($(n,o,u,a)&&(o=null),a||u===null?N(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):u.mustUseProperty?e[u.propertyName]=o===null?u.type===3?!1:"":o:(n=u.attributeName,a=u.attributeNamespace,o===null?e.removeAttribute(n):(u=u.type,o=u===3||u===4&&o===!0?"":""+o,a?e.setAttributeNS(a,n,o):e.setAttribute(n,o))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),Y=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),te=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,_;function U(e){if(_===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+e}var me=!1;function K(e,n){if(!e||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var a=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){a=F}e.call(n.prototype)}else{try{throw Error()}catch(F){a=F}e()}}catch(F){if(F&&a&&typeof F.stack=="string"){for(var u=F.stack.split(`
`),p=a.stack.split(`
`),w=u.length-1,T=p.length-1;1<=w&&0<=T&&u[w]!==p[T];)T--;for(;1<=w&&0<=T;w--,T--)if(u[w]!==p[T]){if(w!==1||T!==1)do if(w--,T--,0>T||u[w]!==p[T]){var B=`
`+u[w].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=w&&0<=T);break}}}finally{me=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?U(e):""}function ne(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1),e;case 11:return e=K(e.type.render,!1),e;case 1:return e=K(e.type,!0),e;default:return""}}function W(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case M:return"Portal";case G:return"Profiler";case H:return"StrictMode";case ee:return"Suspense";case se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case V:return(e._context.displayName||"Context")+".Provider";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return n=e.displayName||null,n!==null?n:W(e.type)||"Memo";case he:n=e._payload,e=e._init;try{return W(e(n))}catch{}}return null}function X(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(n);case 8:return n===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function J(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ie(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function re(e){var n=ie(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,p=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(w){a=""+w,p.call(this,w)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function je(e){e._valueTracker||(e._valueTracker=re(e))}function Te(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=ie(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function Ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ie(e,n){var o=n.checked;return le({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function $t(e,n){var o=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;o=J(n.value!=null?n.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ee(e,n){n=n.checked,n!=null&&E(e,"checked",n,!1)}function Tt(e,n){Ee(e,n);var o=J(n.value),a=n.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Rt(e,n.type,o):n.hasOwnProperty("defaultValue")&&Rt(e,n.type,J(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function zn(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Rt(e,n,o){(n!=="number"||Ne(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var et=Array.isArray;function zt(e,n,o,a){if(e=e.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<e.length;o++)u=n.hasOwnProperty("$"+e[o].value),e[o].selected!==u&&(e[o].selected=u),u&&a&&(e[o].defaultSelected=!0)}else{for(o=""+J(o),n=null,u=0;u<e.length;u++){if(e[u].value===o){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function xn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return le({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ur(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(et(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:J(o)}}function On(e,n){var o=J(n.value),a=J(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function Rr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Ar(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Ar(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ot,yn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,o,a,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ot.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function vn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lr=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(e){Lr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),pt[n]=pt[e]})});function Br(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||pt.hasOwnProperty(e)&&pt[e]?(""+n).trim():n+"px"}function Ir(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var a=o.indexOf("--")===0,u=Br(o,n[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,u):e[o]=u}}var $n=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(e,n){if(n){if($n[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function dr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,bn=null,De=null;function it(e){if(e=Ro(e)){if(typeof gr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=Bl(n),gr(e.stateNode,e.type,n))}}function tt(e){bn?De?De.push(e):De=[e]:bn=e}function Ht(){if(bn){var e=bn,n=De;if(De=bn=null,it(e),n)for(e=0;e<n.length;e++)it(n[e])}}function st(e,n){return e(n)}function at(){}var ht=!1;function qt(e,n,o){if(ht)return e(n,o);ht=!0;try{return st(e,n,o)}finally{ht=!1,(bn!==null||De!==null)&&(at(),Ht())}}function ze(e,n){var o=e.stateNode;if(o===null)return null;var a=Bl(o);if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var St=!1;if(m)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){St=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{St=!1}function Je(e,n,o,a,u,p,w,T,B){var F=Array.prototype.slice.call(arguments,3);try{n.apply(o,F)}catch(q){this.onError(q)}}var At=!1,mt=null,xt=!1,Jt=null,pr={onError:function(e){At=!0,mt=e}};function Lt(e,n,o,a,u,p,w,T,B){At=!1,mt=null,Je.apply(pr,arguments)}function uo(e,n,o,a,u,p,w,T,B){if(Lt.apply(this,arguments),At){if(At){var F=mt;At=!1,mt=null}else throw Error(i(198));xt||(xt=!0,Jt=F)}}function Tn(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function sl(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function al(e){if(Tn(e)!==e)throw Error(i(188))}function Vi(e){var n=e.alternate;if(!n){if(n=Tn(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,a=n;;){var u=o.return;if(u===null)break;var p=u.alternate;if(p===null){if(a=u.return,a!==null){o=a;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===o)return al(u),e;if(p===a)return al(u),n;p=p.sibling}throw Error(i(188))}if(o.return!==a.return)o=u,a=p;else{for(var w=!1,T=u.child;T;){if(T===o){w=!0,o=u,a=p;break}if(T===a){w=!0,a=u,o=p;break}T=T.sibling}if(!w){for(T=p.child;T;){if(T===o){w=!0,o=p,a=u;break}if(T===a){w=!0,a=p,o=u;break}T=T.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function cl(e){return e=Vi(e),e!==null?ul(e):null}function ul(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ul(e);if(n!==null)return n;e=e.sibling}return null}var dl=l.unstable_scheduleCallback,fl=l.unstable_cancelCallback,gl=l.unstable_shouldYield,_r=l.unstable_requestPaint,fe=l.unstable_now,Oe=l.unstable_getCurrentPriorityLevel,We=l.unstable_ImmediatePriority,Ft=l.unstable_UserBlockingPriority,Wt=l.unstable_NormalPriority,wn=l.unstable_LowPriority,kn=l.unstable_IdlePriority,an=null,nt=null;function Rn(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(an,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Yf,pl=Math.log,Ki=Math.LN2;function Yf(e){return e>>>=0,e===0?32:31-(pl(e)/Ki|0)|0}var hl=64,ml=4194304;function fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xl(e,n){var o=e.pendingLanes;if(o===0)return 0;var a=0,u=e.suspendedLanes,p=e.pingedLanes,w=o&268435455;if(w!==0){var T=w&~u;T!==0?a=fo(T):(p&=w,p!==0&&(a=fo(p)))}else w=o&~u,w!==0?a=fo(w):p!==0&&(a=fo(p));if(a===0)return 0;if(n!==0&&n!==a&&(n&u)===0&&(u=a&-a,p=n&-n,u>=p||u===16&&(p&4194240)!==0))return n;if((a&4)!==0&&(a|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)o=31-Zt(n),u=1<<o,a|=e[o],n&=~u;return a}function Qf(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qf(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Zt(p),T=1<<w,B=u[w];B===-1?((T&o)===0||(T&a)!==0)&&(u[w]=Qf(T,n)):B<=n&&(e.expiredLanes|=T),p&=~T}}function Gi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nc(){var e=hl;return hl<<=1,(hl&4194240)===0&&(hl=64),e}function Xi(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function go(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Zt(n),e[n]=o}function Jf(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var u=31-Zt(o),p=1<<u;n[u]=0,a[u]=-1,e[u]=-1,o&=~p}}function Yi(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-Zt(o),u=1<<a;u&n|e[a]&n&&(e[a]|=n),o&=~u}}var Be=0;function rc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var oc,Qi,lc,ic,sc,qi=!1,yl=[],Wn=null,Un=null,Vn=null,po=new Map,ho=new Map,Kn=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ac(e,n){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":po.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function mo(e,n,o,a,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:p,targetContainers:[u]},n!==null&&(n=Ro(n),n!==null&&Qi(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function eg(e,n,o,a,u){switch(n){case"focusin":return Wn=mo(Wn,e,n,o,a,u),!0;case"dragenter":return Un=mo(Un,e,n,o,a,u),!0;case"mouseover":return Vn=mo(Vn,e,n,o,a,u),!0;case"pointerover":var p=u.pointerId;return po.set(p,mo(po.get(p)||null,e,n,o,a,u)),!0;case"gotpointercapture":return p=u.pointerId,ho.set(p,mo(ho.get(p)||null,e,n,o,a,u)),!0}return!1}function cc(e){var n=hr(e.target);if(n!==null){var o=Tn(n);if(o!==null){if(n=o.tag,n===13){if(n=sl(o),n!==null){e.blockedOn=n,sc(e.priority,function(){lc(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Zi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);Fn=a,o.target.dispatchEvent(a),Fn=null}else return n=Ro(o),n!==null&&Qi(n),e.blockedOn=o,!1;n.shift()}return!0}function uc(e,n,o){vl(e)&&o.delete(n)}function tg(){qi=!1,Wn!==null&&vl(Wn)&&(Wn=null),Un!==null&&vl(Un)&&(Un=null),Vn!==null&&vl(Vn)&&(Vn=null),po.forEach(uc),ho.forEach(uc)}function xo(e,n){e.blockedOn===n&&(e.blockedOn=null,qi||(qi=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,tg)))}function yo(e){function n(u){return xo(u,e)}if(0<yl.length){xo(yl[0],e);for(var o=1;o<yl.length;o++){var a=yl[o];a.blockedOn===e&&(a.blockedOn=null)}}for(Wn!==null&&xo(Wn,e),Un!==null&&xo(Un,e),Vn!==null&&xo(Vn,e),po.forEach(n),ho.forEach(n),o=0;o<Kn.length;o++)a=Kn[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<Kn.length&&(o=Kn[0],o.blockedOn===null);)cc(o),o.blockedOn===null&&Kn.shift()}var Dr=A.ReactCurrentBatchConfig,bl=!0;function ng(e,n,o,a){var u=Be,p=Dr.transition;Dr.transition=null;try{Be=1,Ji(e,n,o,a)}finally{Be=u,Dr.transition=p}}function rg(e,n,o,a){var u=Be,p=Dr.transition;Dr.transition=null;try{Be=4,Ji(e,n,o,a)}finally{Be=u,Dr.transition=p}}function Ji(e,n,o,a){if(bl){var u=Zi(e,n,o,a);if(u===null)ms(e,n,a,wl,o),ac(e,a);else if(eg(u,e,n,o,a))a.stopPropagation();else if(ac(e,a),n&4&&-1<Zf.indexOf(e)){for(;u!==null;){var p=Ro(u);if(p!==null&&oc(p),p=Zi(e,n,o,a),p===null&&ms(e,n,a,wl,o),p===u)break;u=p}u!==null&&a.stopPropagation()}else ms(e,n,a,null,o)}}var wl=null;function Zi(e,n,o,a){if(wl=null,e=fr(a),e=hr(e),e!==null)if(n=Tn(e),n===null)e=null;else if(o=n.tag,o===13){if(e=sl(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return wl=e,null}function dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oe()){case We:return 1;case Ft:return 4;case Wt:case wn:return 16;case kn:return 536870912;default:return 16}default:return 16}}var Gn=null,es=null,kl=null;function fc(){if(kl)return kl;var e,n=es,o=n.length,a,u="value"in Gn?Gn.value:Gn.textContent,p=u.length;for(e=0;e<o&&n[e]===u[e];e++);var w=o-e;for(a=1;a<=w&&n[o-a]===u[p-a];a++);return kl=u.slice(e,1<a?1-a:void 0)}function Cl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sl(){return!0}function gc(){return!1}function Ut(e){function n(o,a,u,p,w){this._reactName=o,this._targetInst=u,this.type=a,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(o=e[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Sl:gc,this.isPropagationStopped=gc,this}return le(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),n}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Ut(Pr),vo=le({},Pr,{view:0,detail:0}),og=Ut(vo),ns,rs,bo,jl=le({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(ns=e.screenX-bo.screenX,rs=e.screenY-bo.screenY):rs=ns=0,bo=e),ns)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),pc=Ut(jl),lg=le({},jl,{dataTransfer:0}),ig=Ut(lg),sg=le({},vo,{relatedTarget:0}),os=Ut(sg),ag=le({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),cg=Ut(ag),ug=le({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=Ut(ug),fg=le({},Pr,{data:0}),hc=Ut(fg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=hg[e])?!!n[e]:!1}function ls(){return mg}var xg=le({},vo,{key:function(e){if(e.key){var n=gg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?Cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=Ut(xg),vg=le({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=Ut(vg),bg=le({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),wg=Ut(bg),kg=le({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=Ut(kg),Sg=le({},jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=Ut(Sg),Ng=[9,13,27,32],is=m&&"CompositionEvent"in window,wo=null;m&&"documentMode"in document&&(wo=document.documentMode);var Eg=m&&"TextEvent"in window&&!wo,xc=m&&(!is||wo&&8<wo&&11>=wo),yc=" ",vc=!1;function bc(e,n){switch(e){case"keyup":return Ng.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function $g(e,n){switch(e){case"compositionend":return wc(n);case"keypress":return n.which!==32?null:(vc=!0,yc);case"textInput":return e=n.data,e===yc&&vc?null:e;default:return null}}function Tg(e,n){if(Mr)return e==="compositionend"||!is&&bc(e,n)?(e=fc(),kl=es=Gn=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Rg[e.type]:n==="textarea"}function Cc(e,n,o,a){tt(a),n=Rl(n,"onChange"),0<n.length&&(o=new ts("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var ko=null,Co=null;function Ag(e){Hc(e,0)}function Nl(e){var n=Wr(e);if(Te(n))return e}function Lg(e,n){if(e==="change")return n}var Sc=!1;if(m){var ss;if(m){var as="oninput"in document;if(!as){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),as=typeof jc.oninput=="function"}ss=as}else ss=!1;Sc=ss&&(!document.documentMode||9<document.documentMode)}function Nc(){ko&&(ko.detachEvent("onpropertychange",Ec),Co=ko=null)}function Ec(e){if(e.propertyName==="value"&&Nl(Co)){var n=[];Cc(n,Co,e,fr(e)),qt(Ag,n)}}function Bg(e,n,o){e==="focusin"?(Nc(),ko=n,Co=o,ko.attachEvent("onpropertychange",Ec)):e==="focusout"&&Nc()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nl(Co)}function _g(e,n){if(e==="click")return Nl(n)}function Dg(e,n){if(e==="input"||e==="change")return Nl(n)}function Pg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:Pg;function So(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var u=o[a];if(!h.call(n,u)||!cn(e[u],n[u]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tc(e,n){var o=$c(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$c(o)}}function Rc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ac(){for(var e=window,n=Ne();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Ne(e.document)}return n}function cs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Mg(e){var n=Ac(),o=e.focusedElem,a=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&Rc(o.ownerDocument.documentElement,o)){if(a!==null&&cs(o)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=o.textContent.length,p=Math.min(a.start,u);a=a.end===void 0?p:Math.min(a.end,u),!e.extend&&p>a&&(u=a,a=p,p=u),u=Tc(o,p);var w=Tc(o,a);u&&w&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),p>a?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zg=m&&"documentMode"in document&&11>=document.documentMode,zr=null,us=null,jo=null,ds=!1;function Lc(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ds||zr==null||zr!==Ne(a)||(a=zr,"selectionStart"in a&&cs(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jo&&So(jo,a)||(jo=a,a=Rl(us,"onSelect"),0<a.length&&(n=new ts("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=zr)))}function El(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Or={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},fs={},Bc={};m&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function $l(e){if(fs[e])return fs[e];if(!Or[e])return e;var n=Or[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Bc)return fs[e]=n[o];return e}var Ic=$l("animationend"),_c=$l("animationiteration"),Dc=$l("animationstart"),Pc=$l("transitionend"),Mc=new Map,zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,n){Mc.set(e,n),d(n,[e])}for(var gs=0;gs<zc.length;gs++){var ps=zc[gs],Og=ps.toLowerCase(),Hg=ps[0].toUpperCase()+ps.slice(1);Xn(Og,"on"+Hg)}Xn(Ic,"onAnimationEnd"),Xn(_c,"onAnimationIteration"),Xn(Dc,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Pc,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function Oc(e,n,o){var a=e.type||"unknown-event";e.currentTarget=o,uo(a,n,void 0,e),e.currentTarget=null}function Hc(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],u=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var w=a.length-1;0<=w;w--){var T=a[w],B=T.instance,F=T.currentTarget;if(T=T.listener,B!==p&&u.isPropagationStopped())break e;Oc(u,T,F),p=B}else for(w=0;w<a.length;w++){if(T=a[w],B=T.instance,F=T.currentTarget,T=T.listener,B!==p&&u.isPropagationStopped())break e;Oc(u,T,F),p=B}}}if(xt)throw e=Jt,xt=!1,Jt=null,e}function He(e,n){var o=n[ks];o===void 0&&(o=n[ks]=new Set);var a=e+"__bubble";o.has(a)||(Fc(n,e,2,!1),o.add(a))}function hs(e,n,o){var a=0;n&&(a|=4),Fc(o,e,a,n)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[Tl]){e[Tl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Fg.has(o)||hs(o,!1,e),hs(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Tl]||(n[Tl]=!0,hs("selectionchange",!1,n))}}function Fc(e,n,o,a){switch(dc(n)){case 1:var u=ng;break;case 4:u=rg;break;default:u=Ji}o=u.bind(null,n,o,e),u=void 0,!St||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,o,{capture:!0,passive:u}):e.addEventListener(n,o,!0):u!==void 0?e.addEventListener(n,o,{passive:u}):e.addEventListener(n,o,!1)}function ms(e,n,o,a,u){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var T=a.stateNode.containerInfo;if(T===u||T.nodeType===8&&T.parentNode===u)break;if(w===4)for(w=a.return;w!==null;){var B=w.tag;if((B===3||B===4)&&(B=w.stateNode.containerInfo,B===u||B.nodeType===8&&B.parentNode===u))return;w=w.return}for(;T!==null;){if(w=hr(T),w===null)return;if(B=w.tag,B===5||B===6){a=p=w;continue e}T=T.parentNode}}a=a.return}qt(function(){var F=p,q=fr(o),Z=[];e:{var Q=Mc.get(e);if(Q!==void 0){var ue=ts,ge=e;switch(e){case"keypress":if(Cl(o)===0)break e;case"keydown":case"keyup":ue=yg;break;case"focusin":ge="focus",ue=os;break;case"focusout":ge="blur",ue=os;break;case"beforeblur":case"afterblur":ue=os;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=wg;break;case Ic:case _c:case Dc:ue=cg;break;case Pc:ue=Cg;break;case"scroll":ue=og;break;case"wheel":ue=jg;break;case"copy":case"cut":case"paste":ue=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=mc}var pe=(n&4)!==0,qe=!pe&&e==="scroll",D=pe?Q!==null?Q+"Capture":null:Q;pe=[];for(var I=F,z;I!==null;){z=I;var oe=z.stateNode;if(z.tag===5&&oe!==null&&(z=oe,D!==null&&(oe=ze(I,D),oe!=null&&pe.push($o(I,oe,z)))),qe)break;I=I.return}0<pe.length&&(Q=new ue(Q,ge,null,o,q),Z.push({event:Q,listeners:pe}))}}if((n&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",ue=e==="mouseout"||e==="pointerout",Q&&o!==Fn&&(ge=o.relatedTarget||o.fromElement)&&(hr(ge)||ge[An]))break e;if((ue||Q)&&(Q=q.window===q?q:(Q=q.ownerDocument)?Q.defaultView||Q.parentWindow:window,ue?(ge=o.relatedTarget||o.toElement,ue=F,ge=ge?hr(ge):null,ge!==null&&(qe=Tn(ge),ge!==qe||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ue=null,ge=F),ue!==ge)){if(pe=pc,oe="onMouseLeave",D="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(pe=mc,oe="onPointerLeave",D="onPointerEnter",I="pointer"),qe=ue==null?Q:Wr(ue),z=ge==null?Q:Wr(ge),Q=new pe(oe,I+"leave",ue,o,q),Q.target=qe,Q.relatedTarget=z,oe=null,hr(q)===F&&(pe=new pe(D,I+"enter",ge,o,q),pe.target=z,pe.relatedTarget=qe,oe=pe),qe=oe,ue&&ge)t:{for(pe=ue,D=ge,I=0,z=pe;z;z=Hr(z))I++;for(z=0,oe=D;oe;oe=Hr(oe))z++;for(;0<I-z;)pe=Hr(pe),I--;for(;0<z-I;)D=Hr(D),z--;for(;I--;){if(pe===D||D!==null&&pe===D.alternate)break t;pe=Hr(pe),D=Hr(D)}pe=null}else pe=null;ue!==null&&Wc(Z,Q,ue,pe,!1),ge!==null&&qe!==null&&Wc(Z,qe,ge,pe,!0)}}e:{if(Q=F?Wr(F):window,ue=Q.nodeName&&Q.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Q.type==="file")var xe=Lg;else if(kc(Q))if(Sc)xe=Dg;else{xe=Ig;var be=Bg}else(ue=Q.nodeName)&&ue.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(xe=_g);if(xe&&(xe=xe(e,F))){Cc(Z,xe,o,q);break e}be&&be(e,Q,F),e==="focusout"&&(be=Q._wrapperState)&&be.controlled&&Q.type==="number"&&Rt(Q,"number",Q.value)}switch(be=F?Wr(F):window,e){case"focusin":(kc(be)||be.contentEditable==="true")&&(zr=be,us=F,jo=null);break;case"focusout":jo=us=zr=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,Lc(Z,o,q);break;case"selectionchange":if(zg)break;case"keydown":case"keyup":Lc(Z,o,q)}var we;if(is)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Mr?bc(e,o)&&(Se="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(xc&&o.locale!=="ko"&&(Mr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Mr&&(we=fc()):(Gn=q,es="value"in Gn?Gn.value:Gn.textContent,Mr=!0)),be=Rl(F,Se),0<be.length&&(Se=new hc(Se,e,null,o,q),Z.push({event:Se,listeners:be}),we?Se.data=we:(we=wc(o),we!==null&&(Se.data=we)))),(we=Eg?$g(e,o):Tg(e,o))&&(F=Rl(F,"onBeforeInput"),0<F.length&&(q=new hc("onBeforeInput","beforeinput",null,o,q),Z.push({event:q,listeners:F}),q.data=we))}Hc(Z,n)})}function $o(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Rl(e,n){for(var o=n+"Capture",a=[];e!==null;){var u=e,p=u.stateNode;u.tag===5&&p!==null&&(u=p,p=ze(e,o),p!=null&&a.unshift($o(e,p,u)),p=ze(e,n),p!=null&&a.push($o(e,p,u))),e=e.return}return a}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wc(e,n,o,a,u){for(var p=n._reactName,w=[];o!==null&&o!==a;){var T=o,B=T.alternate,F=T.stateNode;if(B!==null&&B===a)break;T.tag===5&&F!==null&&(T=F,u?(B=ze(o,p),B!=null&&w.unshift($o(o,B,T))):u||(B=ze(o,p),B!=null&&w.push($o(o,B,T)))),o=o.return}w.length!==0&&e.push({event:n,listeners:w})}var Wg=/\r\n?/g,Ug=/\u0000|\uFFFD/g;function Uc(e){return(typeof e=="string"?e:""+e).replace(Wg,`
`).replace(Ug,"")}function Al(e,n,o){if(n=Uc(n),Uc(e)!==n&&o)throw Error(i(425))}function Ll(){}var xs=null,ys=null;function vs(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bs=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,Vc=typeof Promise=="function"?Promise:void 0,Kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Vc<"u"?function(e){return Vc.resolve(null).then(e).catch(Gg)}:bs;function Gg(e){setTimeout(function(){throw e})}function ws(e,n){var o=n,a=0;do{var u=o.nextSibling;if(e.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(a===0){e.removeChild(u),yo(n);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=u}while(o);yo(n)}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Fr,To="__reactProps$"+Fr,An="__reactContainer$"+Fr,ks="__reactEvents$"+Fr,Xg="__reactListeners$"+Fr,Yg="__reactHandles$"+Fr;function hr(e){var n=e[Cn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[An]||o[Cn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Kc(e);e!==null;){if(o=e[Cn])return o;e=Kc(e)}return n}e=o,o=e.parentNode}return null}function Ro(e){return e=e[Cn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Bl(e){return e[To]||null}var Cs=[],Ur=-1;function Qn(e){return{current:e}}function Fe(e){0>Ur||(e.current=Cs[Ur],Cs[Ur]=null,Ur--)}function Pe(e,n){Ur++,Cs[Ur]=e.current,e.current=n}var qn={},bt=Qn(qn),Bt=Qn(!1),mr=qn;function Vr(e,n){var o=e.type.contextTypes;if(!o)return qn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},p;for(p in o)u[p]=n[p];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function It(e){return e=e.childContextTypes,e!=null}function Il(){Fe(Bt),Fe(bt)}function Gc(e,n,o){if(bt.current!==qn)throw Error(i(168));Pe(bt,n),Pe(Bt,o)}function Xc(e,n,o){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(i(108,X(e)||"Unknown",u));return le({},o,a)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,mr=bt.current,Pe(bt,e),Pe(Bt,Bt.current),!0}function Yc(e,n,o){var a=e.stateNode;if(!a)throw Error(i(169));o?(e=Xc(e,n,mr),a.__reactInternalMemoizedMergedChildContext=e,Fe(Bt),Fe(bt),Pe(bt,e)):Fe(Bt),Pe(Bt,o)}var Ln=null,Dl=!1,Ss=!1;function Qc(e){Ln===null?Ln=[e]:Ln.push(e)}function Qg(e){Dl=!0,Qc(e)}function Jn(){if(!Ss&&Ln!==null){Ss=!0;var e=0,n=Be;try{var o=Ln;for(Be=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}Ln=null,Dl=!1}catch(u){throw Ln!==null&&(Ln=Ln.slice(e+1)),dl(We,Jn),u}finally{Be=n,Ss=!1}}return null}var Kr=[],Gr=0,Pl=null,Ml=0,en=[],tn=0,xr=null,Bn=1,In="";function yr(e,n){Kr[Gr++]=Ml,Kr[Gr++]=Pl,Pl=e,Ml=n}function qc(e,n,o){en[tn++]=Bn,en[tn++]=In,en[tn++]=xr,xr=e;var a=Bn;e=In;var u=32-Zt(a)-1;a&=~(1<<u),o+=1;var p=32-Zt(n)+u;if(30<p){var w=u-u%5;p=(a&(1<<w)-1).toString(32),a>>=w,u-=w,Bn=1<<32-Zt(n)+u|o<<u|a,In=p+e}else Bn=1<<p|o<<u|a,In=e}function js(e){e.return!==null&&(yr(e,1),qc(e,1,0))}function Ns(e){for(;e===Pl;)Pl=Kr[--Gr],Kr[Gr]=null,Ml=Kr[--Gr],Kr[Gr]=null;for(;e===xr;)xr=en[--tn],en[tn]=null,In=en[--tn],en[tn]=null,Bn=en[--tn],en[tn]=null}var Vt=null,Kt=null,Ue=!1,un=null;function Jc(e,n){var o=ln(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Zc(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Vt=e,Kt=Yn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Vt=e,Kt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=xr!==null?{id:Bn,overflow:In}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=ln(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Vt=e,Kt=null,!0):!1;default:return!1}}function Es(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $s(e){if(Ue){var n=Kt;if(n){var o=n;if(!Zc(e,n)){if(Es(e))throw Error(i(418));n=Yn(o.nextSibling);var a=Vt;n&&Zc(e,n)?Jc(a,o):(e.flags=e.flags&-4097|2,Ue=!1,Vt=e)}}else{if(Es(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ue=!1,Vt=e}}}function eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function zl(e){if(e!==Vt)return!1;if(!Ue)return eu(e),Ue=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!vs(e.type,e.memoizedProps)),n&&(n=Kt)){if(Es(e))throw tu(),Error(i(418));for(;n;)Jc(e,n),n=Yn(n.nextSibling)}if(eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){Kt=Yn(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}Kt=null}}else Kt=Vt?Yn(e.stateNode.nextSibling):null;return!0}function tu(){for(var e=Kt;e;)e=Yn(e.nextSibling)}function Xr(){Kt=Vt=null,Ue=!1}function Ts(e){un===null?un=[e]:un.push(e)}var qg=A.ReactCurrentBatchConfig;function Ao(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var a=o.stateNode}if(!a)throw Error(i(147,e));var u=a,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(w){var T=u.refs;w===null?delete T[p]:T[p]=w},n._stringRef=p,n)}if(typeof e!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,e))}return e}function Ol(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function nu(e){var n=e._init;return n(e._payload)}function ru(e){function n(D,I){if(e){var z=D.deletions;z===null?(D.deletions=[I],D.flags|=16):z.push(I)}}function o(D,I){if(!e)return null;for(;I!==null;)n(D,I),I=I.sibling;return null}function a(D,I){for(D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function u(D,I){return D=ir(D,I),D.index=0,D.sibling=null,D}function p(D,I,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<I?(D.flags|=2,I):z):(D.flags|=2,I)):(D.flags|=1048576,I)}function w(D){return e&&D.alternate===null&&(D.flags|=2),D}function T(D,I,z,oe){return I===null||I.tag!==6?(I=ba(z,D.mode,oe),I.return=D,I):(I=u(I,z),I.return=D,I)}function B(D,I,z,oe){var xe=z.type;return xe===P?q(D,I,z.props.children,oe,z.key):I!==null&&(I.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===he&&nu(xe)===I.type)?(oe=u(I,z.props),oe.ref=Ao(D,I,z),oe.return=D,oe):(oe=ui(z.type,z.key,z.props,null,D.mode,oe),oe.ref=Ao(D,I,z),oe.return=D,oe)}function F(D,I,z,oe){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=wa(z,D.mode,oe),I.return=D,I):(I=u(I,z.children||[]),I.return=D,I)}function q(D,I,z,oe,xe){return I===null||I.tag!==7?(I=Nr(z,D.mode,oe,xe),I.return=D,I):(I=u(I,z),I.return=D,I)}function Z(D,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ba(""+I,D.mode,z),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return z=ui(I.type,I.key,I.props,null,D.mode,z),z.ref=Ao(D,null,I),z.return=D,z;case M:return I=wa(I,D.mode,z),I.return=D,I;case he:var oe=I._init;return Z(D,oe(I._payload),z)}if(et(I)||ae(I))return I=Nr(I,D.mode,z,null),I.return=D,I;Ol(D,I)}return null}function Q(D,I,z,oe){var xe=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return xe!==null?null:T(D,I,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===xe?B(D,I,z,oe):null;case M:return z.key===xe?F(D,I,z,oe):null;case he:return xe=z._init,Q(D,I,xe(z._payload),oe)}if(et(z)||ae(z))return xe!==null?null:q(D,I,z,oe,null);Ol(D,z)}return null}function ue(D,I,z,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return D=D.get(z)||null,T(I,D,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return D=D.get(oe.key===null?z:oe.key)||null,B(I,D,oe,xe);case M:return D=D.get(oe.key===null?z:oe.key)||null,F(I,D,oe,xe);case he:var be=oe._init;return ue(D,I,z,be(oe._payload),xe)}if(et(oe)||ae(oe))return D=D.get(z)||null,q(I,D,oe,xe,null);Ol(I,oe)}return null}function ge(D,I,z,oe){for(var xe=null,be=null,we=I,Se=I=0,ft=null;we!==null&&Se<z.length;Se++){we.index>Se?(ft=we,we=null):ft=we.sibling;var Ae=Q(D,we,z[Se],oe);if(Ae===null){we===null&&(we=ft);break}e&&we&&Ae.alternate===null&&n(D,we),I=p(Ae,I,Se),be===null?xe=Ae:be.sibling=Ae,be=Ae,we=ft}if(Se===z.length)return o(D,we),Ue&&yr(D,Se),xe;if(we===null){for(;Se<z.length;Se++)we=Z(D,z[Se],oe),we!==null&&(I=p(we,I,Se),be===null?xe=we:be.sibling=we,be=we);return Ue&&yr(D,Se),xe}for(we=a(D,we);Se<z.length;Se++)ft=ue(we,D,Se,z[Se],oe),ft!==null&&(e&&ft.alternate!==null&&we.delete(ft.key===null?Se:ft.key),I=p(ft,I,Se),be===null?xe=ft:be.sibling=ft,be=ft);return e&&we.forEach(function(sr){return n(D,sr)}),Ue&&yr(D,Se),xe}function pe(D,I,z,oe){var xe=ae(z);if(typeof xe!="function")throw Error(i(150));if(z=xe.call(z),z==null)throw Error(i(151));for(var be=xe=null,we=I,Se=I=0,ft=null,Ae=z.next();we!==null&&!Ae.done;Se++,Ae=z.next()){we.index>Se?(ft=we,we=null):ft=we.sibling;var sr=Q(D,we,Ae.value,oe);if(sr===null){we===null&&(we=ft);break}e&&we&&sr.alternate===null&&n(D,we),I=p(sr,I,Se),be===null?xe=sr:be.sibling=sr,be=sr,we=ft}if(Ae.done)return o(D,we),Ue&&yr(D,Se),xe;if(we===null){for(;!Ae.done;Se++,Ae=z.next())Ae=Z(D,Ae.value,oe),Ae!==null&&(I=p(Ae,I,Se),be===null?xe=Ae:be.sibling=Ae,be=Ae);return Ue&&yr(D,Se),xe}for(we=a(D,we);!Ae.done;Se++,Ae=z.next())Ae=ue(we,D,Se,Ae.value,oe),Ae!==null&&(e&&Ae.alternate!==null&&we.delete(Ae.key===null?Se:Ae.key),I=p(Ae,I,Se),be===null?xe=Ae:be.sibling=Ae,be=Ae);return e&&we.forEach(function(Rp){return n(D,Rp)}),Ue&&yr(D,Se),xe}function qe(D,I,z,oe){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var xe=z.key,be=I;be!==null;){if(be.key===xe){if(xe=z.type,xe===P){if(be.tag===7){o(D,be.sibling),I=u(be,z.props.children),I.return=D,D=I;break e}}else if(be.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===he&&nu(xe)===be.type){o(D,be.sibling),I=u(be,z.props),I.ref=Ao(D,be,z),I.return=D,D=I;break e}o(D,be);break}else n(D,be);be=be.sibling}z.type===P?(I=Nr(z.props.children,D.mode,oe,z.key),I.return=D,D=I):(oe=ui(z.type,z.key,z.props,null,D.mode,oe),oe.ref=Ao(D,I,z),oe.return=D,D=oe)}return w(D);case M:e:{for(be=z.key;I!==null;){if(I.key===be)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){o(D,I.sibling),I=u(I,z.children||[]),I.return=D,D=I;break e}else{o(D,I);break}else n(D,I);I=I.sibling}I=wa(z,D.mode,oe),I.return=D,D=I}return w(D);case he:return be=z._init,qe(D,I,be(z._payload),oe)}if(et(z))return ge(D,I,z,oe);if(ae(z))return pe(D,I,z,oe);Ol(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,I!==null&&I.tag===6?(o(D,I.sibling),I=u(I,z),I.return=D,D=I):(o(D,I),I=ba(z,D.mode,oe),I.return=D,D=I),w(D)):o(D,I)}return qe}var Yr=ru(!0),ou=ru(!1),Hl=Qn(null),Fl=null,Qr=null,Rs=null;function As(){Rs=Qr=Fl=null}function Ls(e){var n=Hl.current;Fe(Hl),e._currentValue=n}function Bs(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function qr(e,n){Fl=e,Rs=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(_t=!0),e.firstContext=null)}function nn(e){var n=e._currentValue;if(Rs!==e)if(e={context:e,memoizedValue:n,next:null},Qr===null){if(Fl===null)throw Error(i(308));Qr=e,Fl.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return n}var vr=null;function Is(e){vr===null?vr=[e]:vr.push(e)}function lu(e,n,o,a){var u=n.interleaved;return u===null?(o.next=o,Is(n)):(o.next=u.next,u.next=o),n.interleaved=o,_n(e,a)}function _n(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Zn=!1;function _s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function er(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Re&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,_n(e,o)}return u=a.interleaved,u===null?(n.next=n,Is(a)):(n.next=u.next,u.next=n),a.interleaved=n,_n(e,o)}function Wl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Yi(e,o)}}function su(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var u=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?u=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?u=p=n:p=p.next=n}else u=p=n;o={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Ul(e,n,o,a){var u=e.updateQueue;Zn=!1;var p=u.firstBaseUpdate,w=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var B=T,F=B.next;B.next=null,w===null?p=F:w.next=F,w=B;var q=e.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==w&&(T===null?q.firstBaseUpdate=F:T.next=F,q.lastBaseUpdate=B))}if(p!==null){var Z=u.baseState;w=0,q=F=B=null,T=p;do{var Q=T.lane,ue=T.eventTime;if((a&Q)===Q){q!==null&&(q=q.next={eventTime:ue,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ge=e,pe=T;switch(Q=n,ue=o,pe.tag){case 1:if(ge=pe.payload,typeof ge=="function"){Z=ge.call(ue,Z,Q);break e}Z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=pe.payload,Q=typeof ge=="function"?ge.call(ue,Z,Q):ge,Q==null)break e;Z=le({},Z,Q);break e;case 2:Zn=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,Q=u.effects,Q===null?u.effects=[T]:Q.push(T))}else ue={eventTime:ue,lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(F=q=ue,B=Z):q=q.next=ue,w|=Q;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,u.lastBaseUpdate=Q,u.shared.pending=null}}while(!0);if(q===null&&(B=Z),u.baseState=B,u.firstBaseUpdate=F,u.lastBaseUpdate=q,n=u.shared.interleaved,n!==null){u=n;do w|=u.lane,u=u.next;while(u!==n)}else p===null&&(u.shared.lanes=0);kr|=w,e.lanes=w,e.memoizedState=Z}}function au(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=o,typeof u!="function")throw Error(i(191,u));u.call(a)}}}var Lo={},Sn=Qn(Lo),Bo=Qn(Lo),Io=Qn(Lo);function br(e){if(e===Lo)throw Error(i(174));return e}function Ds(e,n){switch(Pe(Io,n),Pe(Bo,e),Pe(Sn,Lo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Qt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Qt(n,e)}Fe(Sn),Pe(Sn,n)}function Jr(){Fe(Sn),Fe(Bo),Fe(Io)}function cu(e){br(Io.current);var n=br(Sn.current),o=Qt(n,e.type);n!==o&&(Pe(Bo,e),Pe(Sn,o))}function Ps(e){Bo.current===e&&(Fe(Sn),Fe(Bo))}var Ke=Qn(0);function Vl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ms=[];function zs(){for(var e=0;e<Ms.length;e++)Ms[e]._workInProgressVersionPrimary=null;Ms.length=0}var Kl=A.ReactCurrentDispatcher,Os=A.ReactCurrentBatchConfig,wr=0,Ge=null,rt=null,ut=null,Gl=!1,_o=!1,Do=0,Jg=0;function wt(){throw Error(i(321))}function Hs(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!cn(e[o],n[o]))return!1;return!0}function Fs(e,n,o,a,u,p){if(wr=p,Ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Kl.current=e===null||e.memoizedState===null?np:rp,e=o(a,u),_o){p=0;do{if(_o=!1,Do=0,25<=p)throw Error(i(301));p+=1,ut=rt=null,n.updateQueue=null,Kl.current=op,e=o(a,u)}while(_o)}if(Kl.current=Ql,n=rt!==null&&rt.next!==null,wr=0,ut=rt=Ge=null,Gl=!1,n)throw Error(i(300));return e}function Ws(){var e=Do!==0;return Do=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ge.memoizedState=ut=e:ut=ut.next=e,ut}function rn(){if(rt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var n=ut===null?Ge.memoizedState:ut.next;if(n!==null)ut=n,rt=e;else{if(e===null)throw Error(i(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ut===null?Ge.memoizedState=ut=e:ut=ut.next=e}return ut}function Po(e,n){return typeof n=="function"?n(e):n}function Us(e){var n=rn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=rt,u=a.baseQueue,p=o.pending;if(p!==null){if(u!==null){var w=u.next;u.next=p.next,p.next=w}a.baseQueue=u=p,o.pending=null}if(u!==null){p=u.next,a=a.baseState;var T=w=null,B=null,F=p;do{var q=F.lane;if((wr&q)===q)B!==null&&(B=B.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),a=F.hasEagerState?F.eagerState:e(a,F.action);else{var Z={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};B===null?(T=B=Z,w=a):B=B.next=Z,Ge.lanes|=q,kr|=q}F=F.next}while(F!==null&&F!==p);B===null?w=a:B.next=T,cn(a,n.memoizedState)||(_t=!0),n.memoizedState=a,n.baseState=w,n.baseQueue=B,o.lastRenderedState=a}if(e=o.interleaved,e!==null){u=e;do p=u.lane,Ge.lanes|=p,kr|=p,u=u.next;while(u!==e)}else u===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Vs(e){var n=rn(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=o.dispatch,u=o.pending,p=n.memoizedState;if(u!==null){o.pending=null;var w=u=u.next;do p=e(p,w.action),w=w.next;while(w!==u);cn(p,n.memoizedState)||(_t=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,a]}function uu(){}function du(e,n){var o=Ge,a=rn(),u=n(),p=!cn(a.memoizedState,u);if(p&&(a.memoizedState=u,_t=!0),a=a.queue,Ks(pu.bind(null,o,a,e),[e]),a.getSnapshot!==n||p||ut!==null&&ut.memoizedState.tag&1){if(o.flags|=2048,Mo(9,gu.bind(null,o,a,u,n),void 0,null),dt===null)throw Error(i(349));(wr&30)!==0||fu(o,n,u)}return u}function fu(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function gu(e,n,o,a){n.value=o,n.getSnapshot=a,hu(n)&&mu(e)}function pu(e,n,o){return o(function(){hu(n)&&mu(e)})}function hu(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!cn(e,o)}catch{return!0}}function mu(e){var n=_n(e,1);n!==null&&pn(n,e,1,-1)}function xu(e){var n=jn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},n.queue=e,e=e.dispatch=tp.bind(null,Ge,e),[n.memoizedState,e]}function Mo(e,n,o,a){return e={tag:e,create:n,destroy:o,deps:a,next:null},n=Ge.updateQueue,n===null?(n={lastEffect:null,stores:null},Ge.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e)),e}function yu(){return rn().memoizedState}function Xl(e,n,o,a){var u=jn();Ge.flags|=e,u.memoizedState=Mo(1|n,o,void 0,a===void 0?null:a)}function Yl(e,n,o,a){var u=rn();a=a===void 0?null:a;var p=void 0;if(rt!==null){var w=rt.memoizedState;if(p=w.destroy,a!==null&&Hs(a,w.deps)){u.memoizedState=Mo(n,o,p,a);return}}Ge.flags|=e,u.memoizedState=Mo(1|n,o,p,a)}function vu(e,n){return Xl(8390656,8,e,n)}function Ks(e,n){return Yl(2048,8,e,n)}function bu(e,n){return Yl(4,2,e,n)}function wu(e,n){return Yl(4,4,e,n)}function ku(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cu(e,n,o){return o=o!=null?o.concat([e]):null,Yl(4,4,ku.bind(null,n,e),o)}function Gs(){}function Su(e,n){var o=rn();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&Hs(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function ju(e,n){var o=rn();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&Hs(n,a[1])?a[0]:(e=e(),o.memoizedState=[e,n],e)}function Nu(e,n,o){return(wr&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=o):(cn(o,n)||(o=nc(),Ge.lanes|=o,kr|=o,e.baseState=!0),n)}function Zg(e,n){var o=Be;Be=o!==0&&4>o?o:4,e(!0);var a=Os.transition;Os.transition={};try{e(!1),n()}finally{Be=o,Os.transition=a}}function Eu(){return rn().memoizedState}function ep(e,n,o){var a=or(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e))Tu(n,o);else if(o=lu(e,n,o,a),o!==null){var u=Nt();pn(o,e,a,u),Ru(o,n,a)}}function tp(e,n,o){var a=or(e),u={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if($u(e))Tu(n,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var w=n.lastRenderedState,T=p(w,o);if(u.hasEagerState=!0,u.eagerState=T,cn(T,w)){var B=n.interleaved;B===null?(u.next=u,Is(n)):(u.next=B.next,B.next=u),n.interleaved=u;return}}catch{}o=lu(e,n,u,a),o!==null&&(u=Nt(),pn(o,e,a,u),Ru(o,n,a))}}function $u(e){var n=e.alternate;return e===Ge||n!==null&&n===Ge}function Tu(e,n){_o=Gl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Ru(e,n,o){if((o&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Yi(e,o)}}var Ql={readContext:nn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},np={readContext:nn,useCallback:function(e,n){return jn().memoizedState=[e,n===void 0?null:n],e},useContext:nn,useEffect:vu,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Xl(4194308,4,ku.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Xl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Xl(4,2,e,n)},useMemo:function(e,n){var o=jn();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var a=jn();return n=o!==void 0?o(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=ep.bind(null,Ge,e),[a.memoizedState,e]},useRef:function(e){var n=jn();return e={current:e},n.memoizedState=e},useState:xu,useDebugValue:Gs,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=xu(!1),n=e[0];return e=Zg.bind(null,e[1]),jn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var a=Ge,u=jn();if(Ue){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),dt===null)throw Error(i(349));(wr&30)!==0||fu(a,n,o)}u.memoizedState=o;var p={value:o,getSnapshot:n};return u.queue=p,vu(pu.bind(null,a,p,e),[e]),a.flags|=2048,Mo(9,gu.bind(null,a,p,o,n),void 0,null),o},useId:function(){var e=jn(),n=dt.identifierPrefix;if(Ue){var o=In,a=Bn;o=(a&~(1<<32-Zt(a)-1)).toString(32)+o,n=":"+n+"R"+o,o=Do++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Jg++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},rp={readContext:nn,useCallback:Su,useContext:nn,useEffect:Ks,useImperativeHandle:Cu,useInsertionEffect:bu,useLayoutEffect:wu,useMemo:ju,useReducer:Us,useRef:yu,useState:function(){return Us(Po)},useDebugValue:Gs,useDeferredValue:function(e){var n=rn();return Nu(n,rt.memoizedState,e)},useTransition:function(){var e=Us(Po)[0],n=rn().memoizedState;return[e,n]},useMutableSource:uu,useSyncExternalStore:du,useId:Eu,unstable_isNewReconciler:!1},op={readContext:nn,useCallback:Su,useContext:nn,useEffect:Ks,useImperativeHandle:Cu,useInsertionEffect:bu,useLayoutEffect:wu,useMemo:ju,useReducer:Vs,useRef:yu,useState:function(){return Vs(Po)},useDebugValue:Gs,useDeferredValue:function(e){var n=rn();return rt===null?n.memoizedState=e:Nu(n,rt.memoizedState,e)},useTransition:function(){var e=Vs(Po)[0],n=rn().memoizedState;return[e,n]},useMutableSource:uu,useSyncExternalStore:du,useId:Eu,unstable_isNewReconciler:!1};function dn(e,n){if(e&&e.defaultProps){n=le({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Xs(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:le({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ql={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var a=Nt(),u=or(e),p=Dn(a,u);p.payload=n,o!=null&&(p.callback=o),n=er(e,p,u),n!==null&&(pn(n,e,u,a),Wl(n,e,u))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=Nt(),u=or(e),p=Dn(a,u);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=er(e,p,u),n!==null&&(pn(n,e,u,a),Wl(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Nt(),a=or(e),u=Dn(o,a);u.tag=2,n!=null&&(u.callback=n),n=er(e,u,a),n!==null&&(pn(n,e,a,o),Wl(n,e,a))}};function Au(e,n,o,a,u,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,w):n.prototype&&n.prototype.isPureReactComponent?!So(o,a)||!So(u,p):!0}function Lu(e,n,o){var a=!1,u=qn,p=n.contextType;return typeof p=="object"&&p!==null?p=nn(p):(u=It(n)?mr:bt.current,a=n.contextTypes,p=(a=a!=null)?Vr(e,u):qn),n=new n(o,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ql,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=p),n}function Bu(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&ql.enqueueReplaceState(n,n.state,null)}function Ys(e,n,o,a){var u=e.stateNode;u.props=o,u.state=e.memoizedState,u.refs={},_s(e);var p=n.contextType;typeof p=="object"&&p!==null?u.context=nn(p):(p=It(n)?mr:bt.current,u.context=Vr(e,p)),u.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Xs(e,n,p,o),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&ql.enqueueReplaceState(u,u.state,null),Ul(e,o,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,n){try{var o="",a=n;do o+=ne(a),a=a.return;while(a);var u=o}catch(p){u=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:u,digest:null}}function Qs(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function qs(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var lp=typeof WeakMap=="function"?WeakMap:Map;function Iu(e,n,o){o=Dn(-1,o),o.tag=3,o.payload={element:null};var a=n.value;return o.callback=function(){oi||(oi=!0,fa=a),qs(e,n)},o}function _u(e,n,o){o=Dn(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;o.payload=function(){return a(u)},o.callback=function(){qs(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){qs(e,n),typeof a!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),o}function Du(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new lp;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(o)||(u.add(o),e=vp.bind(null,e,n,o),n.then(e,e))}function Pu(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Mu(e,n,o,a,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Dn(-1,1),n.tag=2,er(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var ip=A.ReactCurrentOwner,_t=!1;function jt(e,n,o,a){n.child=e===null?ou(n,null,o,a):Yr(n,e.child,o,a)}function zu(e,n,o,a,u){o=o.render;var p=n.ref;return qr(n,u),a=Fs(e,n,o,a,p,u),o=Ws(),e!==null&&!_t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Pn(e,n,u)):(Ue&&o&&js(n),n.flags|=1,jt(e,n,a,u),n.child)}function Ou(e,n,o,a,u){if(e===null){var p=o.type;return typeof p=="function"&&!va(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=p,Hu(e,n,p,a,u)):(e=ui(o.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&u)===0){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:So,o(w,a)&&e.ref===n.ref)return Pn(e,n,u)}return n.flags|=1,e=ir(p,a),e.ref=n.ref,e.return=n,n.child=e}function Hu(e,n,o,a,u){if(e!==null){var p=e.memoizedProps;if(So(p,a)&&e.ref===n.ref)if(_t=!1,n.pendingProps=a=p,(e.lanes&u)!==0)(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,Pn(e,n,u)}return Js(e,n,o,a,u)}function Fu(e,n,o){var a=n.pendingProps,u=a.children,p=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(to,Gt),Gt|=o;else{if((o&1073741824)===0)return e=p!==null?p.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Pe(to,Gt),Gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=p!==null?p.baseLanes:o,Pe(to,Gt),Gt|=a}else p!==null?(a=p.baseLanes|o,n.memoizedState=null):a=o,Pe(to,Gt),Gt|=a;return jt(e,n,u,o),n.child}function Wu(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Js(e,n,o,a,u){var p=It(o)?mr:bt.current;return p=Vr(n,p),qr(n,u),o=Fs(e,n,o,a,p,u),a=Ws(),e!==null&&!_t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Pn(e,n,u)):(Ue&&a&&js(n),n.flags|=1,jt(e,n,o,u),n.child)}function Uu(e,n,o,a,u){if(It(o)){var p=!0;_l(n)}else p=!1;if(qr(n,u),n.stateNode===null)Zl(e,n),Lu(n,o,a),Ys(n,o,a,u),a=!0;else if(e===null){var w=n.stateNode,T=n.memoizedProps;w.props=T;var B=w.context,F=o.contextType;typeof F=="object"&&F!==null?F=nn(F):(F=It(o)?mr:bt.current,F=Vr(n,F));var q=o.getDerivedStateFromProps,Z=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function";Z||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==a||B!==F)&&Bu(n,w,a,F),Zn=!1;var Q=n.memoizedState;w.state=Q,Ul(n,a,w,u),B=n.memoizedState,T!==a||Q!==B||Bt.current||Zn?(typeof q=="function"&&(Xs(n,o,q,a),B=n.memoizedState),(T=Zn||Au(n,o,T,a,Q,B,F))?(Z||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=B),w.props=a,w.state=B,w.context=F,a=T):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{w=n.stateNode,iu(e,n),T=n.memoizedProps,F=n.type===n.elementType?T:dn(n.type,T),w.props=F,Z=n.pendingProps,Q=w.context,B=o.contextType,typeof B=="object"&&B!==null?B=nn(B):(B=It(o)?mr:bt.current,B=Vr(n,B));var ue=o.getDerivedStateFromProps;(q=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==Z||Q!==B)&&Bu(n,w,a,B),Zn=!1,Q=n.memoizedState,w.state=Q,Ul(n,a,w,u);var ge=n.memoizedState;T!==Z||Q!==ge||Bt.current||Zn?(typeof ue=="function"&&(Xs(n,o,ue,a),ge=n.memoizedState),(F=Zn||Au(n,o,F,a,Q,ge,B)||!1)?(q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(a,ge,B),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(a,ge,B)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=ge),w.props=a,w.state=ge,w.context=B,a=F):(typeof w.componentDidUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(n.flags|=1024),a=!1)}return Zs(e,n,o,a,p,u)}function Zs(e,n,o,a,u,p){Wu(e,n);var w=(n.flags&128)!==0;if(!a&&!w)return u&&Yc(n,o,!1),Pn(e,n,p);a=n.stateNode,ip.current=n;var T=w&&typeof o.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&w?(n.child=Yr(n,e.child,null,p),n.child=Yr(n,null,T,p)):jt(e,n,T,p),n.memoizedState=a.state,u&&Yc(n,o,!0),n.child}function Vu(e){var n=e.stateNode;n.pendingContext?Gc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Gc(e,n.context,!1),Ds(e,n.containerInfo)}function Ku(e,n,o,a,u){return Xr(),Ts(u),n.flags|=256,jt(e,n,o,a),n.child}var ea={dehydrated:null,treeContext:null,retryLane:0};function ta(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gu(e,n,o){var a=n.pendingProps,u=Ke.current,p=!1,w=(n.flags&128)!==0,T;if((T=w)||(T=e!==null&&e.memoizedState===null?!1:(u&2)!==0),T?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Pe(Ke,u&1),e===null)return $s(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=a.children,e=a.fallback,p?(a=n.mode,p=n.child,w={mode:"hidden",children:w},(a&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=di(w,a,0,null),e=Nr(e,a,o,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=ta(o),n.memoizedState=ea,e):na(n,w));if(u=e.memoizedState,u!==null&&(T=u.dehydrated,T!==null))return sp(e,n,w,a,T,u,o);if(p){p=a.fallback,w=n.mode,u=e.child,T=u.sibling;var B={mode:"hidden",children:a.children};return(w&1)===0&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=B,n.deletions=null):(a=ir(u,B),a.subtreeFlags=u.subtreeFlags&14680064),T!==null?p=ir(T,p):(p=Nr(p,w,o,null),p.flags|=2),p.return=n,a.return=n,a.sibling=p,n.child=a,a=p,p=n.child,w=e.child.memoizedState,w=w===null?ta(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~o,n.memoizedState=ea,a}return p=e.child,e=p.sibling,a=ir(p,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=o),a.return=n,a.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=a,n.memoizedState=null,a}function na(e,n){return n=di({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Jl(e,n,o,a){return a!==null&&Ts(a),Yr(n,e.child,null,o),e=na(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sp(e,n,o,a,u,p,w){if(o)return n.flags&256?(n.flags&=-257,a=Qs(Error(i(422))),Jl(e,n,w,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=a.fallback,u=n.mode,a=di({mode:"visible",children:a.children},u,0,null),p=Nr(p,u,w,null),p.flags|=2,a.return=n,p.return=n,a.sibling=p,n.child=a,(n.mode&1)!==0&&Yr(n,e.child,null,w),n.child.memoizedState=ta(w),n.memoizedState=ea,p);if((n.mode&1)===0)return Jl(e,n,w,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var T=a.dgst;return a=T,p=Error(i(419)),a=Qs(p,a,void 0),Jl(e,n,w,a)}if(T=(w&e.childLanes)!==0,_t||T){if(a=dt,a!==null){switch(w&-w){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|w))!==0?0:u,u!==0&&u!==p.retryLane&&(p.retryLane=u,_n(e,u),pn(a,e,u,-1))}return ya(),a=Qs(Error(i(421))),Jl(e,n,w,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=bp.bind(null,e),u._reactRetry=n,null):(e=p.treeContext,Kt=Yn(u.nextSibling),Vt=n,Ue=!0,un=null,e!==null&&(en[tn++]=Bn,en[tn++]=In,en[tn++]=xr,Bn=e.id,In=e.overflow,xr=n),n=na(n,a.children),n.flags|=4096,n)}function Xu(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Bs(e.return,n,o)}function ra(e,n,o,a,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:u}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=a,p.tail=o,p.tailMode=u)}function Yu(e,n,o){var a=n.pendingProps,u=a.revealOrder,p=a.tail;if(jt(e,n,a.children,o),a=Ke.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xu(e,o,n);else if(e.tag===19)Xu(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Pe(Ke,a),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(o=n.child,u=null;o!==null;)e=o.alternate,e!==null&&Vl(e)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),ra(n,!1,u,o,p);break;case"backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Vl(e)===null){n.child=u;break}e=u.sibling,u.sibling=o,o=u,u=e}ra(n,!0,o,null,p);break;case"together":ra(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Zl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Pn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=ir(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=ir(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function ap(e,n,o){switch(n.tag){case 3:Vu(n),Xr();break;case 5:cu(n);break;case 1:It(n.type)&&_l(n);break;case 4:Ds(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;Pe(Hl,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Pe(Ke,Ke.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Gu(e,n,o):(Pe(Ke,Ke.current&1),e=Pn(e,n,o),e!==null?e.sibling:null);Pe(Ke,Ke.current&1);break;case 19:if(a=(o&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Yu(e,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Pe(Ke,Ke.current),a)break;return null;case 22:case 23:return n.lanes=0,Fu(e,n,o)}return Pn(e,n,o)}var Qu,oa,qu,Ju;Qu=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},oa=function(){},qu=function(e,n,o,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,br(Sn.current);var p=null;switch(o){case"input":u=Ie(e,u),a=Ie(e,a),p=[];break;case"select":u=le({},u,{value:void 0}),a=le({},a,{value:void 0}),p=[];break;case"textarea":u=xn(e,u),a=xn(e,a),p=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ll)}Hn(o,a);var w;o=null;for(F in u)if(!a.hasOwnProperty(F)&&u.hasOwnProperty(F)&&u[F]!=null)if(F==="style"){var T=u[F];for(w in T)T.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(c.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in a){var B=a[F];if(T=u?.[F],a.hasOwnProperty(F)&&B!==T&&(B!=null||T!=null))if(F==="style")if(T){for(w in T)!T.hasOwnProperty(w)||B&&B.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in B)B.hasOwnProperty(w)&&T[w]!==B[w]&&(o||(o={}),o[w]=B[w])}else o||(p||(p=[]),p.push(F,o)),o=B;else F==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,T=T?T.__html:void 0,B!=null&&T!==B&&(p=p||[]).push(F,B)):F==="children"?typeof B!="string"&&typeof B!="number"||(p=p||[]).push(F,""+B):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(c.hasOwnProperty(F)?(B!=null&&F==="onScroll"&&He("scroll",e),p||T===B||(p=[])):(p=p||[]).push(F,B))}o&&(p=p||[]).push("style",o);var F=p;(n.updateQueue=F)&&(n.flags|=4)}},Ju=function(e,n,o,a){o!==a&&(n.flags|=4)};function zo(e,n){if(!Ue)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function cp(e,n,o){var a=n.pendingProps;switch(Ns(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return It(n.type)&&Il(),kt(n),null;case 3:return a=n.stateNode,Jr(),Fe(Bt),Fe(bt),zs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,un!==null&&(ha(un),un=null))),oa(e,n),kt(n),null;case 5:Ps(n);var u=br(Io.current);if(o=n.type,e!==null&&n.stateNode!=null)qu(e,n,o,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(i(166));return kt(n),null}if(e=br(Sn.current),zl(n)){a=n.stateNode,o=n.type;var p=n.memoizedProps;switch(a[Cn]=n,a[To]=p,e=(n.mode&1)!==0,o){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(u=0;u<No.length;u++)He(No[u],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":$t(a,p),He("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!p.multiple},He("invalid",a);break;case"textarea":ur(a,p),He("invalid",a)}Hn(o,p),u=null;for(var w in p)if(p.hasOwnProperty(w)){var T=p[w];w==="children"?typeof T=="string"?a.textContent!==T&&(p.suppressHydrationWarning!==!0&&Al(a.textContent,T,e),u=["children",T]):typeof T=="number"&&a.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Al(a.textContent,T,e),u=["children",""+T]):c.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&He("scroll",a)}switch(o){case"input":je(a),zn(a,p,!0);break;case"textarea":je(a),Rr(a);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(a.onclick=Ll)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{w=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ar(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=w.createElement(o,{is:a.is}):(e=w.createElement(o),o==="select"&&(w=e,a.multiple?w.multiple=!0:a.size&&(w.size=a.size))):e=w.createElementNS(e,o),e[Cn]=n,e[To]=a,Qu(e,n,!1,!1),n.stateNode=e;e:{switch(w=dr(o,a),o){case"dialog":He("cancel",e),He("close",e),u=a;break;case"iframe":case"object":case"embed":He("load",e),u=a;break;case"video":case"audio":for(u=0;u<No.length;u++)He(No[u],e);u=a;break;case"source":He("error",e),u=a;break;case"img":case"image":case"link":He("error",e),He("load",e),u=a;break;case"details":He("toggle",e),u=a;break;case"input":$t(e,a),u=Ie(e,a),He("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=le({},a,{value:void 0}),He("invalid",e);break;case"textarea":ur(e,a),u=xn(e,a),He("invalid",e);break;default:u=a}Hn(o,u),T=u;for(p in T)if(T.hasOwnProperty(p)){var B=T[p];p==="style"?Ir(e,B):p==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&yn(e,B)):p==="children"?typeof B=="string"?(o!=="textarea"||B!=="")&&vn(e,B):typeof B=="number"&&vn(e,""+B):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?B!=null&&p==="onScroll"&&He("scroll",e):B!=null&&E(e,p,B,w))}switch(o){case"input":je(e),zn(e,a,!1);break;case"textarea":je(e),Rr(e);break;case"option":a.value!=null&&e.setAttribute("value",""+J(a.value));break;case"select":e.multiple=!!a.multiple,p=a.value,p!=null?zt(e,!!a.multiple,p,!1):a.defaultValue!=null&&zt(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ll)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kt(n),null;case 6:if(e&&n.stateNode!=null)Ju(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(i(166));if(o=br(Io.current),br(Sn.current),zl(n)){if(a=n.stateNode,o=n.memoizedProps,a[Cn]=n,(p=a.nodeValue!==o)&&(e=Vt,e!==null))switch(e.tag){case 3:Al(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Al(a.nodeValue,o,(e.mode&1)!==0)}p&&(n.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Cn]=n,n.stateNode=a}return kt(n),null;case 13:if(Fe(Ke),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Kt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)tu(),Xr(),n.flags|=98560,p=!1;else if(p=zl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Cn]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;kt(n),p=!1}else un!==null&&(ha(un),un=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ke.current&1)!==0?ot===0&&(ot=3):ya())),n.updateQueue!==null&&(n.flags|=4),kt(n),null);case 4:return Jr(),oa(e,n),e===null&&Eo(n.stateNode.containerInfo),kt(n),null;case 10:return Ls(n.type._context),kt(n),null;case 17:return It(n.type)&&Il(),kt(n),null;case 19:if(Fe(Ke),p=n.memoizedState,p===null)return kt(n),null;if(a=(n.flags&128)!==0,w=p.rendering,w===null)if(a)zo(p,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=Vl(e),w!==null){for(n.flags|=128,zo(p,!1),a=w.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=o,o=n.child;o!==null;)p=o,e=a,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Pe(Ke,Ke.current&1|2),n.child}e=e.sibling}p.tail!==null&&fe()>no&&(n.flags|=128,a=!0,zo(p,!1),n.lanes=4194304)}else{if(!a)if(e=Vl(w),e!==null){if(n.flags|=128,a=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ue)return kt(n),null}else 2*fe()-p.renderingStartTime>no&&o!==1073741824&&(n.flags|=128,a=!0,zo(p,!1),n.lanes=4194304);p.isBackwards?(w.sibling=n.child,n.child=w):(o=p.last,o!==null?o.sibling=w:n.child=w,p.last=w)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=fe(),n.sibling=null,o=Ke.current,Pe(Ke,a?o&1|2:o&1),n):(kt(n),null);case 22:case 23:return xa(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(Gt&1073741824)!==0&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function up(e,n){switch(Ns(n),n.tag){case 1:return It(n.type)&&Il(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Jr(),Fe(Bt),Fe(bt),zs(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ps(n),null;case 13:if(Fe(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Fe(Ke),null;case 4:return Jr(),null;case 10:return Ls(n.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var ei=!1,Ct=!1,dp=typeof WeakSet=="function"?WeakSet:Set,de=null;function eo(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Xe(e,n,a)}else o.current=null}function la(e,n,o){try{o()}catch(a){Xe(e,n,a)}}var Zu=!1;function fp(e,n){if(xs=bl,e=Ac(),cs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var u=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,T=-1,B=-1,F=0,q=0,Z=e,Q=null;t:for(;;){for(var ue;Z!==o||u!==0&&Z.nodeType!==3||(T=w+u),Z!==p||a!==0&&Z.nodeType!==3||(B=w+a),Z.nodeType===3&&(w+=Z.nodeValue.length),(ue=Z.firstChild)!==null;)Q=Z,Z=ue;for(;;){if(Z===e)break t;if(Q===o&&++F===u&&(T=w),Q===p&&++q===a&&(B=w),(ue=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=ue}o=T===-1||B===-1?null:{start:T,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(ys={focusedElem:e,selectionRange:o},bl=!1,de=n;de!==null;)if(n=de,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,de=e;else for(;de!==null;){n=de;try{var ge=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var pe=ge.memoizedProps,qe=ge.memoizedState,D=n.stateNode,I=D.getSnapshotBeforeUpdate(n.elementType===n.type?pe:dn(n.type,pe),qe);D.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var z=n.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(oe){Xe(n,n.return,oe)}if(e=n.sibling,e!==null){e.return=n.return,de=e;break}de=n.return}return ge=Zu,Zu=!1,ge}function Oo(e,n,o){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var p=u.destroy;u.destroy=void 0,p!==void 0&&la(n,o,p)}u=u.next}while(u!==a)}}function ti(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==n)}}function ia(e){var n=e.ref;if(n!==null){var o=e.stateNode;e.tag,e=o,typeof n=="function"?n(e):n.current=e}}function ed(e){var n=e.alternate;n!==null&&(e.alternate=null,ed(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Cn],delete n[To],delete n[ks],delete n[Xg],delete n[Yg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function td(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sa(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Ll));else if(a!==4&&(e=e.child,e!==null))for(sa(e,n,o),e=e.sibling;e!==null;)sa(e,n,o),e=e.sibling}function aa(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(aa(e,n,o),e=e.sibling;e!==null;)aa(e,n,o),e=e.sibling}var yt=null,fn=!1;function tr(e,n,o){for(o=o.child;o!==null;)rd(e,n,o),o=o.sibling}function rd(e,n,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(an,o)}catch{}switch(o.tag){case 5:Ct||eo(o,n);case 6:var a=yt,u=fn;yt=null,tr(e,n,o),yt=a,fn=u,yt!==null&&(fn?(e=yt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):yt.removeChild(o.stateNode));break;case 18:yt!==null&&(fn?(e=yt,o=o.stateNode,e.nodeType===8?ws(e.parentNode,o):e.nodeType===1&&ws(e,o),yo(e)):ws(yt,o.stateNode));break;case 4:a=yt,u=fn,yt=o.stateNode.containerInfo,fn=!0,tr(e,n,o),yt=a,fn=u;break;case 0:case 11:case 14:case 15:if(!Ct&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var p=u,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&la(o,n,w),u=u.next}while(u!==a)}tr(e,n,o);break;case 1:if(!Ct&&(eo(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(T){Xe(o,n,T)}tr(e,n,o);break;case 21:tr(e,n,o);break;case 22:o.mode&1?(Ct=(a=Ct)||o.memoizedState!==null,tr(e,n,o),Ct=a):tr(e,n,o);break;default:tr(e,n,o)}}function od(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new dp),n.forEach(function(a){var u=wp.bind(null,e,a);o.has(a)||(o.add(a),a.then(u,u))})}}function gn(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];try{var p=e,w=n,T=w;e:for(;T!==null;){switch(T.tag){case 5:yt=T.stateNode,fn=!1;break e;case 3:yt=T.stateNode.containerInfo,fn=!0;break e;case 4:yt=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(yt===null)throw Error(i(160));rd(p,w,u),yt=null,fn=!1;var B=u.alternate;B!==null&&(B.return=null),u.return=null}catch(F){Xe(u,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)ld(n,e),n=n.sibling}function ld(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gn(n,e),Nn(e),a&4){try{Oo(3,e,e.return),ti(3,e)}catch(pe){Xe(e,e.return,pe)}try{Oo(5,e,e.return)}catch(pe){Xe(e,e.return,pe)}}break;case 1:gn(n,e),Nn(e),a&512&&o!==null&&eo(o,o.return);break;case 5:if(gn(n,e),Nn(e),a&512&&o!==null&&eo(o,o.return),e.flags&32){var u=e.stateNode;try{vn(u,"")}catch(pe){Xe(e,e.return,pe)}}if(a&4&&(u=e.stateNode,u!=null)){var p=e.memoizedProps,w=o!==null?o.memoizedProps:p,T=e.type,B=e.updateQueue;if(e.updateQueue=null,B!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Ee(u,p),dr(T,w);var F=dr(T,p);for(w=0;w<B.length;w+=2){var q=B[w],Z=B[w+1];q==="style"?Ir(u,Z):q==="dangerouslySetInnerHTML"?yn(u,Z):q==="children"?vn(u,Z):E(u,q,Z,F)}switch(T){case"input":Tt(u,p);break;case"textarea":On(u,p);break;case"select":var Q=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!p.multiple;var ue=p.value;ue!=null?zt(u,!!p.multiple,ue,!1):Q!==!!p.multiple&&(p.defaultValue!=null?zt(u,!!p.multiple,p.defaultValue,!0):zt(u,!!p.multiple,p.multiple?[]:"",!1))}u[To]=p}catch(pe){Xe(e,e.return,pe)}}break;case 6:if(gn(n,e),Nn(e),a&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,p=e.memoizedProps;try{u.nodeValue=p}catch(pe){Xe(e,e.return,pe)}}break;case 3:if(gn(n,e),Nn(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{yo(n.containerInfo)}catch(pe){Xe(e,e.return,pe)}break;case 4:gn(n,e),Nn(e);break;case 13:gn(n,e),Nn(e),u=e.child,u.flags&8192&&(p=u.memoizedState!==null,u.stateNode.isHidden=p,!p||u.alternate!==null&&u.alternate.memoizedState!==null||(da=fe())),a&4&&od(e);break;case 22:if(q=o!==null&&o.memoizedState!==null,e.mode&1?(Ct=(F=Ct)||q,gn(n,e),Ct=F):gn(n,e),Nn(e),a&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!q&&(e.mode&1)!==0)for(de=e,q=e.child;q!==null;){for(Z=de=q;de!==null;){switch(Q=de,ue=Q.child,Q.tag){case 0:case 11:case 14:case 15:Oo(4,Q,Q.return);break;case 1:eo(Q,Q.return);var ge=Q.stateNode;if(typeof ge.componentWillUnmount=="function"){a=Q,o=Q.return;try{n=a,ge.props=n.memoizedProps,ge.state=n.memoizedState,ge.componentWillUnmount()}catch(pe){Xe(a,o,pe)}}break;case 5:eo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){ad(Z);continue}}ue!==null?(ue.return=Q,de=ue):ad(Z)}q=q.sibling}e:for(q=null,Z=e;;){if(Z.tag===5){if(q===null){q=Z;try{u=Z.stateNode,F?(p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Z.stateNode,B=Z.memoizedProps.style,w=B!=null&&B.hasOwnProperty("display")?B.display:null,T.style.display=Br("display",w))}catch(pe){Xe(e,e.return,pe)}}}else if(Z.tag===6){if(q===null)try{Z.stateNode.nodeValue=F?"":Z.memoizedProps}catch(pe){Xe(e,e.return,pe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;q===Z&&(q=null),Z=Z.return}q===Z&&(q=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:gn(n,e),Nn(e),a&4&&od(e);break;case 21:break;default:gn(n,e),Nn(e)}}function Nn(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(td(o)){var a=o;break e}o=o.return}throw Error(i(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(vn(u,""),a.flags&=-33);var p=nd(e);aa(e,p,u);break;case 3:case 4:var w=a.stateNode.containerInfo,T=nd(e);sa(e,T,w);break;default:throw Error(i(161))}}catch(B){Xe(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gp(e,n,o){de=e,id(e)}function id(e,n,o){for(var a=(e.mode&1)!==0;de!==null;){var u=de,p=u.child;if(u.tag===22&&a){var w=u.memoizedState!==null||ei;if(!w){var T=u.alternate,B=T!==null&&T.memoizedState!==null||Ct;T=ei;var F=Ct;if(ei=w,(Ct=B)&&!F)for(de=u;de!==null;)w=de,B=w.child,w.tag===22&&w.memoizedState!==null?cd(u):B!==null?(B.return=w,de=B):cd(u);for(;p!==null;)de=p,id(p),p=p.sibling;de=u,ei=T,Ct=F}sd(e)}else(u.subtreeFlags&8772)!==0&&p!==null?(p.return=u,de=p):sd(e)}}function sd(e){for(;de!==null;){var n=de;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ct||ti(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Ct)if(o===null)a.componentDidMount();else{var u=n.elementType===n.type?o.memoizedProps:dn(n.type,o.memoizedProps);a.componentDidUpdate(u,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&au(n,p,a);break;case 3:var w=n.updateQueue;if(w!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}au(n,w,o)}break;case 5:var T=n.stateNode;if(o===null&&n.flags&4){o=T;var B=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&o.focus();break;case"img":B.src&&(o.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var Z=q.dehydrated;Z!==null&&yo(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ct||n.flags&512&&ia(n)}catch(Q){Xe(n,n.return,Q)}}if(n===e){de=null;break}if(o=n.sibling,o!==null){o.return=n.return,de=o;break}de=n.return}}function ad(e){for(;de!==null;){var n=de;if(n===e){de=null;break}var o=n.sibling;if(o!==null){o.return=n.return,de=o;break}de=n.return}}function cd(e){for(;de!==null;){var n=de;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{ti(4,n)}catch(B){Xe(n,o,B)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(B){Xe(n,u,B)}}var p=n.return;try{ia(n)}catch(B){Xe(n,p,B)}break;case 5:var w=n.return;try{ia(n)}catch(B){Xe(n,w,B)}}}catch(B){Xe(n,n.return,B)}if(n===e){de=null;break}var T=n.sibling;if(T!==null){T.return=n.return,de=T;break}de=n.return}}var pp=Math.ceil,ni=A.ReactCurrentDispatcher,ca=A.ReactCurrentOwner,on=A.ReactCurrentBatchConfig,Re=0,dt=null,Ze=null,vt=0,Gt=0,to=Qn(0),ot=0,Ho=null,kr=0,ri=0,ua=0,Fo=null,Dt=null,da=0,no=1/0,Mn=null,oi=!1,fa=null,nr=null,li=!1,rr=null,ii=0,Wo=0,ga=null,si=-1,ai=0;function Nt(){return(Re&6)!==0?fe():si!==-1?si:si=fe()}function or(e){return(e.mode&1)===0?1:(Re&2)!==0&&vt!==0?vt&-vt:qg.transition!==null?(ai===0&&(ai=nc()),ai):(e=Be,e!==0||(e=window.event,e=e===void 0?16:dc(e.type)),e)}function pn(e,n,o,a){if(50<Wo)throw Wo=0,ga=null,Error(i(185));go(e,o,a),((Re&2)===0||e!==dt)&&(e===dt&&((Re&2)===0&&(ri|=o),ot===4&&lr(e,vt)),Pt(e,a),o===1&&Re===0&&(n.mode&1)===0&&(no=fe()+500,Dl&&Jn()))}function Pt(e,n){var o=e.callbackNode;qf(e,n);var a=xl(e,e===dt?vt:0);if(a===0)o!==null&&fl(o),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(o!=null&&fl(o),n===1)e.tag===0?Qg(dd.bind(null,e)):Qc(dd.bind(null,e)),Kg(function(){(Re&6)===0&&Jn()}),o=null;else{switch(rc(a)){case 1:o=We;break;case 4:o=Ft;break;case 16:o=Wt;break;case 536870912:o=kn;break;default:o=Wt}o=vd(o,ud.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function ud(e,n){if(si=-1,ai=0,(Re&6)!==0)throw Error(i(327));var o=e.callbackNode;if(ro()&&e.callbackNode!==o)return null;var a=xl(e,e===dt?vt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=ci(e,a);else{n=a;var u=Re;Re|=2;var p=gd();(dt!==e||vt!==n)&&(Mn=null,no=fe()+500,Sr(e,n));do try{xp();break}catch(T){fd(e,T)}while(!0);As(),ni.current=p,Re=u,Ze!==null?n=0:(dt=null,vt=0,n=ot)}if(n!==0){if(n===2&&(u=Gi(e),u!==0&&(a=u,n=pa(e,u))),n===1)throw o=Ho,Sr(e,0),lr(e,a),Pt(e,fe()),o;if(n===6)lr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!hp(u)&&(n=ci(e,a),n===2&&(p=Gi(e),p!==0&&(a=p,n=pa(e,p))),n===1))throw o=Ho,Sr(e,0),lr(e,a),Pt(e,fe()),o;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(i(345));case 2:jr(e,Dt,Mn);break;case 3:if(lr(e,a),(a&130023424)===a&&(n=da+500-fe(),10<n)){if(xl(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Nt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=bs(jr.bind(null,e,Dt,Mn),n);break}jr(e,Dt,Mn);break;case 4:if(lr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var w=31-Zt(a);p=1<<w,w=n[w],w>u&&(u=w),a&=~p}if(a=u,a=fe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*pp(a/1960))-a,10<a){e.timeoutHandle=bs(jr.bind(null,e,Dt,Mn),a);break}jr(e,Dt,Mn);break;case 5:jr(e,Dt,Mn);break;default:throw Error(i(329))}}}return Pt(e,fe()),e.callbackNode===o?ud.bind(null,e):null}function pa(e,n){var o=Fo;return e.current.memoizedState.isDehydrated&&(Sr(e,n).flags|=256),e=ci(e,n),e!==2&&(n=Dt,Dt=o,n!==null&&ha(n)),e}function ha(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function hp(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var u=o[a],p=u.getSnapshot;u=u.value;try{if(!cn(p(),u))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(e,n){for(n&=~ua,n&=~ri,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Zt(n),a=1<<o;e[o]=-1,n&=~a}}function dd(e){if((Re&6)!==0)throw Error(i(327));ro();var n=xl(e,0);if((n&1)===0)return Pt(e,fe()),null;var o=ci(e,n);if(e.tag!==0&&o===2){var a=Gi(e);a!==0&&(n=a,o=pa(e,a))}if(o===1)throw o=Ho,Sr(e,0),lr(e,n),Pt(e,fe()),o;if(o===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,jr(e,Dt,Mn),Pt(e,fe()),null}function ma(e,n){var o=Re;Re|=1;try{return e(n)}finally{Re=o,Re===0&&(no=fe()+500,Dl&&Jn())}}function Cr(e){rr!==null&&rr.tag===0&&(Re&6)===0&&ro();var n=Re;Re|=1;var o=on.transition,a=Be;try{if(on.transition=null,Be=1,e)return e()}finally{Be=a,on.transition=o,Re=n,(Re&6)===0&&Jn()}}function xa(){Gt=to.current,Fe(to)}function Sr(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Vg(o)),Ze!==null)for(o=Ze.return;o!==null;){var a=o;switch(Ns(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Il();break;case 3:Jr(),Fe(Bt),Fe(bt),zs();break;case 5:Ps(a);break;case 4:Jr();break;case 13:Fe(Ke);break;case 19:Fe(Ke);break;case 10:Ls(a.type._context);break;case 22:case 23:xa()}o=o.return}if(dt=e,Ze=e=ir(e.current,null),vt=Gt=n,ot=0,Ho=null,ua=ri=kr=0,Dt=Fo=null,vr!==null){for(n=0;n<vr.length;n++)if(o=vr[n],a=o.interleaved,a!==null){o.interleaved=null;var u=a.next,p=o.pending;if(p!==null){var w=p.next;p.next=u,a.next=w}o.pending=a}vr=null}return e}function fd(e,n){do{var o=Ze;try{if(As(),Kl.current=Ql,Gl){for(var a=Ge.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Gl=!1}if(wr=0,ut=rt=Ge=null,_o=!1,Do=0,ca.current=null,o===null||o.return===null){ot=1,Ho=n,Ze=null;break}e:{var p=e,w=o.return,T=o,B=n;if(n=vt,T.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var F=B,q=T,Z=q.tag;if((q.mode&1)===0&&(Z===0||Z===11||Z===15)){var Q=q.alternate;Q?(q.updateQueue=Q.updateQueue,q.memoizedState=Q.memoizedState,q.lanes=Q.lanes):(q.updateQueue=null,q.memoizedState=null)}var ue=Pu(w);if(ue!==null){ue.flags&=-257,Mu(ue,w,T,p,n),ue.mode&1&&Du(p,F,n),n=ue,B=F;var ge=n.updateQueue;if(ge===null){var pe=new Set;pe.add(B),n.updateQueue=pe}else ge.add(B);break e}else{if((n&1)===0){Du(p,F,n),ya();break e}B=Error(i(426))}}else if(Ue&&T.mode&1){var qe=Pu(w);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),Mu(qe,w,T,p,n),Ts(Zr(B,T));break e}}p=B=Zr(B,T),ot!==4&&(ot=2),Fo===null?Fo=[p]:Fo.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var D=Iu(p,B,n);su(p,D);break e;case 1:T=B;var I=p.type,z=p.stateNode;if((p.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(nr===null||!nr.has(z)))){p.flags|=65536,n&=-n,p.lanes|=n;var oe=_u(p,T,n);su(p,oe);break e}}p=p.return}while(p!==null)}hd(o)}catch(xe){n=xe,Ze===o&&o!==null&&(Ze=o=o.return);continue}break}while(!0)}function gd(){var e=ni.current;return ni.current=Ql,e===null?Ql:e}function ya(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||(kr&268435455)===0&&(ri&268435455)===0||lr(dt,vt)}function ci(e,n){var o=Re;Re|=2;var a=gd();(dt!==e||vt!==n)&&(Mn=null,Sr(e,n));do try{mp();break}catch(u){fd(e,u)}while(!0);if(As(),Re=o,ni.current=a,Ze!==null)throw Error(i(261));return dt=null,vt=0,ot}function mp(){for(;Ze!==null;)pd(Ze)}function xp(){for(;Ze!==null&&!gl();)pd(Ze)}function pd(e){var n=yd(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,n===null?hd(e):Ze=n,ca.current=null}function hd(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=cp(o,n,Gt),o!==null){Ze=o;return}}else{if(o=up(o,n),o!==null){o.flags&=32767,Ze=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,Ze=null;return}}if(n=n.sibling,n!==null){Ze=n;return}Ze=n=e}while(n!==null);ot===0&&(ot=5)}function jr(e,n,o){var a=Be,u=on.transition;try{on.transition=null,Be=1,yp(e,n,o,a)}finally{on.transition=u,Be=a}return null}function yp(e,n,o,a){do ro();while(rr!==null);if((Re&6)!==0)throw Error(i(327));o=e.finishedWork;var u=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=o.lanes|o.childLanes;if(Jf(e,p),e===dt&&(Ze=dt=null,vt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||li||(li=!0,vd(Wt,function(){return ro(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=on.transition,on.transition=null;var w=Be;Be=1;var T=Re;Re|=4,ca.current=null,fp(e,o),ld(o,e),Mg(ys),bl=!!xs,ys=xs=null,e.current=o,gp(o),_r(),Re=T,Be=w,on.transition=p}else e.current=o;if(li&&(li=!1,rr=e,ii=u),p=e.pendingLanes,p===0&&(nr=null),Rn(o.stateNode),Pt(e,fe()),n!==null)for(a=e.onRecoverableError,o=0;o<n.length;o++)u=n[o],a(u.value,{componentStack:u.stack,digest:u.digest});if(oi)throw oi=!1,e=fa,fa=null,e;return(ii&1)!==0&&e.tag!==0&&ro(),p=e.pendingLanes,(p&1)!==0?e===ga?Wo++:(Wo=0,ga=e):Wo=0,Jn(),null}function ro(){if(rr!==null){var e=rc(ii),n=on.transition,o=Be;try{if(on.transition=null,Be=16>e?16:e,rr===null)var a=!1;else{if(e=rr,rr=null,ii=0,(Re&6)!==0)throw Error(i(331));var u=Re;for(Re|=4,de=e.current;de!==null;){var p=de,w=p.child;if((de.flags&16)!==0){var T=p.deletions;if(T!==null){for(var B=0;B<T.length;B++){var F=T[B];for(de=F;de!==null;){var q=de;switch(q.tag){case 0:case 11:case 15:Oo(8,q,p)}var Z=q.child;if(Z!==null)Z.return=q,de=Z;else for(;de!==null;){q=de;var Q=q.sibling,ue=q.return;if(ed(q),q===F){de=null;break}if(Q!==null){Q.return=ue,de=Q;break}de=ue}}}var ge=p.alternate;if(ge!==null){var pe=ge.child;if(pe!==null){ge.child=null;do{var qe=pe.sibling;pe.sibling=null,pe=qe}while(pe!==null)}}de=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,de=w;else e:for(;de!==null;){if(p=de,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Oo(9,p,p.return)}var D=p.sibling;if(D!==null){D.return=p.return,de=D;break e}de=p.return}}var I=e.current;for(de=I;de!==null;){w=de;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,de=z;else e:for(w=I;de!==null;){if(T=de,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:ti(9,T)}}catch(xe){Xe(T,T.return,xe)}if(T===w){de=null;break e}var oe=T.sibling;if(oe!==null){oe.return=T.return,de=oe;break e}de=T.return}}if(Re=u,Jn(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(an,e)}catch{}a=!0}return a}finally{Be=o,on.transition=n}}return!1}function md(e,n,o){n=Zr(o,n),n=Iu(e,n,1),e=er(e,n,1),n=Nt(),e!==null&&(go(e,1,n),Pt(e,n))}function Xe(e,n,o){if(e.tag===3)md(e,e,o);else for(;n!==null;){if(n.tag===3){md(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(nr===null||!nr.has(a))){e=Zr(o,e),e=_u(n,e,1),n=er(n,e,1),e=Nt(),n!==null&&(go(n,1,e),Pt(n,e));break}}n=n.return}}function vp(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),n=Nt(),e.pingedLanes|=e.suspendedLanes&o,dt===e&&(vt&o)===o&&(ot===4||ot===3&&(vt&130023424)===vt&&500>fe()-da?Sr(e,0):ua|=o),Pt(e,n)}function xd(e,n){n===0&&((e.mode&1)===0?n=1:(n=ml,ml<<=1,(ml&130023424)===0&&(ml=4194304)));var o=Nt();e=_n(e,n),e!==null&&(go(e,n,o),Pt(e,o))}function bp(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),xd(e,o)}function wp(e,n){var o=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(o=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(n),xd(e,o)}var yd;yd=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Bt.current)_t=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return _t=!1,ap(e,n,o);_t=(e.flags&131072)!==0}else _t=!1,Ue&&(n.flags&1048576)!==0&&qc(n,Ml,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Zl(e,n),e=n.pendingProps;var u=Vr(n,bt.current);qr(n,o),u=Fs(null,n,a,e,u,o);var p=Ws();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,It(a)?(p=!0,_l(n)):p=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,_s(n),u.updater=ql,n.stateNode=u,u._reactInternals=n,Ys(n,a,e,o),n=Zs(null,n,a,!0,p,o)):(n.tag=0,Ue&&p&&js(n),jt(null,n,u,o),n=n.child),n;case 16:a=n.elementType;e:{switch(Zl(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=Cp(a),e=dn(a,e),u){case 0:n=Js(null,n,a,e,o);break e;case 1:n=Uu(null,n,a,e,o);break e;case 11:n=zu(null,n,a,e,o);break e;case 14:n=Ou(null,n,a,dn(a.type,e),o);break e}throw Error(i(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:dn(a,u),Js(e,n,a,u,o);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:dn(a,u),Uu(e,n,a,u,o);case 3:e:{if(Vu(n),e===null)throw Error(i(387));a=n.pendingProps,p=n.memoizedState,u=p.element,iu(e,n),Ul(n,a,null,o);var w=n.memoizedState;if(a=w.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){u=Zr(Error(i(423)),n),n=Ku(e,n,a,o,u);break e}else if(a!==u){u=Zr(Error(i(424)),n),n=Ku(e,n,a,o,u);break e}else for(Kt=Yn(n.stateNode.containerInfo.firstChild),Vt=n,Ue=!0,un=null,o=ou(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Xr(),a===u){n=Pn(e,n,o);break e}jt(e,n,a,o)}n=n.child}return n;case 5:return cu(n),e===null&&$s(n),a=n.type,u=n.pendingProps,p=e!==null?e.memoizedProps:null,w=u.children,vs(a,u)?w=null:p!==null&&vs(a,p)&&(n.flags|=32),Wu(e,n),jt(e,n,w,o),n.child;case 6:return e===null&&$s(n),null;case 13:return Gu(e,n,o);case 4:return Ds(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Yr(n,null,a,o):jt(e,n,a,o),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:dn(a,u),zu(e,n,a,u,o);case 7:return jt(e,n,n.pendingProps,o),n.child;case 8:return jt(e,n,n.pendingProps.children,o),n.child;case 12:return jt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,p=n.memoizedProps,w=u.value,Pe(Hl,a._currentValue),a._currentValue=w,p!==null)if(cn(p.value,w)){if(p.children===u.children&&!Bt.current){n=Pn(e,n,o);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var T=p.dependencies;if(T!==null){w=p.child;for(var B=T.firstContext;B!==null;){if(B.context===a){if(p.tag===1){B=Dn(-1,o&-o),B.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?B.next=B:(B.next=q.next,q.next=B),F.pending=B}}p.lanes|=o,B=p.alternate,B!==null&&(B.lanes|=o),Bs(p.return,o,n),T.lanes|=o;break}B=B.next}}else if(p.tag===10)w=p.type===n.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,T=w.alternate,T!==null&&(T.lanes|=o),Bs(w,o,n),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}jt(e,n,u.children,o),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,qr(n,o),u=nn(u),a=a(u),n.flags|=1,jt(e,n,a,o),n.child;case 14:return a=n.type,u=dn(a,n.pendingProps),u=dn(a.type,u),Ou(e,n,a,u,o);case 15:return Hu(e,n,n.type,n.pendingProps,o);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:dn(a,u),Zl(e,n),n.tag=1,It(a)?(e=!0,_l(n)):e=!1,qr(n,o),Lu(n,a,u),Ys(n,a,u,o),Zs(null,n,a,!0,e,o);case 19:return Yu(e,n,o);case 22:return Fu(e,n,o)}throw Error(i(156,n.tag))};function vd(e,n){return dl(e,n)}function kp(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,o,a){return new kp(e,n,o,a)}function va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cp(e){if(typeof e=="function")return va(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O)return 11;if(e===ce)return 14}return 2}function ir(e,n){var o=e.alternate;return o===null?(o=ln(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function ui(e,n,o,a,u,p){var w=2;if(a=e,typeof e=="function")va(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case P:return Nr(o.children,u,p,n);case H:w=8,u|=8;break;case G:return e=ln(12,o,n,u|2),e.elementType=G,e.lanes=p,e;case ee:return e=ln(13,o,n,u),e.elementType=ee,e.lanes=p,e;case se:return e=ln(19,o,n,u),e.elementType=se,e.lanes=p,e;case ve:return di(o,u,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:w=10;break e;case Y:w=9;break e;case O:w=11;break e;case ce:w=14;break e;case he:w=16,a=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=ln(w,o,n,u),n.elementType=e,n.type=a,n.lanes=p,n}function Nr(e,n,o,a){return e=ln(7,e,a,n),e.lanes=o,e}function di(e,n,o,a){return e=ln(22,e,a,n),e.elementType=ve,e.lanes=o,e.stateNode={isHidden:!1},e}function ba(e,n,o){return e=ln(6,e,null,n),e.lanes=o,e}function wa(e,n,o){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Sp(e,n,o,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ka(e,n,o,a,u,p,w,T,B){return e=new Sp(e,n,o,T,B),n===1?(n=1,p===!0&&(n|=8)):n=0,p=ln(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_s(p),e}function jp(e,n,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:a==null?null:""+a,children:e,containerInfo:n,implementation:o}}function bd(e){if(!e)return qn;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(It(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var o=e.type;if(It(o))return Xc(e,o,n)}return n}function wd(e,n,o,a,u,p,w,T,B){return e=ka(o,a,!0,e,u,p,w,T,B),e.context=bd(null),o=e.current,a=Nt(),u=or(o),p=Dn(a,u),p.callback=n??null,er(o,p,u),e.current.lanes=u,go(e,u,a),Pt(e,a),e}function fi(e,n,o,a){var u=n.current,p=Nt(),w=or(u);return o=bd(o),n.context===null?n.context=o:n.pendingContext=o,n=Dn(p,w),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=er(u,n,w),e!==null&&(pn(e,u,w,p),Wl(e,u,w)),w}function gi(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function kd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Ca(e,n){kd(e,n),(e=e.alternate)&&kd(e,n)}function Np(){return null}var Cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sa(e){this._internalRoot=e}pi.prototype.render=Sa.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));fi(e,n,null,null)},pi.prototype.unmount=Sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Cr(function(){fi(null,e,null,null)}),n[An]=null}};function pi(e){this._internalRoot=e}pi.prototype.unstable_scheduleHydration=function(e){if(e){var n=ic();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Kn.length&&n!==0&&n<Kn[o].priority;o++);Kn.splice(o,0,e),o===0&&cc(e)}};function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sd(){}function Ep(e,n,o,a,u){if(u){if(typeof a=="function"){var p=a;a=function(){var F=gi(w);p.call(F)}}var w=wd(n,a,e,0,null,!1,!1,"",Sd);return e._reactRootContainer=w,e[An]=w.current,Eo(e.nodeType===8?e.parentNode:e),Cr(),w}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var T=a;a=function(){var F=gi(B);T.call(F)}}var B=ka(e,0,!1,null,null,!1,!1,"",Sd);return e._reactRootContainer=B,e[An]=B.current,Eo(e.nodeType===8?e.parentNode:e),Cr(function(){fi(n,B,o,a)}),B}function mi(e,n,o,a,u){var p=o._reactRootContainer;if(p){var w=p;if(typeof u=="function"){var T=u;u=function(){var B=gi(w);T.call(B)}}fi(n,w,e,u)}else w=Ep(o,n,e,u,a);return gi(w)}oc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=fo(n.pendingLanes);o!==0&&(Yi(n,o|1),Pt(n,fe()),(Re&6)===0&&(no=fe()+500,Jn()))}break;case 13:Cr(function(){var a=_n(e,1);if(a!==null){var u=Nt();pn(a,e,1,u)}}),Ca(e,1)}},Qi=function(e){if(e.tag===13){var n=_n(e,134217728);if(n!==null){var o=Nt();pn(n,e,134217728,o)}Ca(e,134217728)}},lc=function(e){if(e.tag===13){var n=or(e),o=_n(e,n);if(o!==null){var a=Nt();pn(o,e,n,a)}Ca(e,n)}},ic=function(){return Be},sc=function(e,n){var o=Be;try{return Be=e,n()}finally{Be=o}},gr=function(e,n,o){switch(n){case"input":if(Tt(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var u=Bl(a);if(!u)throw Error(i(90));Te(a),Tt(a,u)}}}break;case"textarea":On(e,o);break;case"select":n=o.value,n!=null&&zt(e,!!o.multiple,n,!1)}},st=ma,at=Cr;var $p={usingClientEntryPoint:!1,Events:[Ro,Wr,Bl,tt,Ht,ma]},Uo={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tp={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cl(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Np,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{an=xi.inject(Tp),nt=xi}catch{}}return Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p,Mt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ja(n))throw Error(i(200));return jp(e,n,null,o)},Mt.createRoot=function(e,n){if(!ja(e))throw Error(i(299));var o=!1,a="",u=Cd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=ka(e,1,!1,null,null,o,!1,a,u),e[An]=n.current,Eo(e.nodeType===8?e.parentNode:e),new Sa(n)},Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=cl(n),e=e===null?null:e.stateNode,e},Mt.flushSync=function(e){return Cr(e)},Mt.hydrate=function(e,n,o){if(!hi(n))throw Error(i(200));return mi(null,e,n,!0,o)},Mt.hydrateRoot=function(e,n,o){if(!ja(e))throw Error(i(405));var a=o!=null&&o.hydratedSources||null,u=!1,p="",w=Cd;if(o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),n=wd(n,null,e,1,o??null,u,!1,p,w),e[An]=n.current,Eo(e),a)for(e=0;e<a.length;e++)o=a[e],u=o._getVersion,u=u(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,u]:n.mutableSourceEagerHydrationData.push(o,u);return new pi(n)},Mt.render=function(e,n,o){if(!hi(n))throw Error(i(200));return mi(null,e,n,!1,o)},Mt.unmountComponentAtNode=function(e){if(!hi(e))throw Error(i(40));return e._reactRootContainer?(Cr(function(){mi(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1},Mt.unstable_batchedUpdates=ma,Mt.unstable_renderSubtreeIntoContainer=function(e,n,o,a){if(!hi(o))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return mi(e,n,o,!1,a)},Mt.version="18.3.1-next-f1338f8080-20240426",Mt}var Ld;function lf(){if(Ld)return $a.exports;Ld=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}return t(),$a.exports=Pp(),$a.exports}var cr=lf();const Mp=Fa(cr),B2=Ha({__proto__:null,default:Mp},[cr]);var yi={},Bd;function zp(){if(Bd)return yi;Bd=1;var t=lf();return yi.createRoot=t.createRoot,yi.hydrateRoot=t.hydrateRoot,yi}var I2=zp();function Op(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return y.useMemo(()=>s=>{l.forEach(c=>c(s))},l)}const zi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function so(t){const l=Object.prototype.toString.call(t);return l==="[object Window]"||l==="[object global]"}function Ua(t){return"nodeType"in t}function Et(t){var l,i;return t?so(t)?t:Ua(t)&&(l=(i=t.ownerDocument)==null?void 0:i.defaultView)!=null?l:window:window}function Va(t){const{Document:l}=Et(t);return t instanceof l}function tl(t){return so(t)?!1:t instanceof Et(t).HTMLElement}function sf(t){return t instanceof Et(t).SVGElement}function ao(t){return t?so(t)?t.document:Ua(t)?Va(t)?t:tl(t)||sf(t)?t.ownerDocument:document:document:document}const hn=zi?y.useLayoutEffect:y.useEffect;function Oi(t){const l=y.useRef(t);return hn(()=>{l.current=t}),y.useCallback(function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return l.current==null?void 0:l.current(...s)},[])}function Hp(){const t=y.useRef(null),l=y.useCallback((s,c)=>{t.current=setInterval(s,c)},[]),i=y.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[l,i]}function qo(t,l){l===void 0&&(l=[t]);const i=y.useRef(t);return hn(()=>{i.current!==t&&(i.current=t)},l),i}function nl(t,l){const i=y.useRef();return y.useMemo(()=>{const s=t(i.current);return i.current=s,s},[...l])}function Ti(t){const l=Oi(t),i=y.useRef(null),s=y.useCallback(c=>{c!==i.current&&l?.(c,i.current),i.current=c},[]);return[i,s]}function Ri(t){const l=y.useRef();return y.useEffect(()=>{l.current=t},[t]),l.current}let Aa={};function rl(t,l){return y.useMemo(()=>{if(l)return l;const i=Aa[t]==null?0:Aa[t]+1;return Aa[t]=i,t+"-"+i},[t,l])}function af(t){return function(l){for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];return s.reduce((d,g)=>{const m=Object.entries(g);for(const[h,b]of m){const x=d[h];x!=null&&(d[h]=x+t*b)}return d},{...l})}}const lo=af(1),Ai=af(-1);function Fp(t){return"clientX"in t&&"clientY"in t}function Hi(t){if(!t)return!1;const{KeyboardEvent:l}=Et(t.target);return l&&t instanceof l}function Wp(t){if(!t)return!1;const{TouchEvent:l}=Et(t.target);return l&&t instanceof l}function Li(t){if(Wp(t)){if(t.touches&&t.touches.length){const{clientX:l,clientY:i}=t.touches[0];return{x:l,y:i}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:l,clientY:i}=t.changedTouches[0];return{x:l,y:i}}}return Fp(t)?{x:t.clientX,y:t.clientY}:null}const En=Object.freeze({Translate:{toString(t){if(!t)return;const{x:l,y:i}=t;return"translate3d("+(l?Math.round(l):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:l,scaleY:i}=t;return"scaleX("+l+") scaleY("+i+")"}},Transform:{toString(t){if(t)return[En.Translate.toString(t),En.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:l,duration:i,easing:s}=t;return l+" "+i+"ms "+s}}}),Id="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Up(t){return t.matches(Id)?t:t.querySelector(Id)}const Vp={display:"none"};function Kp(t){let{id:l,value:i}=t;return Ve.createElement("div",{id:l,style:Vp},i)}function Gp(t){let{id:l,announcement:i,ariaLiveType:s="assertive"}=t;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ve.createElement("div",{id:l,style:c,role:"status","aria-live":s,"aria-atomic":!0},i)}function Xp(){const[t,l]=y.useState("");return{announce:y.useCallback(s=>{s!=null&&l(s)},[]),announcement:t}}const cf=y.createContext(null);function Yp(t){const l=y.useContext(cf);y.useEffect(()=>{if(!l)throw new Error("useDndMonitor must be used within a children of <DndContext>");return l(t)},[t,l])}function Qp(){const[t]=y.useState(()=>new Set),l=y.useCallback(s=>(t.add(s),()=>t.delete(s)),[t]);return[y.useCallback(s=>{let{type:c,event:d}=s;t.forEach(g=>{var m;return(m=g[c])==null?void 0:m.call(g,d)})},[t]),l]}const qp={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Jp={onDragStart(t){let{active:l}=t;return"Picked up draggable item "+l.id+"."},onDragOver(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was moved over droppable area "+i.id+".":"Draggable item "+l.id+" is no longer over a droppable area."},onDragEnd(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was dropped over droppable area "+i.id:"Draggable item "+l.id+" was dropped."},onDragCancel(t){let{active:l}=t;return"Dragging was cancelled. Draggable item "+l.id+" was dropped."}};function Zp(t){let{announcements:l=Jp,container:i,hiddenTextDescribedById:s,screenReaderInstructions:c=qp}=t;const{announce:d,announcement:g}=Xp(),m=rl("DndLiveRegion"),[h,b]=y.useState(!1);if(y.useEffect(()=>{b(!0)},[]),Yp(y.useMemo(()=>({onDragStart(v){let{active:N}=v;d(l.onDragStart({active:N}))},onDragMove(v){let{active:N,over:S}=v;l.onDragMove&&d(l.onDragMove({active:N,over:S}))},onDragOver(v){let{active:N,over:S}=v;d(l.onDragOver({active:N,over:S}))},onDragEnd(v){let{active:N,over:S}=v;d(l.onDragEnd({active:N,over:S}))},onDragCancel(v){let{active:N,over:S}=v;d(l.onDragCancel({active:N,over:S}))}}),[d,l])),!h)return null;const x=Ve.createElement(Ve.Fragment,null,Ve.createElement(Kp,{id:s,value:c.draggable}),Ve.createElement(Gp,{id:m,announcement:g}));return i?cr.createPortal(x,i):x}var lt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function Bi(){}function eh(t,l){return y.useMemo(()=>({sensor:t,options:l??{}}),[t,l])}function th(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return y.useMemo(()=>[...l].filter(s=>s!=null),[...l])}const mn=Object.freeze({x:0,y:0});function uf(t,l){return Math.sqrt(Math.pow(t.x-l.x,2)+Math.pow(t.y-l.y,2))}function nh(t,l){const i=Li(t);if(!i)return"0 0";const s={x:(i.x-l.left)/l.width*100,y:(i.y-l.top)/l.height*100};return s.x+"% "+s.y+"%"}function df(t,l){let{data:{value:i}}=t,{data:{value:s}}=l;return i-s}function rh(t,l){let{data:{value:i}}=t,{data:{value:s}}=l;return s-i}function oh(t){let{left:l,top:i,height:s,width:c}=t;return[{x:l,y:i},{x:l+c,y:i},{x:l,y:i+s},{x:l+c,y:i+s}]}function lh(t,l){if(!t||t.length===0)return null;const[i]=t;return i[l]}function _d(t,l,i){return l===void 0&&(l=t.left),i===void 0&&(i=t.top),{x:l+t.width*.5,y:i+t.height*.5}}const ih=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:s}=t;const c=_d(l,l.left,l.top),d=[];for(const g of s){const{id:m}=g,h=i.get(m);if(h){const b=uf(_d(h),c);d.push({id:m,data:{droppableContainer:g,value:b}})}}return d.sort(df)};function sh(t,l){const i=Math.max(l.top,t.top),s=Math.max(l.left,t.left),c=Math.min(l.left+l.width,t.left+t.width),d=Math.min(l.top+l.height,t.top+t.height),g=c-s,m=d-i;if(s<c&&i<d){const h=l.width*l.height,b=t.width*t.height,x=g*m,v=x/(h+b-x);return Number(v.toFixed(4))}return 0}const ah=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:s}=t;const c=[];for(const d of s){const{id:g}=d,m=i.get(g);if(m){const h=sh(m,l);h>0&&c.push({id:g,data:{droppableContainer:d,value:h}})}}return c.sort(rh)};function ch(t,l){const{top:i,left:s,bottom:c,right:d}=l;return i<=t.y&&t.y<=c&&s<=t.x&&t.x<=d}const uh=t=>{let{droppableContainers:l,droppableRects:i,pointerCoordinates:s}=t;if(!s)return[];const c=[];for(const d of l){const{id:g}=d,m=i.get(g);if(m&&ch(s,m)){const b=oh(m).reduce((v,N)=>v+uf(s,N),0),x=Number((b/4).toFixed(4));c.push({id:g,data:{droppableContainer:d,value:x}})}}return c.sort(df)};function dh(t,l,i){return{...t,scaleX:l&&i?l.width/i.width:1,scaleY:l&&i?l.height/i.height:1}}function ff(t,l){return t&&l?{x:t.left-l.left,y:t.top-l.top}:mn}function fh(t){return function(i){for(var s=arguments.length,c=new Array(s>1?s-1:0),d=1;d<s;d++)c[d-1]=arguments[d];return c.reduce((g,m)=>({...g,top:g.top+t*m.y,bottom:g.bottom+t*m.y,left:g.left+t*m.x,right:g.right+t*m.x}),{...i})}}const gh=fh(1);function gf(t){if(t.startsWith("matrix3d(")){const l=t.slice(9,-1).split(/, /);return{x:+l[12],y:+l[13],scaleX:+l[0],scaleY:+l[5]}}else if(t.startsWith("matrix(")){const l=t.slice(7,-1).split(/, /);return{x:+l[4],y:+l[5],scaleX:+l[0],scaleY:+l[3]}}return null}function ph(t,l,i){const s=gf(l);if(!s)return t;const{scaleX:c,scaleY:d,x:g,y:m}=s,h=t.left-g-(1-c)*parseFloat(i),b=t.top-m-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),x=c?t.width/c:t.width,v=d?t.height/d:t.height;return{width:x,height:v,top:b,right:h+x,bottom:b+v,left:h}}const hh={ignoreTransform:!1};function co(t,l){l===void 0&&(l=hh);let i=t.getBoundingClientRect();if(l.ignoreTransform){const{transform:b,transformOrigin:x}=Et(t).getComputedStyle(t);b&&(i=ph(i,b,x))}const{top:s,left:c,width:d,height:g,bottom:m,right:h}=i;return{top:s,left:c,width:d,height:g,bottom:m,right:h}}function Dd(t){return co(t,{ignoreTransform:!0})}function mh(t){const l=t.innerWidth,i=t.innerHeight;return{top:0,left:0,right:l,bottom:i,width:l,height:i}}function xh(t,l){return l===void 0&&(l=Et(t).getComputedStyle(t)),l.position==="fixed"}function yh(t,l){l===void 0&&(l=Et(t).getComputedStyle(t));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const d=l[c];return typeof d=="string"?i.test(d):!1})}function Ka(t,l){const i=[];function s(c){if(l!=null&&i.length>=l||!c)return i;if(Va(c)&&c.scrollingElement!=null&&!i.includes(c.scrollingElement))return i.push(c.scrollingElement),i;if(!tl(c)||sf(c)||i.includes(c))return i;const d=Et(t).getComputedStyle(c);return c!==t&&yh(c,d)&&i.push(c),xh(c,d)?i:s(c.parentNode)}return t?s(t):i}function pf(t){const[l]=Ka(t,1);return l??null}function La(t){return!zi||!t?null:so(t)?t:Ua(t)?Va(t)||t===ao(t).scrollingElement?window:tl(t)?t:null:null}function hf(t){return so(t)?t.scrollX:t.scrollLeft}function mf(t){return so(t)?t.scrollY:t.scrollTop}function _a(t){return{x:hf(t),y:mf(t)}}var gt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(gt||(gt={}));function xf(t){return!zi||!t?!1:t===document.scrollingElement}function yf(t){const l={x:0,y:0},i=xf(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},s={x:t.scrollWidth-i.width,y:t.scrollHeight-i.height},c=t.scrollTop<=l.y,d=t.scrollLeft<=l.x,g=t.scrollTop>=s.y,m=t.scrollLeft>=s.x;return{isTop:c,isLeft:d,isBottom:g,isRight:m,maxScroll:s,minScroll:l}}const vh={x:.2,y:.2};function bh(t,l,i,s,c){let{top:d,left:g,right:m,bottom:h}=i;s===void 0&&(s=10),c===void 0&&(c=vh);const{isTop:b,isBottom:x,isLeft:v,isRight:N}=yf(t),S={x:0,y:0},$={x:0,y:0},k={height:l.height*c.y,width:l.width*c.x};return!b&&d<=l.top+k.height?(S.y=gt.Backward,$.y=s*Math.abs((l.top+k.height-d)/k.height)):!x&&h>=l.bottom-k.height&&(S.y=gt.Forward,$.y=s*Math.abs((l.bottom-k.height-h)/k.height)),!N&&m>=l.right-k.width?(S.x=gt.Forward,$.x=s*Math.abs((l.right-k.width-m)/k.width)):!v&&g<=l.left+k.width&&(S.x=gt.Backward,$.x=s*Math.abs((l.left+k.width-g)/k.width)),{direction:S,speed:$}}function wh(t){if(t===document.scrollingElement){const{innerWidth:d,innerHeight:g}=window;return{top:0,left:0,right:d,bottom:g,width:d,height:g}}const{top:l,left:i,right:s,bottom:c}=t.getBoundingClientRect();return{top:l,left:i,right:s,bottom:c,width:t.clientWidth,height:t.clientHeight}}function vf(t){return t.reduce((l,i)=>lo(l,_a(i)),mn)}function kh(t){return t.reduce((l,i)=>l+hf(i),0)}function Ch(t){return t.reduce((l,i)=>l+mf(i),0)}function bf(t,l){if(l===void 0&&(l=co),!t)return;const{top:i,left:s,bottom:c,right:d}=l(t);pf(t)&&(c<=0||d<=0||i>=window.innerHeight||s>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Sh=[["x",["left","right"],kh],["y",["top","bottom"],Ch]];class Ga{constructor(l,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Ka(i),c=vf(s);this.rect={...l},this.width=l.width,this.height=l.height;for(const[d,g,m]of Sh)for(const h of g)Object.defineProperty(this,h,{get:()=>{const b=m(s),x=c[d]-b;return this.rect[h]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Xo{constructor(l){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...i)})},this.target=l}add(l,i,s){var c;(c=this.target)==null||c.addEventListener(l,i,s),this.listeners.push([l,i,s])}}function jh(t){const{EventTarget:l}=Et(t);return t instanceof l?t:ao(t)}function Ba(t,l){const i=Math.abs(t.x),s=Math.abs(t.y);return typeof l=="number"?Math.sqrt(i**2+s**2)>l:"x"in l&&"y"in l?i>l.x&&s>l.y:"x"in l?i>l.x:"y"in l?s>l.y:!1}var sn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(sn||(sn={}));function Pd(t){t.preventDefault()}function Nh(t){t.stopPropagation()}var Le;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Le||(Le={}));const wf={start:[Le.Space,Le.Enter],cancel:[Le.Esc],end:[Le.Space,Le.Enter,Le.Tab]},Eh=(t,l)=>{let{currentCoordinates:i}=l;switch(t.code){case Le.Right:return{...i,x:i.x+25};case Le.Left:return{...i,x:i.x-25};case Le.Down:return{...i,y:i.y+25};case Le.Up:return{...i,y:i.y-25}}};class kf{constructor(l){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=l;const{event:{target:i}}=l;this.props=l,this.listeners=new Xo(ao(i)),this.windowListeners=new Xo(Et(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(sn.Resize,this.handleCancel),this.windowListeners.add(sn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(sn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:l,onStart:i}=this.props,s=l.node.current;s&&bf(s),i(mn)}handleKeyDown(l){if(Hi(l)){const{active:i,context:s,options:c}=this.props,{keyboardCodes:d=wf,coordinateGetter:g=Eh,scrollBehavior:m="smooth"}=c,{code:h}=l;if(d.end.includes(h)){this.handleEnd(l);return}if(d.cancel.includes(h)){this.handleCancel(l);return}const{collisionRect:b}=s.current,x=b?{x:b.left,y:b.top}:mn;this.referenceCoordinates||(this.referenceCoordinates=x);const v=g(l,{active:i,context:s.current,currentCoordinates:x});if(v){const N=Ai(v,x),S={x:0,y:0},{scrollableAncestors:$}=s.current;for(const k of $){const C=l.code,{isTop:j,isRight:L,isLeft:E,isBottom:A,maxScroll:R,minScroll:M}=yf(k),P=wh(k),H={x:Math.min(C===Le.Right?P.right-P.width/2:P.right,Math.max(C===Le.Right?P.left:P.left+P.width/2,v.x)),y:Math.min(C===Le.Down?P.bottom-P.height/2:P.bottom,Math.max(C===Le.Down?P.top:P.top+P.height/2,v.y))},G=C===Le.Right&&!L||C===Le.Left&&!E,V=C===Le.Down&&!A||C===Le.Up&&!j;if(G&&H.x!==v.x){const Y=k.scrollLeft+N.x,O=C===Le.Right&&Y<=R.x||C===Le.Left&&Y>=M.x;if(O&&!N.y){k.scrollTo({left:Y,behavior:m});return}O?S.x=k.scrollLeft-Y:S.x=C===Le.Right?k.scrollLeft-R.x:k.scrollLeft-M.x,S.x&&k.scrollBy({left:-S.x,behavior:m});break}else if(V&&H.y!==v.y){const Y=k.scrollTop+N.y,O=C===Le.Down&&Y<=R.y||C===Le.Up&&Y>=M.y;if(O&&!N.x){k.scrollTo({top:Y,behavior:m});return}O?S.y=k.scrollTop-Y:S.y=C===Le.Down?k.scrollTop-R.y:k.scrollTop-M.y,S.y&&k.scrollBy({top:-S.y,behavior:m});break}}this.handleMove(l,lo(Ai(v,this.referenceCoordinates),S))}}}handleMove(l,i){const{onMove:s}=this.props;l.preventDefault(),s(i)}handleEnd(l){const{onEnd:i}=this.props;l.preventDefault(),this.detach(),i()}handleCancel(l){const{onCancel:i}=this.props;l.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}kf.activators=[{eventName:"onKeyDown",handler:(t,l,i)=>{let{keyboardCodes:s=wf,onActivation:c}=l,{active:d}=i;const{code:g}=t.nativeEvent;if(s.start.includes(g)){const m=d.activatorNode.current;return m&&t.target!==m?!1:(t.preventDefault(),c?.({event:t.nativeEvent}),!0)}return!1}}];function Md(t){return!!(t&&"distance"in t)}function zd(t){return!!(t&&"delay"in t)}class Xa{constructor(l,i,s){var c;s===void 0&&(s=jh(l.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=l,this.events=i;const{event:d}=l,{target:g}=d;this.props=l,this.events=i,this.document=ao(g),this.documentListeners=new Xo(this.document),this.listeners=new Xo(s),this.windowListeners=new Xo(Et(g)),this.initialCoordinates=(c=Li(d))!=null?c:mn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:l,props:{options:{activationConstraint:i,bypassActivationConstraint:s}}}=this;if(this.listeners.add(l.move.name,this.handleMove,{passive:!1}),this.listeners.add(l.end.name,this.handleEnd),l.cancel&&this.listeners.add(l.cancel.name,this.handleCancel),this.windowListeners.add(sn.Resize,this.handleCancel),this.windowListeners.add(sn.DragStart,Pd),this.windowListeners.add(sn.VisibilityChange,this.handleCancel),this.windowListeners.add(sn.ContextMenu,Pd),this.documentListeners.add(sn.Keydown,this.handleKeydown),i){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zd(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Md(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(l,i){const{active:s,onPending:c}=this.props;c(s,l,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:l}=this,{onStart:i}=this.props;l&&(this.activated=!0,this.documentListeners.add(sn.Click,Nh,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(sn.SelectionChange,this.removeTextSelection),i(l))}handleMove(l){var i;const{activated:s,initialCoordinates:c,props:d}=this,{onMove:g,options:{activationConstraint:m}}=d;if(!c)return;const h=(i=Li(l))!=null?i:mn,b=Ai(c,h);if(!s&&m){if(Md(m)){if(m.tolerance!=null&&Ba(b,m.tolerance))return this.handleCancel();if(Ba(b,m.distance))return this.handleStart()}if(zd(m)&&Ba(b,m.tolerance))return this.handleCancel();this.handlePending(m,b);return}l.cancelable&&l.preventDefault(),g(h)}handleEnd(){const{onAbort:l,onEnd:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleCancel(){const{onAbort:l,onCancel:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleKeydown(l){l.code===Le.Esc&&this.handleCancel()}removeTextSelection(){var l;(l=this.document.getSelection())==null||l.removeAllRanges()}}const $h={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ya extends Xa{constructor(l){const{event:i}=l,s=ao(i.target);super(l,$h,s)}}Ya.activators=[{eventName:"onPointerDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:s}=l;return!i.isPrimary||i.button!==0?!1:(s?.({event:i}),!0)}}];const Th={move:{name:"mousemove"},end:{name:"mouseup"}};var Da;(function(t){t[t.RightClick=2]="RightClick"})(Da||(Da={}));class Rh extends Xa{constructor(l){super(l,Th,ao(l.event.target))}}Rh.activators=[{eventName:"onMouseDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:s}=l;return i.button===Da.RightClick?!1:(s?.({event:i}),!0)}}];const Ia={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ah extends Xa{constructor(l){super(l,Ia)}static setup(){return window.addEventListener(Ia.move.name,l,{capture:!1,passive:!1}),function(){window.removeEventListener(Ia.move.name,l)};function l(){}}}Ah.activators=[{eventName:"onTouchStart",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:s}=l;const{touches:c}=i;return c.length>1?!1:(s?.({event:i}),!0)}}];var Yo;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Yo||(Yo={}));var Ii;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ii||(Ii={}));function Lh(t){let{acceleration:l,activator:i=Yo.Pointer,canScroll:s,draggingRect:c,enabled:d,interval:g=5,order:m=Ii.TreeOrder,pointerCoordinates:h,scrollableAncestors:b,scrollableAncestorRects:x,delta:v,threshold:N}=t;const S=Ih({delta:v,disabled:!d}),[$,k]=Hp(),C=y.useRef({x:0,y:0}),j=y.useRef({x:0,y:0}),L=y.useMemo(()=>{switch(i){case Yo.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Yo.DraggableRect:return c}},[i,c,h]),E=y.useRef(null),A=y.useCallback(()=>{const M=E.current;if(!M)return;const P=C.current.x*j.current.x,H=C.current.y*j.current.y;M.scrollBy(P,H)},[]),R=y.useMemo(()=>m===Ii.TreeOrder?[...b].reverse():b,[m,b]);y.useEffect(()=>{if(!d||!b.length||!L){k();return}for(const M of R){if(s?.(M)===!1)continue;const P=b.indexOf(M),H=x[P];if(!H)continue;const{direction:G,speed:V}=bh(M,H,L,l,N);for(const Y of["x","y"])S[Y][G[Y]]||(V[Y]=0,G[Y]=0);if(V.x>0||V.y>0){k(),E.current=M,$(A,g),C.current=V,j.current=G;return}}C.current={x:0,y:0},j.current={x:0,y:0},k()},[l,A,s,k,d,g,JSON.stringify(L),JSON.stringify(S),$,b,R,x,JSON.stringify(N)])}const Bh={x:{[gt.Backward]:!1,[gt.Forward]:!1},y:{[gt.Backward]:!1,[gt.Forward]:!1}};function Ih(t){let{delta:l,disabled:i}=t;const s=Ri(l);return nl(c=>{if(i||!s||!c)return Bh;const d={x:Math.sign(l.x-s.x),y:Math.sign(l.y-s.y)};return{x:{[gt.Backward]:c.x[gt.Backward]||d.x===-1,[gt.Forward]:c.x[gt.Forward]||d.x===1},y:{[gt.Backward]:c.y[gt.Backward]||d.y===-1,[gt.Forward]:c.y[gt.Forward]||d.y===1}}},[i,l,s])}function _h(t,l){const i=l!=null?t.get(l):void 0,s=i?i.node.current:null;return nl(c=>{var d;return l==null?null:(d=s??c)!=null?d:null},[s,l])}function Dh(t,l){return y.useMemo(()=>t.reduce((i,s)=>{const{sensor:c}=s,d=c.activators.map(g=>({eventName:g.eventName,handler:l(g.handler,s)}));return[...i,...d]},[]),[t,l])}var Jo;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Jo||(Jo={}));var Pa;(function(t){t.Optimized="optimized"})(Pa||(Pa={}));const Od=new Map;function Ph(t,l){let{dragging:i,dependencies:s,config:c}=l;const[d,g]=y.useState(null),{frequency:m,measure:h,strategy:b}=c,x=y.useRef(t),v=C(),N=qo(v),S=y.useCallback(function(j){j===void 0&&(j=[]),!N.current&&g(L=>L===null?j:L.concat(j.filter(E=>!L.includes(E))))},[N]),$=y.useRef(null),k=nl(j=>{if(v&&!i)return Od;if(!j||j===Od||x.current!==t||d!=null){const L=new Map;for(let E of t){if(!E)continue;if(d&&d.length>0&&!d.includes(E.id)&&E.rect.current){L.set(E.id,E.rect.current);continue}const A=E.node.current,R=A?new Ga(h(A),A):null;E.rect.current=R,R&&L.set(E.id,R)}return L}return j},[t,d,i,v,h]);return y.useEffect(()=>{x.current=t},[t]),y.useEffect(()=>{v||S()},[i,v]),y.useEffect(()=>{d&&d.length>0&&g(null)},[JSON.stringify(d)]),y.useEffect(()=>{v||typeof m!="number"||$.current!==null||($.current=setTimeout(()=>{S(),$.current=null},m))},[m,v,S,...s]),{droppableRects:k,measureDroppableContainers:S,measuringScheduled:d!=null};function C(){switch(b){case Jo.Always:return!1;case Jo.BeforeDragging:return i;default:return!i}}}function Qa(t,l){return nl(i=>t?i||(typeof l=="function"?l(t):t):null,[l,t])}function Mh(t,l){return Qa(t,l)}function zh(t){let{callback:l,disabled:i}=t;const s=Oi(l),c=y.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(s)},[s,i]);return y.useEffect(()=>()=>c?.disconnect(),[c]),c}function Fi(t){let{callback:l,disabled:i}=t;const s=Oi(l),c=y.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(s)},[i]);return y.useEffect(()=>()=>c?.disconnect(),[c]),c}function Oh(t){return new Ga(co(t),t)}function Hd(t,l,i){l===void 0&&(l=Oh);const[s,c]=y.useState(null);function d(){c(h=>{if(!t)return null;if(t.isConnected===!1){var b;return(b=h??i)!=null?b:null}const x=l(t);return JSON.stringify(h)===JSON.stringify(x)?h:x})}const g=zh({callback(h){if(t)for(const b of h){const{type:x,target:v}=b;if(x==="childList"&&v instanceof HTMLElement&&v.contains(t)){d();break}}}}),m=Fi({callback:d});return hn(()=>{d(),t?(m?.observe(t),g?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),g?.disconnect())},[t]),s}function Hh(t){const l=Qa(t);return ff(t,l)}const Fd=[];function Fh(t){const l=y.useRef(t),i=nl(s=>t?s&&s!==Fd&&t&&l.current&&t.parentNode===l.current.parentNode?s:Ka(t):Fd,[t]);return y.useEffect(()=>{l.current=t},[t]),i}function Wh(t){const[l,i]=y.useState(null),s=y.useRef(t),c=y.useCallback(d=>{const g=La(d.target);g&&i(m=>m?(m.set(g,_a(g)),new Map(m)):null)},[]);return y.useEffect(()=>{const d=s.current;if(t!==d){g(d);const m=t.map(h=>{const b=La(h);return b?(b.addEventListener("scroll",c,{passive:!0}),[b,_a(b)]):null}).filter(h=>h!=null);i(m.length?new Map(m):null),s.current=t}return()=>{g(t),g(d)};function g(m){m.forEach(h=>{const b=La(h);b?.removeEventListener("scroll",c)})}},[c,t]),y.useMemo(()=>t.length?l?Array.from(l.values()).reduce((d,g)=>lo(d,g),mn):vf(t):mn,[t,l])}function Wd(t,l){l===void 0&&(l=[]);const i=y.useRef(null);return y.useEffect(()=>{i.current=null},l),y.useEffect(()=>{const s=t!==mn;s&&!i.current&&(i.current=t),!s&&i.current&&(i.current=null)},[t]),i.current?Ai(t,i.current):mn}function Uh(t){y.useEffect(()=>{if(!zi)return;const l=t.map(i=>{let{sensor:s}=i;return s.setup==null?void 0:s.setup()});return()=>{for(const i of l)i?.()}},t.map(l=>{let{sensor:i}=l;return i}))}function Vh(t,l){return y.useMemo(()=>t.reduce((i,s)=>{let{eventName:c,handler:d}=s;return i[c]=g=>{d(g,l)},i},{}),[t,l])}function Cf(t){return y.useMemo(()=>t?mh(t):null,[t])}const Ud=[];function Kh(t,l){l===void 0&&(l=co);const[i]=t,s=Cf(i?Et(i):null),[c,d]=y.useState(Ud);function g(){d(()=>t.length?t.map(h=>xf(h)?s:new Ga(l(h),h)):Ud)}const m=Fi({callback:g});return hn(()=>{m?.disconnect(),g(),t.forEach(h=>m?.observe(h))},[t]),c}function Sf(t){if(!t)return null;if(t.children.length>1)return t;const l=t.children[0];return tl(l)?l:t}function Gh(t){let{measure:l}=t;const[i,s]=y.useState(null),c=y.useCallback(b=>{for(const{target:x}of b)if(tl(x)){s(v=>{const N=l(x);return v?{...v,width:N.width,height:N.height}:N});break}},[l]),d=Fi({callback:c}),g=y.useCallback(b=>{const x=Sf(b);d?.disconnect(),x&&d?.observe(x),s(x?l(x):null)},[l,d]),[m,h]=Ti(g);return y.useMemo(()=>({nodeRef:m,rect:i,setRef:h}),[i,m,h])}const Xh=[{sensor:Ya,options:{}},{sensor:kf,options:{}}],Yh={current:{}},$i={draggable:{measure:Dd},droppable:{measure:Dd,strategy:Jo.WhileDragging,frequency:Pa.Optimized},dragOverlay:{measure:co}};class Qo extends Map{get(l){var i;return l!=null&&(i=super.get(l))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(l=>{let{disabled:i}=l;return!i})}getNodeFor(l){var i,s;return(i=(s=this.get(l))==null?void 0:s.node.current)!=null?i:void 0}}const Qh={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bi},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$i,measureDroppableContainers:Bi,windowRect:null,measuringScheduled:!1},jf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bi,draggableNodes:new Map,over:null,measureDroppableContainers:Bi},ol=y.createContext(jf),Nf=y.createContext(Qh);function qh(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qo}}}function Jh(t,l){switch(l.type){case lt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:l.initialCoordinates,active:l.active}};case lt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:l.coordinates.x-t.draggable.initialCoordinates.x,y:l.coordinates.y-t.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:i}=l,{id:s}=i,c=new Qo(t.droppable.containers);return c.set(s,i),{...t,droppable:{...t.droppable,containers:c}}}case lt.SetDroppableDisabled:{const{id:i,key:s,disabled:c}=l,d=t.droppable.containers.get(i);if(!d||s!==d.key)return t;const g=new Qo(t.droppable.containers);return g.set(i,{...d,disabled:c}),{...t,droppable:{...t.droppable,containers:g}}}case lt.UnregisterDroppable:{const{id:i,key:s}=l,c=t.droppable.containers.get(i);if(!c||s!==c.key)return t;const d=new Qo(t.droppable.containers);return d.delete(i),{...t,droppable:{...t.droppable,containers:d}}}default:return t}}function Zh(t){let{disabled:l}=t;const{active:i,activatorEvent:s,draggableNodes:c}=y.useContext(ol),d=Ri(s),g=Ri(i?.id);return y.useEffect(()=>{if(!l&&!s&&d&&g!=null){if(!Hi(d)||document.activeElement===d.target)return;const m=c.get(g);if(!m)return;const{activatorNode:h,node:b}=m;if(!h.current&&!b.current)return;requestAnimationFrame(()=>{for(const x of[h.current,b.current]){if(!x)continue;const v=Up(x);if(v){v.focus();break}}})}},[s,l,c,g,d]),null}function Ef(t,l){let{transform:i,...s}=l;return t!=null&&t.length?t.reduce((c,d)=>d({transform:c,...s}),i):i}function em(t){return y.useMemo(()=>({draggable:{...$i.draggable,...t?.draggable},droppable:{...$i.droppable,...t?.droppable},dragOverlay:{...$i.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function tm(t){let{activeNode:l,measure:i,initialRect:s,config:c=!0}=t;const d=y.useRef(!1),{x:g,y:m}=typeof c=="boolean"?{x:c,y:c}:c;hn(()=>{if(!g&&!m||!l){d.current=!1;return}if(d.current||!s)return;const b=l?.node.current;if(!b||b.isConnected===!1)return;const x=i(b),v=ff(x,s);if(g||(v.x=0),m||(v.y=0),d.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const N=pf(b);N&&N.scrollBy({top:v.y,left:v.x})}},[l,g,m,s,i])}const Wi=y.createContext({...mn,scaleX:1,scaleY:1});var ar;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ar||(ar={}));const nm=y.memo(function(l){var i,s,c,d;let{id:g,accessibility:m,autoScroll:h=!0,children:b,sensors:x=Xh,collisionDetection:v=ah,measuring:N,modifiers:S,...$}=l;const k=y.useReducer(Jh,void 0,qh),[C,j]=k,[L,E]=Qp(),[A,R]=y.useState(ar.Uninitialized),M=A===ar.Initialized,{draggable:{active:P,nodes:H,translate:G},droppable:{containers:V}}=C,Y=P!=null?H.get(P):null,O=y.useRef({initial:null,translated:null}),ee=y.useMemo(()=>{var De;return P!=null?{id:P,data:(De=Y?.data)!=null?De:Yh,rect:O}:null},[P,Y]),se=y.useRef(null),[ce,he]=y.useState(null),[ve,te]=y.useState(null),ae=qo($,Object.values($)),le=rl("DndDescribedBy",g),_=y.useMemo(()=>V.getEnabled(),[V]),U=em(N),{droppableRects:me,measureDroppableContainers:K,measuringScheduled:ne}=Ph(_,{dragging:M,dependencies:[G.x,G.y],config:U.droppable}),W=_h(H,P),X=y.useMemo(()=>ve?Li(ve):null,[ve]),J=bn(),ie=Mh(W,U.draggable.measure);tm({activeNode:P!=null?H.get(P):null,config:J.layoutShiftCompensation,initialRect:ie,measure:U.draggable.measure});const re=Hd(W,U.draggable.measure,ie),je=Hd(W?W.parentElement:null),Te=y.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:H,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ne=V.getNodeFor((i=Te.current.over)==null?void 0:i.id),Ie=Gh({measure:U.dragOverlay.measure}),$t=(s=Ie.nodeRef.current)!=null?s:W,Ee=M?(c=Ie.rect)!=null?c:re:null,Tt=!!(Ie.nodeRef.current&&Ie.rect),zn=Hh(Tt?null:re),Rt=Cf($t?Et($t):null),et=Fh(M?Ne??W:null),zt=Kh(et),xn=Ef(S,{transform:{x:G.x-zn.x,y:G.y-zn.y,scaleX:1,scaleY:1},activatorEvent:ve,active:ee,activeNodeRect:re,containerNodeRect:je,draggingNodeRect:Ee,over:Te.current.over,overlayNodeRect:Ie.rect,scrollableAncestors:et,scrollableAncestorRects:zt,windowRect:Rt}),ur=X?lo(X,G):null,On=Wh(et),Rr=Wd(On),Ar=Wd(On,[re]),Qt=lo(xn,Rr),Ot=Ee?gh(Ee,xn):null,yn=ee&&Ot?v({active:ee,collisionRect:Ot,droppableRects:me,droppableContainers:_,pointerCoordinates:ur}):null,vn=lh(yn,"id"),[pt,Lr]=y.useState(null),Br=Tt?xn:lo(xn,Ar),Ir=dh(Br,(d=pt?.rect)!=null?d:null,re),$n=y.useRef(null),Hn=y.useCallback((De,it)=>{let{sensor:tt,options:Ht}=it;if(se.current==null)return;const st=H.get(se.current);if(!st)return;const at=De.nativeEvent,ht=new tt({active:se.current,activeNode:st,event:at,options:Ht,context:Te,onAbort(ze){if(!H.get(ze))return;const{onDragAbort:ct}=ae.current,Je={id:ze};ct?.(Je),L({type:"onDragAbort",event:Je})},onPending(ze,St,ct,Je){if(!H.get(ze))return;const{onDragPending:mt}=ae.current,xt={id:ze,constraint:St,initialCoordinates:ct,offset:Je};mt?.(xt),L({type:"onDragPending",event:xt})},onStart(ze){const St=se.current;if(St==null)return;const ct=H.get(St);if(!ct)return;const{onDragStart:Je}=ae.current,At={activatorEvent:at,active:{id:St,data:ct.data,rect:O}};cr.unstable_batchedUpdates(()=>{Je?.(At),R(ar.Initializing),j({type:lt.DragStart,initialCoordinates:ze,active:St}),L({type:"onDragStart",event:At}),he($n.current),te(at)})},onMove(ze){j({type:lt.DragMove,coordinates:ze})},onEnd:qt(lt.DragEnd),onCancel:qt(lt.DragCancel)});$n.current=ht;function qt(ze){return async function(){const{active:ct,collisions:Je,over:At,scrollAdjustedTranslate:mt}=Te.current;let xt=null;if(ct&&mt){const{cancelDrop:Jt}=ae.current;xt={activatorEvent:at,active:ct,collisions:Je,delta:mt,over:At},ze===lt.DragEnd&&typeof Jt=="function"&&await Promise.resolve(Jt(xt))&&(ze=lt.DragCancel)}se.current=null,cr.unstable_batchedUpdates(()=>{j({type:ze}),R(ar.Uninitialized),Lr(null),he(null),te(null),$n.current=null;const Jt=ze===lt.DragEnd?"onDragEnd":"onDragCancel";if(xt){const pr=ae.current[Jt];pr?.(xt),L({type:Jt,event:xt})}})}}},[H]),dr=y.useCallback((De,it)=>(tt,Ht)=>{const st=tt.nativeEvent,at=H.get(Ht);if(se.current!==null||!at||st.dndKit||st.defaultPrevented)return;const ht={active:at};De(tt,it.options,ht)===!0&&(st.dndKit={capturedBy:it.sensor},se.current=Ht,Hn(tt,it))},[H,Hn]),Fn=Dh(x,dr);Uh(x),hn(()=>{re&&A===ar.Initializing&&R(ar.Initialized)},[re,A]),y.useEffect(()=>{const{onDragMove:De}=ae.current,{active:it,activatorEvent:tt,collisions:Ht,over:st}=Te.current;if(!it||!tt)return;const at={active:it,activatorEvent:tt,collisions:Ht,delta:{x:Qt.x,y:Qt.y},over:st};cr.unstable_batchedUpdates(()=>{De?.(at),L({type:"onDragMove",event:at})})},[Qt.x,Qt.y]),y.useEffect(()=>{const{active:De,activatorEvent:it,collisions:tt,droppableContainers:Ht,scrollAdjustedTranslate:st}=Te.current;if(!De||se.current==null||!it||!st)return;const{onDragOver:at}=ae.current,ht=Ht.get(vn),qt=ht&&ht.rect.current?{id:ht.id,rect:ht.rect.current,data:ht.data,disabled:ht.disabled}:null,ze={active:De,activatorEvent:it,collisions:tt,delta:{x:st.x,y:st.y},over:qt};cr.unstable_batchedUpdates(()=>{Lr(qt),at?.(ze),L({type:"onDragOver",event:ze})})},[vn]),hn(()=>{Te.current={activatorEvent:ve,active:ee,activeNode:W,collisionRect:Ot,collisions:yn,droppableRects:me,draggableNodes:H,draggingNode:$t,draggingNodeRect:Ee,droppableContainers:V,over:pt,scrollableAncestors:et,scrollAdjustedTranslate:Qt},O.current={initial:Ee,translated:Ot}},[ee,W,yn,Ot,H,$t,Ee,me,V,pt,et,Qt]),Lh({...J,delta:G,draggingRect:Ot,pointerCoordinates:ur,scrollableAncestors:et,scrollableAncestorRects:zt});const fr=y.useMemo(()=>({active:ee,activeNode:W,activeNodeRect:re,activatorEvent:ve,collisions:yn,containerNodeRect:je,dragOverlay:Ie,draggableNodes:H,droppableContainers:V,droppableRects:me,over:pt,measureDroppableContainers:K,scrollableAncestors:et,scrollableAncestorRects:zt,measuringConfiguration:U,measuringScheduled:ne,windowRect:Rt}),[ee,W,re,ve,yn,je,Ie,H,V,me,pt,K,et,zt,U,ne,Rt]),gr=y.useMemo(()=>({activatorEvent:ve,activators:Fn,active:ee,activeNodeRect:re,ariaDescribedById:{draggable:le},dispatch:j,draggableNodes:H,over:pt,measureDroppableContainers:K}),[ve,Fn,ee,re,j,le,H,pt,K]);return Ve.createElement(cf.Provider,{value:E},Ve.createElement(ol.Provider,{value:gr},Ve.createElement(Nf.Provider,{value:fr},Ve.createElement(Wi.Provider,{value:Ir},b)),Ve.createElement(Zh,{disabled:m?.restoreFocus===!1})),Ve.createElement(Zp,{...m,hiddenTextDescribedById:le}));function bn(){const De=ce?.autoScrollEnabled===!1,it=typeof h=="object"?h.enabled===!1:h===!1,tt=M&&!De&&!it;return typeof h=="object"?{...h,enabled:tt}:{enabled:tt}}}),rm=y.createContext(null),Vd="button",om="Draggable";function $f(t){let{id:l,data:i,disabled:s=!1,attributes:c}=t;const d=rl(om),{activators:g,activatorEvent:m,active:h,activeNodeRect:b,ariaDescribedById:x,draggableNodes:v,over:N}=y.useContext(ol),{role:S=Vd,roleDescription:$="draggable",tabIndex:k=0}=c??{},C=h?.id===l,j=y.useContext(C?Wi:rm),[L,E]=Ti(),[A,R]=Ti(),M=Vh(g,l),P=qo(i);hn(()=>(v.set(l,{id:l,key:d,node:L,activatorNode:A,data:P}),()=>{const G=v.get(l);G&&G.key===d&&v.delete(l)}),[v,l]);const H=y.useMemo(()=>({role:S,tabIndex:k,"aria-disabled":s,"aria-pressed":C&&S===Vd?!0:void 0,"aria-roledescription":$,"aria-describedby":x.draggable}),[s,S,k,C,$,x.draggable]);return{active:h,activatorEvent:m,activeNodeRect:b,attributes:H,isDragging:C,listeners:s?void 0:M,node:L,over:N,setNodeRef:E,setActivatorNodeRef:R,transform:j}}function Tf(){return y.useContext(Nf)}const lm="Droppable",im={timeout:25};function ll(t){let{data:l,disabled:i=!1,id:s,resizeObserverConfig:c}=t;const d=rl(lm),{active:g,dispatch:m,over:h,measureDroppableContainers:b}=y.useContext(ol),x=y.useRef({disabled:i}),v=y.useRef(!1),N=y.useRef(null),S=y.useRef(null),{disabled:$,updateMeasurementsFor:k,timeout:C}={...im,...c},j=qo(k??s),L=y.useCallback(()=>{if(!v.current){v.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{b(Array.isArray(j.current)?j.current:[j.current]),S.current=null},C)},[C]),E=Fi({callback:L,disabled:$||!g}),A=y.useCallback((H,G)=>{E&&(G&&(E.unobserve(G),v.current=!1),H&&E.observe(H))},[E]),[R,M]=Ti(A),P=qo(l);return y.useEffect(()=>{!E||!R.current||(E.disconnect(),v.current=!1,E.observe(R.current))},[R,E]),y.useEffect(()=>(m({type:lt.RegisterDroppable,element:{id:s,key:d,disabled:i,node:R,rect:N,data:P}}),()=>m({type:lt.UnregisterDroppable,key:d,id:s})),[s]),y.useEffect(()=>{i!==x.current.disabled&&(m({type:lt.SetDroppableDisabled,id:s,key:d,disabled:i}),x.current.disabled=i)},[s,d,i,m]),{active:g,rect:N,isOver:h?.id===s,node:R,over:h,setNodeRef:M}}function sm(t){let{animation:l,children:i}=t;const[s,c]=y.useState(null),[d,g]=y.useState(null),m=Ri(i);return!i&&!s&&m&&c(m),hn(()=>{if(!d)return;const h=s?.key,b=s?.props.id;if(h==null||b==null){c(null);return}Promise.resolve(l(b,d)).then(()=>{c(null)})},[l,s,d]),Ve.createElement(Ve.Fragment,null,i,s?y.cloneElement(s,{ref:g}):null)}const am={x:0,y:0,scaleX:1,scaleY:1};function cm(t){let{children:l}=t;return Ve.createElement(ol.Provider,{value:jf},Ve.createElement(Wi.Provider,{value:am},l))}const um={position:"fixed",touchAction:"none"},dm=t=>Hi(t)?"transform 250ms ease":void 0,fm=y.forwardRef((t,l)=>{let{as:i,activatorEvent:s,adjustScale:c,children:d,className:g,rect:m,style:h,transform:b,transition:x=dm}=t;if(!m)return null;const v=c?b:{...b,scaleX:1,scaleY:1},N={...um,width:m.width,height:m.height,top:m.top,left:m.left,transform:En.Transform.toString(v),transformOrigin:c&&s?nh(s,m):void 0,transition:typeof x=="function"?x(s):x,...h};return Ve.createElement(i,{className:g,style:N,ref:l},d)}),gm=t=>l=>{let{active:i,dragOverlay:s}=l;const c={},{styles:d,className:g}=t;if(d!=null&&d.active)for(const[m,h]of Object.entries(d.active))h!==void 0&&(c[m]=i.node.style.getPropertyValue(m),i.node.style.setProperty(m,h));if(d!=null&&d.dragOverlay)for(const[m,h]of Object.entries(d.dragOverlay))h!==void 0&&s.node.style.setProperty(m,h);return g!=null&&g.active&&i.node.classList.add(g.active),g!=null&&g.dragOverlay&&s.node.classList.add(g.dragOverlay),function(){for(const[h,b]of Object.entries(c))i.node.style.setProperty(h,b);g!=null&&g.active&&i.node.classList.remove(g.active)}},pm=t=>{let{transform:{initial:l,final:i}}=t;return[{transform:En.Transform.toString(l)},{transform:En.Transform.toString(i)}]},hm={duration:250,easing:"ease",keyframes:pm,sideEffects:gm({styles:{active:{opacity:"0"}}})};function mm(t){let{config:l,draggableNodes:i,droppableContainers:s,measuringConfiguration:c}=t;return Oi((d,g)=>{if(l===null)return;const m=i.get(d);if(!m)return;const h=m.node.current;if(!h)return;const b=Sf(g);if(!b)return;const{transform:x}=Et(g).getComputedStyle(g),v=gf(x);if(!v)return;const N=typeof l=="function"?l:xm(l);return bf(h,c.draggable.measure),N({active:{id:d,data:m.data,node:h,rect:c.draggable.measure(h)},draggableNodes:i,dragOverlay:{node:g,rect:c.dragOverlay.measure(b)},droppableContainers:s,measuringConfiguration:c,transform:v})})}function xm(t){const{duration:l,easing:i,sideEffects:s,keyframes:c}={...hm,...t};return d=>{let{active:g,dragOverlay:m,transform:h,...b}=d;if(!l)return;const x={x:m.rect.left-g.rect.left,y:m.rect.top-g.rect.top},v={scaleX:h.scaleX!==1?g.rect.width*h.scaleX/m.rect.width:1,scaleY:h.scaleY!==1?g.rect.height*h.scaleY/m.rect.height:1},N={x:h.x-x.x,y:h.y-x.y,...v},S=c({...b,active:g,dragOverlay:m,transform:{initial:h,final:N}}),[$]=S,k=S[S.length-1];if(JSON.stringify($)===JSON.stringify(k))return;const C=s?.({active:g,dragOverlay:m,...b}),j=m.node.animate(S,{duration:l,easing:i,fill:"forwards"});return new Promise(L=>{j.onfinish=()=>{C?.(),L()}})}}let Kd=0;function ym(t){return y.useMemo(()=>{if(t!=null)return Kd++,Kd},[t])}const vm=Ve.memo(t=>{let{adjustScale:l=!1,children:i,dropAnimation:s,style:c,transition:d,modifiers:g,wrapperElement:m="div",className:h,zIndex:b=999}=t;const{activatorEvent:x,active:v,activeNodeRect:N,containerNodeRect:S,draggableNodes:$,droppableContainers:k,dragOverlay:C,over:j,measuringConfiguration:L,scrollableAncestors:E,scrollableAncestorRects:A,windowRect:R}=Tf(),M=y.useContext(Wi),P=ym(v?.id),H=Ef(g,{activatorEvent:x,active:v,activeNodeRect:N,containerNodeRect:S,draggingNodeRect:C.rect,over:j,overlayNodeRect:C.rect,scrollableAncestors:E,scrollableAncestorRects:A,transform:M,windowRect:R}),G=Qa(N),V=mm({config:s,draggableNodes:$,droppableContainers:k,measuringConfiguration:L}),Y=G?C.setRef:void 0;return Ve.createElement(cm,null,Ve.createElement(sm,{animation:V},v&&P?Ve.createElement(fm,{key:P,id:v.id,ref:Y,as:m,activatorEvent:x,adjustScale:l,className:h,transition:d,rect:G,style:{zIndex:b,...c},transform:H},i):null))});class bm{constructor(){this.filters=new Map,this.actions=new Map,this.debug=!1}setDebug(l){this.debug=l}_log(l,i,...s){this.debug&&console.log(`[LaraHooks] ${l}: ${i}`,...s)}addFilter(l,i,s=10){return typeof i!="function"?(console.error(`[LaraHooks] addFilter: callback must be a function for hook "${l}"`),this):(this.filters.has(l)||this.filters.set(l,[]),this.filters.get(l).push({callback:i,priority:s}),this.filters.get(l).sort((c,d)=>c.priority-d.priority),this._log("Filter added",l,{priority:s}),this)}applyFilters(l,i,...s){const c=this.filters.get(l);return!c||c.length===0?i:(this._log("Applying filters",l,{hookCount:c.length}),c.reduce((d,{callback:g})=>{try{const m=g(d,...s);return m!==void 0?m:d}catch(m){return console.error(`[LaraHooks] Error in filter "${l}":`,m),d}},i))}addAction(l,i,s=10){return typeof i!="function"?(console.error(`[LaraHooks] addAction: callback must be a function for hook "${l}"`),this):(this.actions.has(l)||this.actions.set(l,[]),this.actions.get(l).push({callback:i,priority:s}),this.actions.get(l).sort((c,d)=>c.priority-d.priority),this._log("Action added",l,{priority:s}),this)}doAction(l,...i){const s=this.actions.get(l);!s||s.length===0||(this._log("Executing action",l,{hookCount:s.length}),s.forEach(({callback:c})=>{try{c(...i)}catch(d){console.error(`[LaraHooks] Error in action "${l}":`,d)}}))}removeFilter(l,i){const s=this.filters.get(l);if(s){const c=s.findIndex(d=>d.callback===i);c>-1&&(s.splice(c,1),this._log("Filter removed",l))}return this}removeAction(l,i){const s=this.actions.get(l);if(s){const c=s.findIndex(d=>d.callback===i);c>-1&&(s.splice(c,1),this._log("Action removed",l))}return this}removeAllFilters(l){return this.filters.delete(l),this._log("All filters removed",l),this}removeAllActions(l){return this.actions.delete(l),this._log("All actions removed",l),this}hasHook(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c&&c.length>0}getHookCount(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c?c.length:0}getRegisteredHooks(l="all"){const i=[];return(l==="all"||l==="filter")&&i.push(...Array.from(this.filters.keys()).map(s=>`filter:${s}`)),(l==="all"||l==="action")&&i.push(...Array.from(this.actions.keys()).map(s=>`action:${s}`)),i}reset(){this.filters.clear(),this.actions.clear(),this._log("System reset","all hooks cleared")}}const ye=new bm;typeof window<"u"&&(window.LaraHooks=ye);const Ce={FILTER_CONFIG:"builder.config",FILTER_CONFIG_EMAIL:"builder.config.email",FILTER_CONFIG_PAGE:"builder.config.page",FILTER_CONFIG_CAMPAIGN:"builder.config.campaign",FILTER_BLOCKS:"builder.blocks",FILTER_BLOCKS_EMAIL:"builder.blocks.email",FILTER_BLOCKS_PAGE:"builder.blocks.page",FILTER_BLOCKS_CAMPAIGN:"builder.blocks.campaign",FILTER_BLOCK_CATEGORIES:"builder.blocks.categories",FILTER_BLOCK_PROPS:"builder.block.props",FILTER_BLOCK_RENDER:"builder.block.render",FILTER_BLOCK_COMPONENT:"builder.block.component",FILTER_HTML_GENERATED:"builder.html.generated",FILTER_HTML_BLOCK:"builder.html.block",FILTER_HTML_WRAPPER:"builder.html.wrapper",FILTER_PROPERTY_FIELDS:"builder.properties.fields",FILTER_PROPERTY_FIELD:"builder.properties.field",FILTER_CANVAS_SETTINGS:"builder.canvas.settings",FILTER_CANVAS_DEFAULT_SETTINGS:"builder.canvas.defaultSettings",FILTER_HEADER:"builder.ui.header",FILTER_LEFT_PANEL:"builder.ui.panel.left",FILTER_RIGHT_PANEL:"builder.ui.panel.right",FILTER_TOOLBAR:"builder.ui.toolbar",FILTER_BLOCK_TOOLBAR:"builder.ui.blockToolbar",FILTER_MORE_TEXT_CONTROLS:"builder.ui.moreTextControls",FILTER_INITIAL_STATE:"builder.state.initial",FILTER_STATE_BEFORE_SAVE:"builder.state.beforeSave",FILTER_STATE_AFTER_LOAD:"builder.state.afterLoad",FILTER_SAVE_DATA:"builder.data.save",FILTER_LOAD_DATA:"builder.data.load",ACTION_INIT:"builder.init",ACTION_READY:"builder.ready",ACTION_DESTROY:"builder.destroy",ACTION_BEFORE_SAVE:"builder.save.before",ACTION_AFTER_SAVE:"builder.save.after",ACTION_SAVE_ERROR:"builder.save.error",ACTION_BLOCK_REGISTERED:"builder.block.registered",ACTION_BLOCK_UNREGISTERED:"builder.block.unregistered",ACTION_BLOCK_ADDED:"builder.block.added",ACTION_BLOCK_REMOVED:"builder.block.removed",ACTION_BLOCK_UPDATED:"builder.block.updated",ACTION_BLOCK_MOVED:"builder.block.moved",ACTION_BLOCK_DUPLICATED:"builder.block.duplicated",ACTION_BLOCK_SELECTED:"builder.block.selected",ACTION_BLOCK_DESELECTED:"builder.block.deselected",ACTION_UNDO:"builder.history.undo",ACTION_REDO:"builder.history.redo",ACTION_HISTORY_CHANGED:"builder.history.changed",ACTION_CANVAS_SETTINGS_CHANGED:"builder.canvas.settingsChanged",ACTION_HTML_BEFORE_GENERATE:"builder.html.beforeGenerate",ACTION_HTML_AFTER_GENERATE:"builder.html.afterGenerate",ACTION_DRAG_START:"builder.dnd.dragStart",ACTION_DRAG_END:"builder.dnd.dragEnd",ACTION_DROP:"builder.dnd.drop",ACTION_IMAGE_UPLOADED:"builder.media.imageUploaded",ACTION_VIDEO_UPLOADED:"builder.media.videoUploaded",ACTION_KEYBOARD_SHORTCUT:"builder.keyboard.shortcut"};function Ma(t,l){return`${t}.${l}`}const Gd=50,ke={SET_BLOCKS:"SET_BLOCKS",ADD_BLOCK:"ADD_BLOCK",UPDATE_BLOCK:"UPDATE_BLOCK",DELETE_BLOCK:"DELETE_BLOCK",MOVE_BLOCK:"MOVE_BLOCK",DUPLICATE_BLOCK:"DUPLICATE_BLOCK",ADD_NESTED_BLOCK:"ADD_NESTED_BLOCK",UPDATE_NESTED_BLOCK:"UPDATE_NESTED_BLOCK",DELETE_NESTED_BLOCK:"DELETE_NESTED_BLOCK",MOVE_NESTED_BLOCK:"MOVE_NESTED_BLOCK",SELECT_BLOCK:"SELECT_BLOCK",DESELECT_ALL:"DESELECT_ALL",UPDATE_CANVAS_SETTINGS:"UPDATE_CANVAS_SETTINGS",UNDO:"UNDO",REDO:"REDO",CLEAR_HISTORY:"CLEAR_HISTORY",SET_DIRTY:"SET_DIRTY",MARK_SAVED:"MARK_SAVED",RESET_STATE:"RESET_STATE",LOAD_STATE:"LOAD_STATE"},Rf={blocks:[],selectedBlockId:null,canvasSettings:{},past:[],future:[],isDirty:!1,context:"email",config:{}};function Er(t){return JSON.parse(JSON.stringify(t))}function Go(){return`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Af(){return{id:Go(),type:"text",props:{content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"}}}function za(t,l){if(!Array.isArray(t))return null;for(const i of t)if(Array.isArray(i)){const s=za(i,l);if(s)return s}else if(i&&typeof i=="object"&&i.type){if(i.id===l)return i;if(Array.isArray(i.props?.children)){const s=za(i.props.children,l);if(s)return s}}return null}function _i(t,l,i){return Array.isArray(t)?t.map(s=>{if(Array.isArray(s))return _i(s,l,i);if(s&&typeof s=="object"&&s.type){if(s.id===l)return{...s,props:{...s.props,...i}};if(Array.isArray(s.props?.children))return{...s,props:{...s.props,children:_i(s.props.children,l,i)}}}return s}):t}function Oa(t,l){return Array.isArray(t)?t.filter(i=>Array.isArray(i)?!0:i&&typeof i=="object"&&i.type?i.id!==l:!0).map(i=>Array.isArray(i)?Oa(i,l):i&&typeof i=="object"&&i.type&&Array.isArray(i.props?.children)?{...i,props:{...i.props,children:Oa(i.props.children,l)}}:i):t}function Xd(t,l,i){const s=[...t];return s.splice(i,0,l),s}function wm(t,l,i){const s=[...t],[c]=s.splice(l,1);return s.splice(i,0,c),s}function km(t,l){const i=[...t,{blocks:Er(l.blocks),canvasSettings:Er(l.canvasSettings),selectedBlockId:l.selectedBlockId}];return i.length>Gd?i.slice(-Gd):i}function Cm(t){return[ke.SET_BLOCKS,ke.ADD_BLOCK,ke.UPDATE_BLOCK,ke.DELETE_BLOCK,ke.MOVE_BLOCK,ke.DUPLICATE_BLOCK,ke.ADD_NESTED_BLOCK,ke.UPDATE_NESTED_BLOCK,ke.DELETE_NESTED_BLOCK,ke.MOVE_NESTED_BLOCK,ke.UPDATE_CANVAS_SETTINGS].includes(t.type)}function Sm(t,l){l=ye.applyFilters("builder.action.before",l,t);let i=t;const c=Cm(l)?km(t.past,t):t.past;switch(l.type){case ke.SET_BLOCKS:i={...t,blocks:l.payload,past:c,future:[],isDirty:!0};break;case ke.ADD_BLOCK:{const{block:d,index:g=t.blocks.length}=l.payload,m={...d,id:d.id||Go()};i={...t,blocks:Xd(t.blocks,m,g),selectedBlockId:m.id,past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_ADDED,m,t.context);break}case ke.UPDATE_BLOCK:{const{id:d,props:g}=l.payload;i={...t,blocks:_i(t.blocks,d,g),past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_UPDATED,d,g,t.context);break}case ke.DELETE_BLOCK:{const{id:d}=l.payload;let g=Oa(t.blocks,d),m=t.selectedBlockId;if(g.length===0){const h=Af();g=[h],m=h.id}else if(t.selectedBlockId===d){const h=t.blocks.findIndex(b=>b.id===d);h!==-1?h>0?m=t.blocks[h-1].id:t.blocks.length>1?m=t.blocks[h+1].id:m=g[0]?.id||null:m=g[0]?.id||null}i={...t,blocks:g,selectedBlockId:m,past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_REMOVED,d,t.context);break}case ke.MOVE_BLOCK:{const{fromIndex:d,toIndex:g}=l.payload;i={...t,blocks:wm(t.blocks,d,g),past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_MOVED,d,g,t.context);break}case ke.DUPLICATE_BLOCK:{const{id:d}=l.payload,g=za(t.blocks,d);if(g){const m=Er(g);m.id=Go();const h=x=>Array.isArray(x)?x.map(v=>{if(Array.isArray(v))return h(v);if(v&&typeof v=="object"&&v.type){const N={...v,id:Go()};return Array.isArray(v.props?.children)&&(N.props={...v.props,children:h(v.props.children)}),N}return v}):x;m.props?.children&&(m.props.children=h(m.props.children));const b=t.blocks.findIndex(x=>x.id===d);i={...t,blocks:Xd(t.blocks,m,b+1),selectedBlockId:m.id,past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_DUPLICATED,m,t.context)}break}case ke.ADD_NESTED_BLOCK:{const{parentId:d,columnIndex:g,block:m,index:h}=l.payload,b={...m,id:m.id||Go()},x=t.blocks.map(v=>{if(v.id===d&&v.props?.children){const N=[...v.props.children],S=[...N[g]];return S.splice(h??S.length,0,b),N[g]=S,{...v,props:{...v.props,children:N}}}return v});i={...t,blocks:x,selectedBlockId:b.id,past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_ADDED,b,t.context);break}case ke.UPDATE_NESTED_BLOCK:{const{id:d,props:g}=l.payload;i={...t,blocks:_i(t.blocks,d,g),past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_UPDATED,d,g,t.context);break}case ke.DELETE_NESTED_BLOCK:{const{parentId:d,columnIndex:g,blockId:m}=l.payload;let h=t.selectedBlockId;if(t.selectedBlockId===m){const x=t.blocks.find(v=>v.id===d);if(x?.props?.children?.[g]){const v=x.props.children[g],N=v.findIndex(S=>S.id===m);N!==-1?N>0?h=v[N-1].id:v.length>1?h=v[N+1].id:h=d:h=d}else h=null}const b=t.blocks.map(x=>{if(x.id===d&&x.props?.children){const v=[...x.props.children];return v[g]=v[g].filter(N=>N.id!==m),{...x,props:{...x.props,children:v}}}return x});i={...t,blocks:b,selectedBlockId:h,past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_BLOCK_REMOVED,m,t.context);break}case ke.MOVE_NESTED_BLOCK:{const{parentId:d,fromColumn:g,fromIndex:m,toColumn:h,toIndex:b}=l.payload,x=t.blocks.map(v=>{if(v.id===d&&v.props?.children){const N=v.props.children.map($=>[...$]),[S]=N[g].splice(m,1);return N[h].splice(b,0,S),{...v,props:{...v.props,children:N}}}return v});i={...t,blocks:x,past:c,future:[],isDirty:!0};break}case ke.SELECT_BLOCK:i={...t,selectedBlockId:l.payload},ye.doAction(Ce.ACTION_BLOCK_SELECTED,l.payload,t.context);break;case ke.DESELECT_ALL:t.selectedBlockId&&ye.doAction(Ce.ACTION_BLOCK_DESELECTED,t.selectedBlockId,t.context),i={...t,selectedBlockId:null};break;case ke.UPDATE_CANVAS_SETTINGS:i={...t,canvasSettings:{...t.canvasSettings,...l.payload},past:c,future:[],isDirty:!0},ye.doAction(Ce.ACTION_CANVAS_SETTINGS_CHANGED,i.canvasSettings,t.context);break;case ke.UNDO:{if(t.past.length===0)break;const d=t.past[t.past.length-1],g=t.past.slice(0,-1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:g,future:[{blocks:Er(t.blocks),canvasSettings:Er(t.canvasSettings),selectedBlockId:t.selectedBlockId},...t.future],isDirty:!0},ye.doAction(Ce.ACTION_UNDO,i,t.context),ye.doAction(Ce.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case ke.REDO:{if(t.future.length===0)break;const d=t.future[0],g=t.future.slice(1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:[...t.past,{blocks:Er(t.blocks),canvasSettings:Er(t.canvasSettings),selectedBlockId:t.selectedBlockId}],future:g,isDirty:!0},ye.doAction(Ce.ACTION_REDO,i,t.context),ye.doAction(Ce.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case ke.CLEAR_HISTORY:i={...t,past:[],future:[]};break;case ke.SET_DIRTY:i={...t,isDirty:l.payload};break;case ke.MARK_SAVED:i={...t,isDirty:!1};break;case ke.RESET_STATE:i={...Rf,context:t.context,config:t.config};break;case ke.LOAD_STATE:{const{blocks:d,canvasSettings:g}=l.payload;i={...t,blocks:d||[],canvasSettings:g||{},past:[],future:[],isDirty:!1,selectedBlockId:null},i=ye.applyFilters(Ce.FILTER_STATE_AFTER_LOAD,i,t.context);break}}return i=ye.applyFilters("builder.state.after",i,l),i}const Ye={setBlocks:t=>({type:ke.SET_BLOCKS,payload:t}),addBlock:(t,l)=>({type:ke.ADD_BLOCK,payload:{block:t,index:l}}),updateBlock:(t,l)=>({type:ke.UPDATE_BLOCK,payload:{id:t,props:l}}),deleteBlock:t=>({type:ke.DELETE_BLOCK,payload:{id:t}}),moveBlock:(t,l)=>({type:ke.MOVE_BLOCK,payload:{fromIndex:t,toIndex:l}}),duplicateBlock:t=>({type:ke.DUPLICATE_BLOCK,payload:{id:t}}),addNestedBlock:(t,l,i,s)=>({type:ke.ADD_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,block:i,index:s}}),updateNestedBlock:(t,l)=>({type:ke.UPDATE_NESTED_BLOCK,payload:{id:t,props:l}}),deleteNestedBlock:(t,l,i)=>({type:ke.DELETE_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,blockId:i}}),moveNestedBlock:(t,l,i,s,c)=>({type:ke.MOVE_NESTED_BLOCK,payload:{parentId:t,fromColumn:l,fromIndex:i,toColumn:s,toIndex:c}}),selectBlock:t=>({type:ke.SELECT_BLOCK,payload:t}),deselectAll:()=>({type:ke.DESELECT_ALL}),updateCanvasSettings:t=>({type:ke.UPDATE_CANVAS_SETTINGS,payload:t}),undo:()=>({type:ke.UNDO}),redo:()=>({type:ke.REDO}),clearHistory:()=>({type:ke.CLEAR_HISTORY}),setDirty:t=>({type:ke.SET_DIRTY,payload:t}),markSaved:()=>({type:ke.MARK_SAVED}),resetState:()=>({type:ke.RESET_STATE}),loadState:(t,l)=>({type:ke.LOAD_STATE,payload:{blocks:t,canvasSettings:l}})};class jm{constructor(){this.adapters=new Map,this.defaultAdapter=null}register(l,i){return i?(this.adapters.set(l,i),this.defaultAdapter||(this.defaultAdapter=l),this):(console.error(`[OutputAdapterRegistry] Adapter is required for context: ${l}`),this)}get(l){return this.adapters.has(l)?this.adapters.get(l):this.defaultAdapter?this.adapters.get(this.defaultAdapter):null}has(l){return this.adapters.has(l)}getContexts(){return Array.from(this.adapters.keys())}setDefault(l){return this.adapters.has(l)?this.defaultAdapter=l:console.warn(`[OutputAdapterRegistry] Context not found: ${l}`),this}generateHtml(l,i,s={}){const c=this.get(l);if(!c)return console.error(`[OutputAdapterRegistry] No adapter found for context: ${l}`),"";ye.doAction(Ce.ACTION_HTML_BEFORE_GENERATE,i,s,l);let d=c.generateHtml(i,s);return d=ye.applyFilters(Ce.FILTER_HTML_GENERATED,d,i,s,l),ye.doAction(Ce.ACTION_HTML_AFTER_GENERATE,d,i,s,l),d}getDefaultSettings(l){const i=this.get(l);if(!i)return{};let s=i.getDefaultSettings();return s=ye.applyFilters(Ce.FILTER_CANVAS_DEFAULT_SETTINGS,s,l),s}unregister(l){return this.adapters.delete(l),this.defaultAdapter===l&&(this.defaultAdapter=this.adapters.keys().next().value||null),this}reset(){this.adapters.clear(),this.defaultAdapter=null}}const io=new jm;typeof window<"u"&&(window.LaraBuilderOutputAdapterRegistry=io);const Lf=y.createContext(null);function Nm({children:t,context:l="post",config:i={},initialData:s=null,onStateChange:c=null}){const d=y.useMemo(()=>io.getDefaultSettings(l),[l]),g=y.useMemo(()=>{const E=s?.blocks?.length>0?s.blocks:[Af()],A=E[0]?.id||null;let R={...Rf,context:l,config:i,canvasSettings:{...d,...s?.canvasSettings},blocks:E,selectedBlockId:A};return R=ye.applyFilters(Ce.FILTER_INITIAL_STATE,R,l),R},[l,i,s,d]),[m,h]=y.useReducer(Sm,g);y.useEffect(()=>{c&&c(m)},[m,c]),y.useEffect(()=>(ye.doAction(Ce.ACTION_INIT,m,l),()=>{ye.doAction(Ce.ACTION_DESTROY,m,l)}),[l]);const b=y.useMemo(()=>({setBlocks:E=>h(Ye.setBlocks(E)),addBlock:(E,A)=>h(Ye.addBlock(E,A)),updateBlock:(E,A)=>h(Ye.updateBlock(E,A)),deleteBlock:E=>h(Ye.deleteBlock(E)),moveBlock:(E,A)=>h(Ye.moveBlock(E,A)),duplicateBlock:E=>h(Ye.duplicateBlock(E)),addNestedBlock:(E,A,R,M)=>h(Ye.addNestedBlock(E,A,R,M)),updateNestedBlock:(E,A)=>h(Ye.updateNestedBlock(E,A)),deleteNestedBlock:(E,A,R)=>h(Ye.deleteNestedBlock(E,A,R)),moveNestedBlock:(E,A,R,M,P)=>h(Ye.moveNestedBlock(E,A,R,M,P)),selectBlock:E=>h(Ye.selectBlock(E)),deselectAll:()=>h(Ye.deselectAll()),updateCanvasSettings:E=>h(Ye.updateCanvasSettings(E)),undo:()=>h(Ye.undo()),redo:()=>h(Ye.redo()),clearHistory:()=>h(Ye.clearHistory()),setDirty:E=>h(Ye.setDirty(E)),markSaved:()=>h(Ye.markSaved()),resetState:()=>h(Ye.resetState()),loadState:(E,A)=>h(Ye.loadState(E,A))}),[h]),x=m.past.length>0,v=m.future.length>0,N=y.useCallback(()=>{x&&h(Ye.undo())},[x]),S=y.useCallback(()=>{v&&h(Ye.redo())},[v]),$=y.useCallback(()=>io.generateHtml(l,m.blocks,m.canvasSettings),[l,m.blocks,m.canvasSettings]),k=y.useCallback(()=>{if(!m.selectedBlockId)return null;for(const E of m.blocks){if(E.id===m.selectedBlockId)return E;if(E.props?.children)for(const A of E.props.children){const R=A.find(M=>M.id===m.selectedBlockId);if(R)return R}}return null},[m.blocks,m.selectedBlockId]),C=y.useCallback(E=>{const A=R=>{for(const M of R){if(M.id===E)return M;if(M.props?.children)for(const P of M.props.children){const H=A(P);if(H)return H}}return null};return A(m.blocks)},[m.blocks]),j=y.useCallback(()=>{let E={blocks:m.blocks,canvasSettings:m.canvasSettings,version:1};return E=ye.applyFilters(Ce.FILTER_STATE_BEFORE_SAVE,E,l),E},[m.blocks,m.canvasSettings,l]),L=y.useMemo(()=>({state:m,dispatch:h,actions:b,canUndo:x,canRedo:v,undo:N,redo:S,historyLength:m.past.length,futureLength:m.future.length,getHtml:$,getSelectedBlock:k,findBlockById:C,getSaveData:j,context:l,config:i}),[m,h,b,x,v,N,S,$,k,C,j,l,i]);return r.jsx(Lf.Provider,{value:L,children:t})}function Ui(){const t=y.useContext(Lf);if(!t)throw new Error("useBuilder must be used within a BuilderProvider");return t}function Em(t={}){const{enableKeyboardShortcuts:l=!0,preventDefault:i=!0}=t,{canUndo:s,canRedo:c,undo:d,redo:g,historyLength:m,futureLength:h,state:b}=Ui(),x=y.useCallback(v=>{if(v.metaKey||v.ctrlKey){if(v.key==="z"&&!v.shiftKey){s&&(i&&v.preventDefault(),d(),ye.doAction(Ce.ACTION_KEYBOARD_SHORTCUT,"undo",v));return}if(v.key==="z"&&v.shiftKey){c&&(i&&v.preventDefault(),g(),ye.doAction(Ce.ACTION_KEYBOARD_SHORTCUT,"redo",v));return}if(v.key==="y"){c&&(i&&v.preventDefault(),g(),ye.doAction(Ce.ACTION_KEYBOARD_SHORTCUT,"redo",v));return}}},[s,c,d,g,i]);return y.useEffect(()=>{if(l)return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[l,x]),{canUndo:s,canRedo:c,historyLength:m,futureLength:h,undo:d,redo:g,isAtStart:m===0,isAtEnd:h===0,totalHistory:m+h}}class $m{constructor(){this.blocks=new Map,this.categories=new Map,this.components=new Map,this.initialized=!1}register(l){if(!l.type)return console.error("[BlockRegistry] Block type is required"),this;if(!l.label)return console.error(`[BlockRegistry] Block label is required for type: ${l.type}`),this;const i={type:l.type,label:l.label,category:l.category||"Content",icon:l.icon||"lucide:box",contexts:l.contexts||["*"],defaultProps:l.defaultProps||{},block:l.block||null,editor:l.editor||null,fields:l.fields||[],save:l.save||{},validate:l.validate||(()=>!0),transform:l.transform||null,description:l.description||"",keywords:l.keywords||[],supports:{align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,...l.supports}};this.blocks.set(l.type,i),this.categories.has(i.category)||this.categories.set(i.category,[]);const s=this.categories.get(i.category),c=s.findIndex(d=>d.type===i.type);return c>-1?s[c]=i:s.push(i),i.block&&this.components.set(l.type,i.block),ye.doAction(Ce.ACTION_BLOCK_REGISTERED,i),this}registerMany(l){return l.forEach(i=>this.register(i)),this}unregister(l){const i=this.blocks.get(l);if(i){this.blocks.delete(l),this.components.delete(l);const s=this.categories.get(i.category);if(s){const c=s.findIndex(d=>d.type===l);c>-1&&s.splice(c,1)}ye.doAction(Ce.ACTION_BLOCK_UNREGISTERED,l)}return this}get(l){return this.blocks.get(l)}has(l){return this.blocks.has(l)}getAll(){return Array.from(this.blocks.values())}getBlocksForContext(l){let i=Array.from(this.blocks.values()).filter(s=>s.contexts.includes("*")||s.contexts.includes(l));return i=ye.applyFilters(`${Ce.FILTER_BLOCKS}.${l}`,i,l),i=ye.applyFilters(Ce.FILTER_BLOCKS,i,l),i}getByCategory(l=null){const i=l?this.getBlocksForContext(l):this.getAll(),s={};return i.forEach(c=>{s[c.category]||(s[c.category]=[]),s[c.category].push(c)}),ye.applyFilters(Ce.FILTER_BLOCK_CATEGORIES,s,l)}getCategories(){return Array.from(this.categories.keys())}getComponent(l){return this.components.get(l)||null}setComponent(l,i){this.components.set(l,i);const s=this.blocks.get(l);s&&(s.block=i)}search(l,i=null){const s=l.toLowerCase();return(i?this.getBlocksForContext(i):this.getAll()).filter(d=>!!(d.label.toLowerCase().includes(s)||d.type.toLowerCase().includes(s)||d.category.toLowerCase().includes(s)||d.keywords.some(g=>g.toLowerCase().includes(s))||d.description.toLowerCase().includes(s)))}createInstance(l,i={}){const s=this.blocks.get(l);return s?{id:this._generateId(),type:s.type,props:{...JSON.parse(JSON.stringify(s.defaultProps)),...i}}:(console.error(`[BlockRegistry] Block type not found: ${l}`),null)}validate(l,i){const s=this.blocks.get(l);if(!s)return!1;try{return s.validate(i)}catch(c){return console.error(`[BlockRegistry] Validation error for ${l}:`,c),!1}}getDefaultProps(l){const i=this.blocks.get(l);return i?{...i.defaultProps}:{}}supports(l,i){return this.blocks.get(l)?.supports?.[i]??!1}getHtmlGenerator(l,i){const s=this.blocks.get(l);return s?s.save[i]?s.save[i]:s.save["*"]?s.save["*"]:null:null}_generateId(){return`block-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}reset(){this.blocks.clear(),this.categories.clear(),this.components.clear(),this.initialized=!1}toJSON(){return{blocks:Array.from(this.blocks.entries()),categories:Array.from(this.categories.entries())}}}const Qe=new $m;typeof window<"u"&&(window.LaraBuilderBlockRegistry=Qe);function Tm(){const{state:t,actions:l,context:i}=Ui(),{blocks:s,selectedBlockId:c}=t,d=y.useMemo(()=>{if(!c)return null;const C=j=>{if(!Array.isArray(j))return null;for(const L of j)if(Array.isArray(L)){const E=C(L);if(E)return E}else if(L&&typeof L=="object"&&L.type){if(L.id===c)return L;if(Array.isArray(L.props?.children)){const E=C(L.props.children);if(E)return E}}return null};return C(s)},[s,c]),g=y.useCallback((C,j,L={})=>{const E=Qe.createInstance(C,L);return E?(l.addBlock(E,j),E):null},[l]),m=y.useCallback((C,j={})=>{const L=s.findIndex(A=>A.id===c),E=L>-1?L+1:s.length;return g(C,E,j)},[s,c,g]),h=y.useCallback(C=>s.findIndex(j=>j.id===C),[s]),b=y.useCallback(C=>h(C)>0,[h]),x=y.useCallback(C=>{const j=h(C);return j>-1&&j<s.length-1},[s.length,h]),v=y.useCallback(C=>{const j=h(C);j>0&&l.moveBlock(j,j-1)},[h,l]),N=y.useCallback(C=>{const j=h(C);j>-1&&j<s.length-1&&l.moveBlock(j,j+1)},[s.length,h,l]),S=y.useCallback(C=>s.filter(j=>j.type===C),[s]),$=s.length>0,k=y.useMemo(()=>{let C=0;const j=L=>{if(Array.isArray(L))for(const E of L)Array.isArray(E)?j(E):E&&typeof E=="object"&&E.type&&(C++,Array.isArray(E.props?.children)&&j(E.props.children))};return j(s),C},[s]);return{blocks:s,selectedBlockId:c,selectedBlock:d,hasBlocks:$,totalBlockCount:k,addBlock:l.addBlock,updateBlock:l.updateBlock,deleteBlock:l.deleteBlock,moveBlock:l.moveBlock,duplicateBlock:l.duplicateBlock,selectBlock:l.selectBlock,deselectAll:l.deselectAll,addBlockByType:g,addBlockAfterSelected:m,canMoveUp:b,canMoveDown:x,moveBlockUp:v,moveBlockDown:N,getBlockIndex:h,getBlocksByType:S,context:i}}function Rm({templateData:t,isEmailContext:l}){const[i,s]=y.useState(t?.name||""),[c,d]=y.useState(t?.subject||""),[g,m]=y.useState(t?.is_active!==void 0?t.is_active:!0),h=y.useRef({name:t?.name||"",subject:t?.subject||"",is_active:t?.is_active!==void 0?t.is_active:!0}),[b,x]=y.useState(!1);return y.useEffect(()=>{if(!l){x(!1);return}const N=i!==h.current.name||c!==h.current.subject||g!==h.current.is_active;x(N)},[i,c,g,l]),{templateName:i,templateSubject:c,templateStatus:g,templateDirty:b,setTemplateName:s,setTemplateSubject:d,setTemplateStatus:m,markEmailSaved:()=>{h.current={name:i,subject:c,is_active:g},x(!1)}}}function Am({postData:t,initialSelectedTerms:l,isPostContext:i}){const[s,c]=y.useState(t?.title||""),[d,g]=y.useState(t?.slug||""),[m,h]=y.useState(t?.status||"draft"),[b,x]=y.useState(t?.excerpt||""),[v,N]=y.useState(t?.published_at||""),[S,$]=y.useState(String(t?.parent_id||"")),[k,C]=y.useState(l||{}),[j,L]=y.useState(t?.featured_image_url||""),[E,A]=y.useState(!1),[R,M]=y.useState(()=>({title:t?.title||"",slug:t?.slug||"",status:t?.status||"draft",excerpt:t?.excerpt||"",publishedAt:t?.published_at||"",parentId:String(t?.parent_id||""),featuredImage:t?.featured_image_url||""})),P=y.useMemo(()=>i?s!==R.title||d!==R.slug||m!==R.status||b!==R.excerpt||v!==R.publishedAt||S!==R.parentId||j!==R.featuredImage||E:!1,[i,s,d,m,b,v,S,j,E,R]),H=y.useCallback(()=>{const V=s.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();g(V)},[s]);return{title:s,slug:d,status:m,excerpt:b,publishedAt:v,parentId:S,selectedTerms:k,featuredImage:j,removeFeaturedImage:E,postDirty:P,setTitle:c,setSlug:g,setStatus:h,setExcerpt:x,setPublishedAt:N,setParentId:$,setSelectedTerms:C,setFeaturedImage:L,setRemoveFeaturedImage:A,generateSlug:H,markPostSaved:()=>{M({title:s,slug:d,status:m,excerpt:b,publishedAt:v,parentId:S,featuredImage:j}),A(!1)}}}const $r=new Map;function Lm({blocks:t,actions:l,addBlockAfterSelected:i}){const s=y.useCallback(C=>{const j=t.find(L=>L.id===C);if(j)return j;for(const L of t)if(L.type==="columns"&&L.props.children)for(const E of L.props.children){const A=E.find(R=>R.id===C);if(A)return A}return null},[t]),c=y.useCallback(C=>{let j=t.findIndex(L=>L.id===C);if(j!==-1)return{isNested:!1,parentBlockId:null,columnIndex:null,blockIndex:j};for(const L of t)if(L.type==="columns"&&L.props.children)for(let E=0;E<L.props.children.length;E++){const R=L.props.children[E].findIndex(M=>M.id===C);if(R!==-1)return{isNested:!0,parentBlockId:L.id,columnIndex:E,blockIndex:R}}return null},[t]),d=y.useCallback((C,j)=>{l.updateBlock(C,j)},[l]),g=y.useCallback(C=>{l.deleteBlock(C)},[l]),m=y.useCallback((C,j,L)=>{l.deleteNestedBlock(j,L,C)},[l]),h=y.useCallback((C,j)=>{const L=t.findIndex(A=>A.id===C);if(L===-1)return;const E=j==="up"?L-1:L+1;E<0||E>=t.length||l.moveBlock(L,E)},[t,l]),b=y.useCallback((C,j,L,E)=>{const A=t.find(H=>H.id===j);if(!A?.props?.children?.[L])return;const R=A.props.children[L],M=R.findIndex(H=>H.id===C);if(M===-1)return;const P=E==="up"?M-1:M+1;P<0||P>=R.length||l.moveNestedBlock(j,L,M,L,P)},[t,l]),x=y.useCallback(C=>{l.duplicateBlock(C)},[l]),v=y.useCallback((C,j,L)=>{const E=t.find(P=>P.id===j);if(!E?.props?.children?.[L])return;const A=E.props.children[L],R=A.find(P=>P.id===C);if(!R)return;const M=Qe.createInstance(R.type,R.props);if(M){const P=A.findIndex(H=>H.id===C);l.addNestedBlock(j,L,M,P+1)}},[t,l]),N=y.useCallback(C=>{i(C)},[i]),S=y.useCallback((C,j,L={})=>{const E=Qe.createInstance(j,L);if(!E)return;const A=t.findIndex(R=>R.id===C);if(A!==-1){L.content&&$r.set(E.id,"start"),l.addBlock(E,A+1),l.selectBlock(E.id);return}for(const R of t)if(R.type==="columns"&&R.props.children)for(let M=0;M<R.props.children.length;M++){const H=R.props.children[M].findIndex(G=>G.id===C);if(H!==-1){L.content&&$r.set(E.id,"start"),l.addNestedBlock(R.id,M,E,H+1),l.selectBlock(E.id);return}}},[t,l]),$=y.useCallback((C,j)=>{const L=Qe.createInstance(j);if(!L)return;const E=t.findIndex(A=>A.id===C);if(E!==-1){l.deleteBlock(C),setTimeout(()=>{l.addBlock(L,E),l.selectBlock(L.id)},0);return}for(const A of t)if(A.type==="columns"&&A.props.children)for(let R=0;R<A.props.children.length;R++){const P=A.props.children[R].findIndex(H=>H.id===C);if(P!==-1){l.deleteNestedBlock(A.id,R,C),setTimeout(()=>{l.addNestedBlock(A.id,R,L,P),l.selectBlock(L.id)},0);return}}},[t,l]),k=y.useCallback((C,j)=>{const L=t.findIndex(G=>G.id===C);if(L<=0)return;const E=t[L-1];let A;if(E.type==="text")A="content";else if(E.type==="heading")A="text";else return;const R=E.props[A]||"",M=R+j,P=document.createElement("div");P.innerHTML=R;const H=P.textContent.length;$r.set(E.id,H),l.updateBlock(E.id,{...E.props,[A]:M}),l.deleteBlock(C),l.selectBlock(E.id)},[t,l]);return{findBlock:s,findBlockLocation:c,handleUpdateBlock:d,handleDeleteBlock:g,handleDeleteNestedBlock:m,handleMoveBlock:h,handleMoveNestedBlock:b,handleDuplicateBlock:x,handleDuplicateNestedBlock:v,handleAddBlock:N,handleInsertBlockAfter:S,handleReplaceBlock:$,handleMergeBlockWithPrevious:k}}function Bm({blocks:t,actions:l}){const[i,s]=y.useState(null),c=y.useCallback(m=>{s(m.active.id),ye.doAction(Ce.ACTION_DRAG_START,m)},[]),d=y.useCallback(m=>{const{active:h,over:b}=m;if(s(null),ye.doAction(Ce.ACTION_DRAG_END,m),!b)return;const x=b.id,v=b.data.current;if(h.data.current?.type==="palette"){const N=h.data.current.blockType;if(N==="columns"&&v?.type==="column")return;const S=Qe.createInstance(N);if(!S)return;if(v?.type==="column"){const{parentId:$,columnIndex:k}=v;l.addNestedBlock($,k,S);return}if(x==="canvas")l.addBlock(S);else if(x.toString().startsWith("dropzone-")){const $=parseInt(x.toString().replace("dropzone-",""),10);l.addBlock(S,$)}else{const $=t.findIndex(k=>k.id===x);$!==-1?l.addBlock(S,$):l.addBlock(S)}ye.doAction(Ce.ACTION_DROP,S,m);return}if(h.data.current?.type==="nested"){const{parentId:N,columnIndex:S}=h.data.current;if(h.id!==b.id&&v?.type==="nested"){const{parentId:$,columnIndex:k}=v;if(N===$&&S===k){const C=t.find(E=>E.id===N)?.props?.children?.[S]||[],j=C.findIndex(E=>E.id===h.id),L=C.findIndex(E=>E.id===b.id);j!==-1&&L!==-1&&l.moveNestedBlock(N,S,j,S,L);return}}v?.type}if(h.id!==b.id){const N=t.findIndex($=>$.id===h.id),S=t.findIndex($=>$.id===b.id);N!==-1&&S!==-1&&l.moveBlock(N,S)}},[t,l]),g=y.useCallback(m=>{const h=uh(m);if(h.length>0){const b=h.find(v=>v.data?.droppableContainer?.data?.current?.type==="nested");if(b)return[b];const x=h.find(v=>v.id.toString().startsWith("column-"));return x?[x]:[h[0]]}return ih(m)},[]);return{activeId:i,handleDragStart:c,handleDragEnd:d,customCollisionDetection:g}}let Zo={};function Im(t=null){t?Zo=t:typeof window<"u"&&(Zo=window.__translations||window.LaraBuilderTranslations||{})}function Bf(t){return Zo[t]??t}function qa(t,l){return typeof t!="string"||Object.keys(l).length===0||Object.entries(l).forEach(([i,s])=>{t=t.replace(new RegExp(`:${i}`,"gi"),String(s))}),t}function f(t,l={}){const i=Bf(t);return qa(i,l)}function _m(t,l,i,s={}){const d=Bf(i===1?t:l);return qa(d,{count:i,...s})}function Dm(t,l,i={}){const s=`${t}|${l}`,c=Zo[s]??Zo[t]??t;return qa(c,i)}function Pm(t,...l){if(typeof t!="string")return t;let i=0;return t.replace(/%(%|s|d|f|\.\d+f)/g,s=>{if(s==="%%")return"%";const c=l[i++];if(c===void 0)return s;if(s==="%s")return String(c);if(s==="%d")return parseInt(c,10).toString();if(s==="%f")return parseFloat(c).toString();const d=s.match(/^%\.(\d+)f$/);return d?parseFloat(c).toFixed(parseInt(d[1],10)):s})}typeof window<"u"&&(Im(),window.__=window.__||f,window._n=window._n||_m,window._x=window._x||Dm,window.sprintf=window.sprintf||Pm);function If(t,l,i){const s=t.slice();return s.splice(i<0?s.length+i:i,0,s.splice(l,1)[0]),s}function Mm(t,l){return t.reduce((i,s,c)=>{const d=l.get(s);return d&&(i[c]=d),i},Array(t.length))}function vi(t){return t!==null&&t>=0}function zm(t,l){if(t===l)return!0;if(t.length!==l.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==l[i])return!1;return!0}function Om(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const _f=t=>{let{rects:l,activeIndex:i,overIndex:s,index:c}=t;const d=If(l,s,i),g=l[c],m=d[c];return!m||!g?null:{x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height}},bi={scaleX:1,scaleY:1},Ja=t=>{var l;let{activeIndex:i,activeNodeRect:s,index:c,rects:d,overIndex:g}=t;const m=(l=d[i])!=null?l:s;if(!m)return null;if(c===i){const b=d[g];return b?{x:0,y:i<g?b.top+b.height-(m.top+m.height):b.top-m.top,...bi}:null}const h=Hm(d,c,i);return c>i&&c<=g?{x:0,y:-m.height-h,...bi}:c<i&&c>=g?{x:0,y:m.height+h,...bi}:{x:0,y:0,...bi}};function Hm(t,l,i){const s=t[l],c=t[l-1],d=t[l+1];return s?i<l?c?s.top-(c.top+c.height):d?d.top-(s.top+s.height):0:d?d.top-(s.top+s.height):c?s.top-(c.top+c.height):0:0}const Df="Sortable",Pf=Ve.createContext({activeIndex:-1,containerId:Df,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:_f,disabled:{draggable:!1,droppable:!1}});function Za(t){let{children:l,id:i,items:s,strategy:c=_f,disabled:d=!1}=t;const{active:g,dragOverlay:m,droppableRects:h,over:b,measureDroppableContainers:x}=Tf(),v=rl(Df,i),N=m.rect!==null,S=y.useMemo(()=>s.map(M=>typeof M=="object"&&"id"in M?M.id:M),[s]),$=g!=null,k=g?S.indexOf(g.id):-1,C=b?S.indexOf(b.id):-1,j=y.useRef(S),L=!zm(S,j.current),E=C!==-1&&k===-1||L,A=Om(d);hn(()=>{L&&$&&x(S)},[L,S,$,x]),y.useEffect(()=>{j.current=S},[S]);const R=y.useMemo(()=>({activeIndex:k,containerId:v,disabled:A,disableTransforms:E,items:S,overIndex:C,useDragOverlay:N,sortedRects:Mm(S,h),strategy:c}),[k,v,A.draggable,A.droppable,E,S,C,h,N,c]);return Ve.createElement(Pf.Provider,{value:R},l)}const Fm=t=>{let{id:l,items:i,activeIndex:s,overIndex:c}=t;return If(i,s,c).indexOf(l)},Wm=t=>{let{containerId:l,isSorting:i,wasDragging:s,index:c,items:d,newIndex:g,previousItems:m,previousContainerId:h,transition:b}=t;return!b||!s||m!==d&&c===g?!1:i?!0:g!==c&&l===h},Um={duration:200,easing:"ease"},Mf="transform",Vm=En.Transition.toString({property:Mf,duration:0,easing:"linear"}),Km={roleDescription:"sortable"};function Gm(t){let{disabled:l,index:i,node:s,rect:c}=t;const[d,g]=y.useState(null),m=y.useRef(i);return hn(()=>{if(!l&&i!==m.current&&s.current){const h=c.current;if(h){const b=co(s.current,{ignoreTransform:!0}),x={x:h.left-b.left,y:h.top-b.top,scaleX:h.width/b.width,scaleY:h.height/b.height};(x.x||x.y)&&g(x)}}i!==m.current&&(m.current=i)},[l,i,s,c]),y.useEffect(()=>{d&&g(null)},[d]),d}function ec(t){let{animateLayoutChanges:l=Wm,attributes:i,disabled:s,data:c,getNewIndex:d=Fm,id:g,strategy:m,resizeObserverConfig:h,transition:b=Um}=t;const{items:x,containerId:v,activeIndex:N,disabled:S,disableTransforms:$,sortedRects:k,overIndex:C,useDragOverlay:j,strategy:L}=y.useContext(Pf),E=Xm(s,S),A=x.indexOf(g),R=y.useMemo(()=>({sortable:{containerId:v,index:A,items:x},...c}),[v,c,A,x]),M=y.useMemo(()=>x.slice(x.indexOf(g)),[x,g]),{rect:P,node:H,isOver:G,setNodeRef:V}=ll({id:g,data:R,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...h}}),{active:Y,activatorEvent:O,activeNodeRect:ee,attributes:se,setNodeRef:ce,listeners:he,isDragging:ve,over:te,setActivatorNodeRef:ae,transform:le}=$f({id:g,data:R,attributes:{...Km,...i},disabled:E.draggable}),_=Op(V,ce),U=!!Y,me=U&&!$&&vi(N)&&vi(C),K=!j&&ve,ne=K&&me?le:null,X=me?ne??(m??L)({rects:k,activeNodeRect:ee,activeIndex:N,overIndex:C,index:A}):null,J=vi(N)&&vi(C)?d({id:g,items:x,activeIndex:N,overIndex:C}):A,ie=Y?.id,re=y.useRef({activeId:ie,items:x,newIndex:J,containerId:v}),je=x!==re.current.items,Te=l({active:Y,containerId:v,isDragging:ve,isSorting:U,id:g,index:A,items:x,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:b,wasDragging:re.current.activeId!=null}),Ne=Gm({disabled:!Te,index:A,node:H,rect:P});return y.useEffect(()=>{U&&re.current.newIndex!==J&&(re.current.newIndex=J),v!==re.current.containerId&&(re.current.containerId=v),x!==re.current.items&&(re.current.items=x)},[U,J,v,x]),y.useEffect(()=>{if(ie===re.current.activeId)return;if(ie!=null&&re.current.activeId==null){re.current.activeId=ie;return}const $t=setTimeout(()=>{re.current.activeId=ie},50);return()=>clearTimeout($t)},[ie]),{active:Y,activeIndex:N,attributes:se,data:R,rect:P,index:A,newIndex:J,items:x,isOver:G,isSorting:U,isDragging:ve,listeners:he,node:H,overIndex:C,over:te,setNodeRef:_,setActivatorNodeRef:ae,setDroppableNodeRef:V,setDraggableNodeRef:ce,transform:Ne??X,transition:Ie()};function Ie(){if(Ne||je&&re.current.newIndex===A)return Vm;if(!(K&&!Hi(O)||!b)&&(U||Te))return En.Transition.toString({...b,property:Mf})}}function Xm(t,l){var i,s;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(i=t?.draggable)!=null?i:l.draggable,droppable:(s=t?.droppable)!=null?s:l.droppable}}Le.Down,Le.Right,Le.Up,Le.Left;const Ym={margin:{top:"",right:"",bottom:"",left:""},padding:{top:"",right:"",bottom:"",left:""},width:"",minWidth:"",maxWidth:"",height:"",minHeight:"",maxHeight:""},Qm={align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,layout:!0};function qm(t){if(!t.type)throw new Error("[createBlock] Block type is required");if(!t.label)throw new Error(`[createBlock] Block label is required for type: ${t.type}`);if(!t.block)throw new Error(`[createBlock] Block component is required for type: ${t.type}`);const l={...Qm,...t.supports},i={...t.defaultProps,layoutStyles:{...Ym,...t.defaultProps?.layoutStyles}};return{type:t.type,label:t.label,category:t.category||"Content",icon:t.icon||"lucide:box",description:t.description||"",keywords:t.keywords||[],contexts:t.contexts||["*"],supports:l,fields:t.fields||[],defaultProps:i,block:t.block,editor:t.editor||null,save:t.save||{},validate:t.validate||(()=>!0),transform:t.transform||null}}function Me(t,l={}){return qm({...t,...l})}class Jm{constructor(){this.modalId="laraBuilderMediaModal",this.callbackName="handleLaraBuilderMediaSelection",this.pendingResolve=null,this.pendingReject=null,this.isInitialized=!1}initialize(){this.isInitialized||(window[this.callbackName]=l=>{this.pendingResolve&&(this.pendingResolve(l),this.pendingResolve=null,this.pendingReject=null)},document.addEventListener("keydown",l=>{l.key==="Escape"&&this.pendingReject&&(this.pendingReject(new Error("Selection cancelled")),this.pendingResolve=null,this.pendingReject=null)}),this.isInitialized=!0)}open(l={}){this.initialize();const{multiple:i=!1,allowedTypes:s="images",onSelect:c=null,onCancel:d=null}=l;return new Promise((g,m)=>{if(this.pendingResolve=h=>{c&&c(h),g(h)},this.pendingReject=h=>{d&&d(),m(h)},typeof window.openMediaModal=="function")document.getElementById(this.modalId)||console.warn(`[MediaLibrary] Modal element #${this.modalId} not found in DOM`),window.openMediaModal(this.modalId,i,s,this.callbackName);else{const h=new Error("Media modal not available. Ensure x-media-modal component is included in your Blade template.");console.error("[MediaLibrary]",h.message),this.pendingReject(h)}})}async selectImage(){try{return(await this.open({multiple:!1,allowedTypes:"images"}))[0]||null}catch(l){return console.error("[MediaLibrary] selectImage error:",l),null}}async selectImages(){try{return await this.open({multiple:!0,allowedTypes:"images"})}catch{return[]}}async selectVideo(){try{return(await this.open({multiple:!1,allowedTypes:"videos"}))[0]||null}catch{return null}}async selectFiles(l=!1){try{return await this.open({multiple:l,allowedTypes:"all"})}catch{return l?[]:null}}}const el=new Jm,Zm=({title:t,children:l})=>r.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:f(t)}),l]}),ex=({children:t,htmlFor:l})=>r.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:typeof t=="string"?f(t):t}),tx=({value:t,onChange:l,id:i})=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",id:i,value:t||"#000000",onChange:s=>l(s.target.value),className:"w-12 h-9 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"}),r.jsx("input",{type:"text",value:t||"",onChange:s=>l(s.target.value),placeholder:"#000000",className:"form-control flex-1 font-mono text-sm"})]}),nx=({value:t,onChange:l,min:i=0,max:s=100,step:c=1,id:d,showValue:g=!0})=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"range",id:d,value:t||i,onChange:m=>l(parseFloat(m.target.value)),min:i,max:s,step:c,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),g&&r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[3rem] text-right",children:t||i})]}),rx=({type:t,name:l,label:i,value:s,onChange:c,options:d=[],placeholder:g,min:m,max:h,step:b,rows:x=3,help:v,required:N=!1,showLabel:S=!0,className:$=""})=>{const k=`field-${l}`,C=g?f(g):void 0,j=()=>{switch(t){case"text":return r.jsx("input",{type:"text",id:k,value:s||"",onChange:A=>c(A.target.value),placeholder:C,required:N,className:"form-control"});case"textarea":return r.jsx("textarea",{id:k,value:s||"",onChange:A=>c(A.target.value),placeholder:C,rows:x,required:N,className:"form-control"});case"number":return r.jsx("input",{type:"number",id:k,value:s??"",onChange:A=>c(A.target.value?parseFloat(A.target.value):""),placeholder:C,min:m,max:h,step:b,required:N,className:"form-control"});case"url":return r.jsx("input",{type:"url",id:k,value:s||"",onChange:A=>c(A.target.value),placeholder:C||"https://...",required:N,className:"form-control"});case"email":return r.jsx("input",{type:"email",id:k,value:s||"",onChange:A=>c(A.target.value),placeholder:C,required:N,className:"form-control"});case"select":return r.jsx("select",{id:k,value:s||"",onChange:A=>c(A.target.value),required:N,className:"form-control",children:d.map(A=>r.jsx("option",{value:A.value,children:f(A.label)},A.value))});case"color":return r.jsx(tx,{value:s,onChange:c,id:k});case"checkbox":return r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",id:k,checked:s||!1,onChange:A=>c(A.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary"}),r.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"toggle":return r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",id:k,checked:s||!1,onChange:A=>c(A.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}),r.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"range":return r.jsx(nx,{value:s,onChange:c,min:m,max:h,step:b,id:k});case"image":const E=async()=>{try{const A=await el.selectImage();A&&c(A.url)}catch{}};return r.jsxs("div",{className:"space-y-2",children:[s?r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:s,alt:"",className:"w-full h-32 object-contain rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}),r.jsx("button",{type:"button",onClick:()=>c(""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]}):r.jsxs("div",{onClick:E,className:"flex flex-col items-center justify-center p-6 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:image-plus",className:"text-3xl text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f("Click to select image")})]}),s&&r.jsxs("button",{type:"button",onClick:E,className:"btn btn-default w-full flex items-center justify-center gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:image-edit",width:"16",height:"16"}),f("Change Image")]}),r.jsxs("details",{className:"mt-2",children:[r.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),r.jsx("input",{type:"url",value:s||"",onChange:A=>c(A.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]});case"align":return r.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["left","center","right","justify"].map(A=>r.jsx("button",{type:"button",onClick:()=>c(A),className:`flex-1 p-2 rounded-md transition-colors ${s===A?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,title:f(A.charAt(0).toUpperCase()+A.slice(1)),children:r.jsx("iconify-icon",{icon:`mdi:format-align-${A}`,width:"18",height:"18",className:"mx-auto"})},A))});case"date":return r.jsx("input",{type:"date",id:k,value:s||"",onChange:A=>c(A.target.value),required:N,className:"form-control"});case"time":return r.jsx("input",{type:"time",id:k,value:s||"23:59",onChange:A=>c(A.target.value),required:N,className:"form-control"});case"info":return r.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[r.jsx("iconify-icon",{icon:"mdi:information",width:"18",height:"18",class:"text-blue-500 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:f(s||"")})]});default:return console.warn(`[EditorField] Unknown field type: ${t}`),r.jsx("input",{type:"text",id:k,value:s||"",onChange:A=>c(A.target.value),className:"form-control"})}},L=t==="checkbox"||t==="toggle";return r.jsxs("div",{className:`mb-3 last:mb-0 ${$}`,children:[S&&i&&!L&&r.jsx(ex,{htmlFor:k,children:i}),j(),v&&r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:f(v)})]})},ox=(t,l)=>l.includes(".")?l.split(".").reduce((i,s)=>i?.[s],t):t?.[l],Yd=(t,l,i)=>{if(!l.includes("."))return{...t,[l]:i};const s=l.split("."),c={...t};let d=c;for(let g=0;g<s.length-1;g++){const m=s[g];d[m]={...d[m]},d=d[m]}return d[s[s.length-1]]=i,c},lx=({fields:t=[],blockProps:l,onUpdate:i})=>{const s=(d,g,m)=>{let h=Yd(l,d,g);m?.linkedFields&&Object.entries(m.linkedFields).forEach(([b,x])=>{const v=typeof x=="function"?x(g):x;h=Yd(h,b,v)}),i(h)},c=t.reduce((d,g)=>{const m=g.section||"Content";return d[m]||(d[m]=[]),d[m].push(g),d},{});return r.jsx("div",{className:"space-y-4",children:Object.entries(c).map(([d,g])=>r.jsx(Zm,{title:d,children:g.map(m=>r.jsx(rx,{type:m.type,name:m.name,label:m.label,value:ox(l,m.name),onChange:h=>s(m.name,h,m),options:m.options,placeholder:m.placeholder,min:m.min,max:m.max,step:m.step,rows:m.rows,help:m.help,required:m.required},m.name))},d))})},ix=[{value:"",label:"Auto"},{value:"100%",label:"100%"},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"},{value:"100px",label:"100px"},{value:"150px",label:"150px"},{value:"200px",label:"200px"},{value:"250px",label:"250px"},{value:"300px",label:"300px"},{value:"400px",label:"400px"},{value:"500px",label:"500px"}],sx=[{value:"cover",label:"Cover"},{value:"contain",label:"Contain"},{value:"auto",label:"Auto"},{value:"100% 100%",label:"100%"}],ax=[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"top left",label:"Top Left"},{value:"top right",label:"Top Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom right",label:"Bottom Right"}],cx=[{value:"no-repeat",label:"No Repeat"},{value:"repeat",label:"Repeat"},{value:"repeat-x",label:"Repeat X"},{value:"repeat-y",label:"Repeat Y"}],ux=[{value:"",label:"Inherit"},{value:"Arial, sans-serif",label:"Arial"},{value:"Helvetica, Arial, sans-serif",label:"Helvetica"},{value:"Georgia, serif",label:"Georgia"},{value:"'Times New Roman', Times, serif",label:"Times New Roman"},{value:"Verdana, Geneva, sans-serif",label:"Verdana"},{value:"'Trebuchet MS', sans-serif",label:"Trebuchet MS"},{value:"'Courier New', Courier, monospace",label:"Courier New"},{value:"system-ui, -apple-system, sans-serif",label:"System UI"}],Qd=[{value:"",label:"Inherit"},{value:"10px",label:"10px"},{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"},{value:"20px",label:"20px"},{value:"24px",label:"24px"},{value:"28px",label:"28px"},{value:"32px",label:"32px"},{value:"36px",label:"36px"},{value:"48px",label:"48px"},{value:"64px",label:"64px"}],dx=[{value:"",label:"Inherit"},{value:"100",label:"Thin (100)"},{value:"200",label:"Extra Light (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi Bold (600)"},{value:"700",label:"Bold (700)"},{value:"800",label:"Extra Bold (800)"},{value:"900",label:"Black (900)"}],fx=[{value:"",label:"Inherit"},{value:"normal",label:"Normal"},{value:"italic",label:"Italic"},{value:"oblique",label:"Oblique"}],qd=[{value:"",label:"Inherit"},{value:"1",label:"1"},{value:"1.2",label:"1.2"},{value:"1.4",label:"1.4"},{value:"1.5",label:"1.5"},{value:"1.6",label:"1.6"},{value:"1.8",label:"1.8"},{value:"2",label:"2"}],Jd=[{value:"",label:"Inherit"},{value:"-1px",label:"-1px"},{value:"-0.5px",label:"-0.5px"},{value:"0",label:"0"},{value:"0.5px",label:"0.5px"},{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"}],gx=[{value:"",label:"Inherit",icon:"Aa"},{value:"uppercase",label:"Uppercase",icon:"AA"},{value:"lowercase",label:"Lowercase",icon:"aa"},{value:"capitalize",label:"Capitalize",icon:"Aa"},{value:"none",label:"None",icon:"x"}],px=[{value:"",label:"Inherit",icon:"mdi:format-text"},{value:"underline",label:"Underline",icon:"mdi:format-underline"},{value:"overline",label:"Overline",icon:"mdi:format-overline"},{value:"line-through",label:"Strikethrough",icon:"mdi:format-strikethrough"},{value:"none",label:"None",icon:"mdi:close"}],hx=({background:t={},onChange:l,onImageUpload:i})=>{const[s,c]=y.useState(!1),d=b=>{l({...t,color:b})},g=b=>{l({...t,image:b})},m=async()=>{c(!0);try{const b=await el.selectImage();b?.url&&g(b.url)}catch(b){console.error("Failed to select image:",b)}finally{c(!1)}},h=()=>{l({...t,image:"",size:"",position:"",repeat:""})};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:t.color||"#ffffff",onChange:b=>d(b.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),r.jsx("input",{type:"text",value:t.color||"",onChange:b=>d(b.target.value),placeholder:"transparent",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&r.jsx("button",{type:"button",onClick:()=>d(""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background image")}),t.image&&r.jsxs("div",{className:"mb-2 relative",children:[r.jsx("img",{src:t.image,alt:"Background preview",className:"w-full h-16 object-cover rounded border border-gray-200"}),r.jsx("button",{type:"button",onClick:h,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:f("Remove image"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"12",height:"12"})})]}),r.jsx("button",{type:"button",onClick:m,disabled:s,className:"w-full border-2 border-dashed border-gray-200 rounded-lg p-3 text-center hover:border-primary/50 hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:s?r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin"}),r.jsx("span",{children:f("Selecting...")})]}):r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:image-plus",width:"16",height:"16",class:"text-primary"}),r.jsx("span",{className:"font-medium",children:f("Select from Media Library")})]})})}),r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("span",{className:"text-xs text-gray-400",children:f("or")}),r.jsx("input",{type:"text",value:t.image||"",onChange:b=>g(b.target.value),placeholder:"Enter image URL...",className:"flex-1 px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),t.image&&r.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Size")}),r.jsx("select",{value:t.size||"cover",onChange:b=>l({...t,size:b.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:sx.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Position")}),r.jsx("select",{value:t.position||"center",onChange:b=>l({...t,position:b.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ax.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Repeat")}),r.jsx("select",{value:t.repeat||"no-repeat",onChange:b=>l({...t,repeat:b.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:cx.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))})]})]})]})},mx=({typography:t={},onChange:l})=>{const i=(s,c)=>{l({...t,[s]:c})};return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:t.color||"#000000",onChange:s=>i("color",s.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),r.jsx("input",{type:"text",value:t.color||"",onChange:s=>i("color",s.target.value),placeholder:"inherit",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&r.jsx("button",{type:"button",onClick:()=>i("color",""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font size")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Qd.some(s=>s.value===t.fontSize)?t.fontSize:"custom",onChange:s=>{s.target.value!=="custom"&&i("fontSize",s.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Qd.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),r.jsx("input",{type:"text",value:t.fontSize||"",onChange:s=>i("fontSize",s.target.value),placeholder:"e.g., 16px",className:"w-20 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text align")}),r.jsx("div",{className:"flex gap-1",children:[{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"},{value:"justify",icon:"mdi:format-align-justify"}].map(({value:s,icon:c})=>r.jsx("button",{type:"button",onClick:()=>i("textAlign",s),className:`flex-1 p-2 rounded transition-colors ${t.textAlign===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:s.charAt(0).toUpperCase()+s.slice(1),children:r.jsx("iconify-icon",{icon:c,width:"16",height:"16"})},s))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text transform")}),r.jsx("div",{className:"flex gap-1",children:gx.slice(0,4).map(({value:s,label:c,icon:d})=>r.jsx("button",{type:"button",onClick:()=>i("textTransform",s),className:`flex-1 p-2 rounded text-xs font-medium transition-colors ${(t.textTransform||"")===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:d},s||"inherit"))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font family")}),r.jsx("select",{value:t.fontFamily||"",onChange:s=>i("fontFamily",s.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ux.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font weight")}),r.jsx("select",{value:t.fontWeight||"",onChange:s=>i("fontWeight",s.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:dx.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font style")}),r.jsx("select",{value:t.fontStyle||"",onChange:s=>i("fontStyle",s.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:fx.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Line height")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:qd.some(s=>s.value===t.lineHeight)?t.lineHeight:"custom",onChange:s=>{s.target.value!=="custom"&&i("lineHeight",s.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[qd.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),r.jsx("input",{type:"text",value:t.lineHeight||"",onChange:s=>i("lineHeight",s.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Letter spacing")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:Jd.some(s=>s.value===t.letterSpacing)?t.letterSpacing:"custom",onChange:s=>{s.target.value!=="custom"&&i("letterSpacing",s.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Jd.map(s=>r.jsx("option",{value:s.value,children:s.label},s.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),r.jsx("input",{type:"text",value:t.letterSpacing||"",onChange:s=>i("letterSpacing",s.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text decoration")}),r.jsx("div",{className:"flex gap-1",children:px.slice(0,4).map(({value:s,label:c,icon:d})=>r.jsx("button",{type:"button",onClick:()=>i("textDecoration",s),className:`flex-1 p-2 rounded transition-colors ${(t.textDecoration||"")===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:r.jsx("iconify-icon",{icon:d,width:"16",height:"16"})},s||"inherit"))})]})]})},wi=({value:t,onChange:l,placeholder:i=""})=>r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:t||"",onChange:s=>l(s.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]}),Zd=({label:t,values:l,onChange:i,linkSides:s,onToggleLink:c})=>{const{top:d="",right:g="",bottom:m="",left:h=""}=l||{},b=(x,v)=>{i(s?{top:v,right:v,bottom:v,left:v}:{...l,[x]:v})};return r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:t}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:c,className:`p-1 rounded transition-colors ${s?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(s?"Unlink sides":"Link all sides"),children:r.jsx("iconify-icon",{icon:s?"mdi:link":"mdi:link-off",width:"14",height:"14"})}),r.jsx("button",{type:"button",onClick:()=>i({top:"",right:"",bottom:"",left:""}),className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Reset"),children:r.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),r.jsxs("div",{className:"relative bg-gray-100 rounded-lg p-3",children:[r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(wi,{value:d,onChange:x=>b("top",x),placeholder:"0"})}),r.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r.jsx("div",{className:"w-20",children:r.jsx(wi,{value:h,onChange:x=>b("left",x),placeholder:"0"})}),r.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-gray-500",children:f("Content")})}),r.jsx("div",{className:"w-20",children:r.jsx(wi,{value:g,onChange:x=>b("right",x),placeholder:"0"})})]}),r.jsx("div",{className:"flex justify-center mt-2",children:r.jsx(wi,{value:m,onChange:x=>b("bottom",x),placeholder:"0"})})]})]})},xx=({margin:t,padding:l,onMarginChange:i,onPaddingChange:s})=>{const[c,d]=y.useState(!1),[g,m]=y.useState(!1);return r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Spacing")}),r.jsx(Zd,{label:f("Margin"),values:t||{},onChange:i,linkSides:c,onToggleLink:()=>d(!c)}),r.jsx(Zd,{label:f("Padding"),values:l||{},onChange:s,linkSides:g,onToggleLink:()=>m(!g)})]})},oo=({label:t,value:l,onChange:i,presets:s=ix})=>{const[c,d]=y.useState(l&&!s.some(g=>g.value===l));return r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:t}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:c?"custom":l||"",onChange:g=>{g.target.value==="custom"?d(!0):(d(!1),i(g.target.value))},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[s.map(g=>r.jsx("option",{value:g.value,children:g.label},g.value)),r.jsx("option",{value:"custom",children:f("Custom")})]}),c&&r.jsx("input",{type:"text",value:l||"",onChange:g=>i(g.target.value),placeholder:"e.g., 200px",className:"w-24 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"flex items-center",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]})]})},yx=({layoutStyles:t={},onChange:l})=>{const i=(s,c)=>{l(s,c)};return r.jsxs("div",{children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Sizing")}),r.jsx(oo,{label:f("Width"),value:t.width||"",onChange:s=>i("width",s)}),r.jsx(oo,{label:f("Min. width"),value:t.minWidth||"",onChange:s=>i("minWidth",s)}),r.jsx(oo,{label:f("Max. width"),value:t.maxWidth||"",onChange:s=>i("maxWidth",s)}),r.jsx(oo,{label:f("Height"),value:t.height||"",onChange:s=>i("height",s)}),r.jsx(oo,{label:f("Min. height"),value:t.minHeight||"",onChange:s=>i("minHeight",s)}),r.jsx(oo,{label:f("Max. height"),value:t.maxHeight||"",onChange:s=>i("maxHeight",s)})]})},vx=[{value:"",label:f("Default")},{value:"none",label:f("None")},{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")},{value:"double",label:f("Double")}],ki=({value:t,onChange:l,placeholder:i="0"})=>r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",value:t||"",onChange:s=>l(s.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]}),Ci=({label:t,value:l,onChange:i})=>r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1 uppercase",children:t}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:l||"",onChange:s=>i(s.target.value),placeholder:"0",className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),bx=({border:t={},onChange:l})=>{const[i,s]=y.useState(!1),[c,d]=y.useState(!0),[g,m]=y.useState(!0),{width:h={},style:b="",color:x="",radius:v={}}=t,N=(j,L)=>{l(c?{...t,width:{top:L,right:L,bottom:L,left:L}}:{...t,width:{...h,[j]:L}})},S=(j,L)=>{l(g?{...t,radius:{topLeft:L,topRight:L,bottomLeft:L,bottomRight:L}}:{...t,radius:{...v,[j]:L}})},$=j=>{l({...t,style:j})},k=j=>{l({...t,color:j})},C=h.top||h.right||h.bottom||h.left||b||x;return r.jsxs("div",{className:"mb-3",children:[r.jsxs("button",{type:"button",onClick:()=>s(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Border")}),r.jsxs("div",{className:"flex items-center gap-2",children:[C&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),r.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&r.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Width")}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:`p-1 rounded transition-colors ${c?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(c?"Unlink sides":"Link all sides"),children:r.jsx("iconify-icon",{icon:c?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),r.jsx("div",{className:"flex justify-center mb-2",children:r.jsx(ki,{value:h.top,onChange:j=>N("top",j)})}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx(ki,{value:h.left,onChange:j=>N("left",j)}),r.jsx(ki,{value:h.right,onChange:j=>N("right",j)})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(ki,{value:h.bottom,onChange:j=>N("bottom",j)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Style")}),r.jsx("select",{value:b,onChange:j=>$(j.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:vx.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:x||"#000000",onChange:j=>k(j.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:x,onChange:j=>k(j.target.value),placeholder:"#000000",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),x&&r.jsx("button",{type:"button",onClick:()=>k(""),className:"p-1 text-gray-400 hover:text-gray-600",title:f("Clear"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Radius")}),r.jsx("button",{type:"button",onClick:()=>m(!g),className:`p-1 rounded transition-colors ${g?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(g?"Unlink corners":"Link all corners"),children:r.jsx("iconify-icon",{icon:g?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(Ci,{label:f("Top Left"),value:v.topLeft,onChange:j=>S("topLeft",j)}),r.jsx(Ci,{label:f("Top Right"),value:v.topRight,onChange:j=>S("topRight",j)}),r.jsx(Ci,{label:f("Bottom Left"),value:v.bottomLeft,onChange:j=>S("bottomLeft",j)}),r.jsx(Ci,{label:f("Bottom Right"),value:v.bottomRight,onChange:j=>S("bottomRight",j)})]})]}),C&&r.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Border")})]})]})},Si=({label:t,value:l,onChange:i,placeholder:s="0"})=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 w-12 uppercase",children:t}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",value:l||"",onChange:c=>i(c.target.value),placeholder:s,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),r.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:r.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),wx=({boxShadow:t={},onChange:l})=>{const[i,s]=y.useState(!1),{x:c="",y:d="",blur:g="",spread:m="",color:h="",inset:b=!1}=t,x=(N,S)=>{l({...t,[N]:S})},v=c||d||g||m||h;return r.jsxs("div",{className:"mb-3",children:[r.jsxs("button",{type:"button",onClick:()=>s(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Box shadow")}),r.jsxs("div",{className:"flex items-center gap-2",children:[v&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),r.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&r.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-3",children:[r.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:f("Box shadow")}),r.jsx(Si,{label:"X",value:c,onChange:N=>x("x",N),placeholder:"0px"}),r.jsx(Si,{label:"Y",value:d,onChange:N=>x("y",N),placeholder:"4px"}),r.jsx(Si,{label:f("Blur"),value:g,onChange:N=>x("blur",N),placeholder:"6px"}),r.jsx(Si,{label:f("Spread"),value:m,onChange:N=>x("spread",N),placeholder:"0px"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500 w-12",children:f("Color")}),r.jsxs("div",{className:"flex-1 flex gap-2",children:[r.jsx("input",{type:"color",value:h||"#000000",onChange:N=>x("color",N.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:h,onChange:N=>x("color",N.target.value),placeholder:"rgba(0,0,0,0.1)",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:f("Inset")}),r.jsx("button",{type:"button",onClick:()=>x("inset",!b),className:`relative w-10 h-5 rounded-full transition-colors ${b?"bg-primary":"bg-gray-300"}`,children:r.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${b?"translate-x-5":"translate-x-0.5"}`})})]}),v&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Preview")}),r.jsx("div",{className:"w-full h-16 bg-white rounded-lg border border-gray-200",style:{boxShadow:`${b?"inset ":""}${c||"0px"} ${d||"4px"} ${g||"6px"} ${m||"0px"} ${h||"rgba(0,0,0,0.1)"}`}})]}),r.jsxs("div",{className:"pt-2",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Quick presets")}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"1px",blur:"3px",spread:"0px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Subtle")}),r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"4px",blur:"6px",spread:"-1px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Medium")}),r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"10px",blur:"15px",spread:"-3px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Large")}),r.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"25px",blur:"50px",spread:"-12px",color:"rgba(0,0,0,0.25)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("XL")})]})]}),v&&r.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Shadow")})]})]})},kx=({customCSS:t="",customClass:l="",onChange:i,onClassChange:s})=>{const[c,d]=y.useState(t),[g,m]=y.useState(l),h=y.useCallback(N=>{const S=N.target.value;d(S),i(S)},[i]),b=y.useCallback(N=>{const S=N.target.value;m(S),s?.(S)},[s]),x=[{label:f("Shadow"),css:"box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"},{label:f("Rounded"),css:"border-radius: 12px;"},{label:f("Border"),css:"border: 2px solid #e5e7eb;"},{label:f("Opacity"),css:"opacity: 0.9;"}],v=N=>{const S=c?`${c}
${N}`:N;d(S),i(S)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:f("Quick Add")}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.map(N=>r.jsx("button",{type:"button",onClick:()=>v(N.css),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:N.label},N.label))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("CSS Properties")}),r.jsx("textarea",{value:c,onChange:h,placeholder:"e.g., box-shadow: 0 4px 6px rgba(0,0,0,0.1);",className:"w-full h-24 px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary resize-y",spellCheck:!1}),r.jsx("p",{className:"mt-1 text-xs text-gray-400",children:f("CSS properties separated by semicolons")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("Custom Class")}),r.jsx("input",{type:"text",value:g,onChange:b,placeholder:"my-custom-class",className:"w-full px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary"}),r.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:[f("Added alongside")," ",r.jsxs("code",{className:"px-1 py-0.5 bg-gray-100 rounded",children:["lb-","{type}"]})]})]})]})},_e=(t,l)=>{const i=Tr(l||{}),s={...t};return Object.entries(i).forEach(([c,d])=>{d!=null&&d!==""&&(s[c]=d)}),s},Tr=(t={})=>{const l={};if(t.background){const{color:i,image:s,size:c,position:d,repeat:g}=t.background;i&&(l.backgroundColor=i),s&&(l.backgroundImage=`url(${s})`,l.backgroundSize=c||"cover",l.backgroundPosition=d||"center",l.backgroundRepeat=g||"no-repeat")}if(t.margin){const{top:i,right:s,bottom:c,left:d}=t.margin;(i||s||c||d)&&(l.marginTop=i||"0",l.marginRight=s||"0",l.marginBottom=c||"0",l.marginLeft=d||"0")}if(t.padding){const{top:i,right:s,bottom:c,left:d}=t.padding;(i||s||c||d)&&(l.paddingTop=i||"0",l.paddingRight=s||"0",l.paddingBottom=c||"0",l.paddingLeft=d||"0")}if(t.width&&(l.width=t.width),t.minWidth&&(l.minWidth=t.minWidth),t.maxWidth&&(l.maxWidth=t.maxWidth),t.height&&(l.height=t.height),t.minHeight&&(l.minHeight=t.minHeight),t.maxHeight&&(l.maxHeight=t.maxHeight),t.typography){const{color:i,fontSize:s,textAlign:c,textTransform:d,fontFamily:g,fontWeight:m,fontStyle:h,lineHeight:b,letterSpacing:x,textDecoration:v}=t.typography;i&&(l.color=i),s&&(l.fontSize=s),c&&(l.textAlign=c),d&&(l.textTransform=d),g&&(l.fontFamily=g),m&&(l.fontWeight=m),h&&(l.fontStyle=h),b&&(l.lineHeight=b),x&&(l.letterSpacing=x),v&&(l.textDecoration=v)}if(t.border){const{width:i={},style:s,color:c,radius:d={}}=t.border;i.top&&(l.borderTopWidth=i.top),i.right&&(l.borderRightWidth=i.right),i.bottom&&(l.borderBottomWidth=i.bottom),i.left&&(l.borderLeftWidth=i.left),s&&(l.borderStyle=s),c&&(l.borderColor=c),d.topLeft&&(l.borderTopLeftRadius=d.topLeft),d.topRight&&(l.borderTopRightRadius=d.topRight),d.bottomLeft&&(l.borderBottomLeftRadius=d.bottomLeft),d.bottomRight&&(l.borderBottomRightRadius=d.bottomRight)}if(t.boxShadow){const{x:i,y:s,blur:c,spread:d,color:g,inset:m}=t.boxShadow;if(i||s||c||d||g){const h=`${m?"inset ":""}${i||"0px"} ${s||"0px"} ${c||"0px"} ${d||"0px"} ${g||"rgba(0,0,0,0.1)"}`;l.boxShadow=h}}return l},Di=(t={})=>{const l=[];if(t.background){const{color:i,image:s,size:c,position:d,repeat:g}=t.background;i&&l.push(`background-color: ${i}`),s&&(l.push(`background-image: url(${s})`),l.push(`background-size: ${c||"cover"}`),l.push(`background-position: ${d||"center"}`),l.push(`background-repeat: ${g||"no-repeat"}`))}if(t.margin){const{top:i,right:s,bottom:c,left:d}=t.margin;i&&l.push(`margin-top: ${i}`),s&&l.push(`margin-right: ${s}`),c&&l.push(`margin-bottom: ${c}`),d&&l.push(`margin-left: ${d}`)}if(t.padding){const{top:i,right:s,bottom:c,left:d}=t.padding;i&&l.push(`padding-top: ${i}`),s&&l.push(`padding-right: ${s}`),c&&l.push(`padding-bottom: ${c}`),d&&l.push(`padding-left: ${d}`)}if(t.width&&l.push(`width: ${t.width}`),t.minWidth&&l.push(`min-width: ${t.minWidth}`),t.maxWidth&&l.push(`max-width: ${t.maxWidth}`),t.height&&l.push(`height: ${t.height}`),t.minHeight&&l.push(`min-height: ${t.minHeight}`),t.maxHeight&&l.push(`max-height: ${t.maxHeight}`),t.typography){const{color:i,fontSize:s,textAlign:c,textTransform:d,fontFamily:g,fontWeight:m,fontStyle:h,lineHeight:b,letterSpacing:x,textDecoration:v}=t.typography;i&&l.push(`color: ${i}`),s&&l.push(`font-size: ${s}`),c&&l.push(`text-align: ${c}`),d&&l.push(`text-transform: ${d}`),g&&l.push(`font-family: ${g}`),m&&l.push(`font-weight: ${m}`),h&&l.push(`font-style: ${h}`),b&&l.push(`line-height: ${b}`),x&&l.push(`letter-spacing: ${x}`),v&&l.push(`text-decoration: ${v}`)}if(t.border){const{width:i={},style:s,color:c,radius:d={}}=t.border;i.top&&l.push(`border-top-width: ${i.top}`),i.right&&l.push(`border-right-width: ${i.right}`),i.bottom&&l.push(`border-bottom-width: ${i.bottom}`),i.left&&l.push(`border-left-width: ${i.left}`),s&&l.push(`border-style: ${s}`),c&&l.push(`border-color: ${c}`),d.topLeft&&l.push(`border-top-left-radius: ${d.topLeft}`),d.topRight&&l.push(`border-top-right-radius: ${d.topRight}`),d.bottomLeft&&l.push(`border-bottom-left-radius: ${d.bottomLeft}`),d.bottomRight&&l.push(`border-bottom-right-radius: ${d.bottomRight}`)}if(t.boxShadow){const{x:i,y:s,blur:c,spread:d,color:g,inset:m}=t.boxShadow;if(i||s||c||d||g){const h=`${m?"inset ":""}${i||"0px"} ${s||"0px"} ${c||"0px"} ${d||"0px"} ${g||"rgba(0,0,0,0.1)"}`;l.push(`box-shadow: ${h}`)}}return l.join("; ")},Ko=({icon:t,iconColor:l="text-primary/100",title:i,isExpanded:s,onToggle:c})=>r.jsxs("button",{type:"button",onClick:c,className:"flex items-center justify-between w-full text-left mb-3 group py-2.5 px-3 rounded-lg border border-transparent hover:bg-gray-50 dark:hover:bg-gray-800/50 focus:outline-none focus:border-primary/40 focus:bg-gray-50/50 dark:focus:bg-gray-800/50 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("iconify-icon",{icon:t,width:"16",height:"16",class:l}),r.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i})]}),r.jsx("iconify-icon",{icon:s?"mdi:chevron-up":"mdi:chevron-down",width:"18",height:"18",class:"text-gray-400 group-hover:text-gray-600 transition-colors"})]}),ji=({layoutStyles:t={},onUpdate:l,onImageUpload:i,defaultCollapsed:s=!0,customCSS:c="",customClass:d="",onCustomCSSChange:g,onCustomClassChange:m})=>{const[h,b]=y.useState(!1),[x,v]=y.useState(!1),[N,S]=y.useState(!s),[$,k]=y.useState(!1),[C,j]=y.useState(!1),L=(G,V)=>{l({...t,[G]:V})},E=G=>{l({...t,margin:G})},A=G=>{l({...t,padding:G})},R=G=>{l({...t,background:G})},M=G=>{l({...t,typography:G})},P=G=>{l({...t,border:G})},H=G=>{l({...t,boxShadow:G})};return r.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx(Ko,{icon:"mdi:palette-outline",title:f("Background"),isExpanded:h,onToggle:()=>b(!h)}),h&&r.jsx(hx,{background:t.background||{},onChange:R,onImageUpload:i})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Ko,{icon:"mdi:format-font",title:f("Typography"),isExpanded:x,onToggle:()=>v(!x)}),x&&r.jsx(mx,{typography:t.typography||{},onChange:M})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Ko,{icon:"mdi:view-dashboard-outline",title:f("Layout"),isExpanded:N,onToggle:()=>S(!N)}),N&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(xx,{margin:t.margin||{},padding:t.padding||{},onMarginChange:E,onPaddingChange:A}),r.jsx(yx,{layoutStyles:t,onChange:L})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Ko,{icon:"mdi:checkbox-blank-outline",title:f("Border / Box Shadow"),isExpanded:$,onToggle:()=>k(!$)}),$&&r.jsxs("div",{children:[r.jsx(bx,{border:t.border||{},onChange:P}),r.jsx(wx,{boxShadow:t.boxShadow||{},onChange:H})]})]}),g&&r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx(Ko,{icon:"mdi:code-braces",title:f("Custom CSS"),isExpanded:C,onToggle:()=>j(!C)}),C&&r.jsx(kx,{customCSS:c,customClass:d,onChange:g,onClassChange:m})]})]})},Cx=t=>`lb-${t.toLowerCase()}`,Xt=(t,l={})=>{const i=["lb-block",Cx(t)];return l.customClass&&i.push(l.customClass),i.join(" ")},Yt=(t,l="")=>{const i=Di(t?.layoutStyles),s=t?.customCSS||"";return[i,l,s].filter(Boolean).join("; ")},Sx=(t="20px")=>`
<table width="100%" cellpadding="0" cellspacing="0" border="0" role="presentation">
    <tr>
        <td style="height: ${t}; line-height: ${t}; font-size: 1px;">&nbsp;</td>
    </tr>
</table>`.trim(),jx="heading",Nx="1.0.0",Ex="Heading",$x="Content",Tx="mdi:format-header-1",Rx="Add a heading to your content",Ax=["heading","title","h1","h2","h3"],Lx=["email","page","campaign"],Bx={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,headingLevel:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ix={text:"",level:"h1",align:"left",color:"#333333",fontSize:"32px",fontWeight:"bold",lineHeight:"1.2",letterSpacing:"0"},_x={type:jx,version:Nx,label:Ex,category:$x,icon:Tx,description:Rx,keywords:Ax,contexts:Lx,supports:Bx,defaultProps:Ix};function zf({isOpen:t,searchQuery:l="",onSelect:i,onClose:s,position:c={top:0,left:0},context:d="post"}){const[g,m]=y.useState(0),h=y.useRef(null),b=y.useRef([]),v=Qe.getBlocksForContext(d).filter(k=>{if(!l)return!0;const C=l.toLowerCase();return k.label.toLowerCase().includes(C)||k.type.toLowerCase().includes(C)||k.keywords&&k.keywords.some(j=>j.toLowerCase().includes(C))});y.useEffect(()=>{m(0)},[l]),y.useEffect(()=>{b.current[g]&&b.current[g].scrollIntoView({block:"nearest"})},[g]);const N=y.useCallback(k=>{if(t)switch(k.key){case"ArrowDown":k.preventDefault(),m(C=>C<v.length-1?C+1:C);break;case"ArrowUp":k.preventDefault(),m(C=>C>0?C-1:C);break;case"Enter":k.preventDefault(),v[g]&&i(v[g].type);break;case"Escape":k.preventDefault(),s();break}},[t,v,g,i,s]);if(y.useEffect(()=>{if(t)return document.addEventListener("keydown",N,!0),()=>document.removeEventListener("keydown",N,!0)},[t,N]),y.useEffect(()=>{if(!t)return;const k=C=>{h.current&&!h.current.contains(C.target)&&s()};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[t,s]),!t)return null;const S=v.reduce((k,C)=>{const j=C.category||"Other";return k[j]||(k[j]=[]),k[j].push(C),k},{});let $=0;return r.jsx("div",{ref:h,className:"absolute z-50 bg-white rounded-lg shadow-lg border border-gray-200 w-72 max-h-80 overflow-y-auto",style:{top:c.top,left:c.left},children:v.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:f("No blocks found")}):r.jsx("div",{className:"py-2",children:Object.entries(S).map(([k,C])=>r.jsxs("div",{children:[r.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(k)}),C.map(j=>{const L=$++,E=L===g;return r.jsxs("button",{ref:A=>b.current[L]=A,className:`w-full px-3 py-2 flex items-center gap-3 text-left transition-colors ${E?"bg-primary/10 text-primary":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>i(j.type),onMouseEnter:()=>m(L),children:[j.icon&&r.jsx("iconify-icon",{icon:j.icon,width:"20",height:"20",className:E?"text-primary":"text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:f(j.label)}),j.description&&r.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:f(j.description)})]})]},j.type)})]},k))})})}function ef(t){return!t||t==="<br>"||t==="<br/>"?!0:t.replace(/<br\s*\/?>/gi,"").trim()===""}function tf(t){return t?t.trim()==="":!0}function nf(t,l,i){const s=i(t),c=i(l);return s&&c?!1:s!==c?!0:l!==t}function il({editorRef:t,contentKey:l="content",useInnerHTML:i=!0,propsRef:s,onUpdateRef:c,lastContentRef:d}){const g=y.useCallback(x=>i?ef(x):tf(x),[i]),m=y.useCallback(()=>t.current?i?t.current.innerHTML:t.current.textContent:"",[t,i]),h=y.useCallback(()=>{if(!t.current)return!1;const x=m(),v=d.current;return nf(v,x,g)?(d.current=x,c.current({...s.current,[l]:x}),!0):!1},[t,m,d,g,c,s,l]),b=y.useCallback(()=>g(m()),[g,m]);return{handleContentChange:h,getContent:m,isEmpty:g,isCurrentContentEmpty:b,isHtmlContentEmpty:ef,isTextContentEmpty:tf,hasContentChanged:(x,v)=>nf(x,v,g)}}const Dx=({props:t,blockId:l,onUpdate:i,isSelected:s,onRegisterTextFormat:c,onInsertBlockAfter:d,onDelete:g,onReplaceBlock:m,onMergeWithPrevious:h,context:b="post"})=>{const x=y.useRef(null),v=y.useRef(t.text),N=y.useRef(t),S=y.useRef(i),[$,k]=y.useState(!1),[C,j]=y.useState(""),[L,E]=y.useState({top:0,left:0});N.current=t,S.current=i;const A=y.useRef(d);A.current=d;const R=y.useRef(g);R.current=g;const M=y.useRef(m);M.current=m;const P=y.useRef(h);P.current=h;const H=y.useCallback(()=>{const W=window.getSelection();if(!W||!W.isCollapsed||W.rangeCount===0)return!1;const X=W.getRangeAt(0);if(X.startOffset!==0)return!1;let J=X.startContainer;for(;J&&J!==x.current;){if(J.previousSibling)return!1;J=J.parentNode}return J===x.current},[]),G=y.useCallback(()=>x.current&&x.current.textContent||"",[]),V=y.useCallback(()=>x.current?{top:x.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),Y=y.useCallback(W=>{k(!1),j(""),M.current&&M.current(W)},[]),{handleContentChange:O,isEmpty:ee}=il({editorRef:x,contentKey:"text",useInnerHTML:!0,propsRef:N,onUpdateRef:S,lastContentRef:v}),se=y.useCallback(W=>{if($){if(["ArrowDown","ArrowUp","Escape"].includes(W.key))return;if(W.key==="Enter"){W.preventDefault(),W.stopPropagation();return}}if(W.key==="Enter"&&!W.shiftKey){if(W.preventDefault(),W.stopPropagation(),$)return;if(x.current){const X=window.getSelection();let J="";if(X&&X.rangeCount>0){const re=X.getRangeAt(0);re.collapse(!0);const je=document.createRange();je.setStart(re.startContainer,re.startOffset),je.setEnd(x.current,x.current.childNodes.length);const Te=je.extractContents(),Ne=document.createElement("div");Ne.appendChild(Te),J=Ne.innerHTML,J=J.replace(/^(<br\s*\/?>)+/,"")}const ie=x.current.innerHTML;v.current=ie,S.current({...N.current,text:ie}),A.current&&A.current("text",{content:J})}}if(W.key==="Backspace"){const X=x.current?.innerHTML||"";ee(X)?(W.preventDefault(),W.stopPropagation(),R.current&&R.current()):H()&&(W.preventDefault(),W.stopPropagation(),P.current&&P.current(x.current.innerHTML))}W.key==="Escape"&&$&&(W.preventDefault(),k(!1),j(""))},[$,ee,H]),ce=y.useCallback(W=>{const X=document.createElement("div");return X.innerHTML=W,X.querySelectorAll("meta").forEach(Ne=>Ne.remove()),X.querySelectorAll(".Apple-interchange-newline, br.Apple-interchange-newline").forEach(Ne=>Ne.remove()),X.querySelectorAll('.lb-block, [class*="lb-block"]').forEach(Ne=>{const Ie=Ne.parentNode;for(;Ne.firstChild;)Ie.insertBefore(Ne.firstChild,Ne);Ie.removeChild(Ne)}),X.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(Ne=>{const Ie=Ne.parentNode;for(;Ne.firstChild;)Ie.insertBefore(Ne.firstChild,Ne);Ie.removeChild(Ne)}),X.querySelectorAll("[data-lara-block]").forEach(Ne=>{Ne.removeAttribute("data-lara-block"),Ne.removeAttribute("data-props"),Ne.removeAttribute("data-block-id")}),X.innerHTML},[]),he=y.useCallback(W=>{const X=W.clipboardData?.getData("text/html");if(X&&(X.includes("lb-block")||X.includes("data-lara-block")||X.includes("<meta")||X.includes("Apple-interchange-newline")||/<h[1-6]/i.test(X))){W.preventDefault();const ie=ce(X),re=window.getSelection();if(re.rangeCount>0){const je=re.getRangeAt(0);je.deleteContents();const Te=je.createContextualFragment(ie);je.insertNode(Te),je.collapse(!1),re.removeAllRanges(),re.addRange(je)}O()}},[ce,O]),ve=y.useCallback(()=>{O();const W=G();if(W.startsWith("/")){const X=W.slice(1);j(X),E(V()),k(!0)}else k(!1),j("")},[O,G,V]),te=y.useCallback(W=>{S.current({...N.current,align:W})},[]);y.useEffect(()=>{s&&x.current&&(x.current.innerHTML===""||x.current.innerHTML==="<br>")&&(x.current.innerHTML=t.text||"",v.current=t.text),s||(k(!1),j(""))},[s]),y.useEffect(()=>{if(s&&x.current&&t.text!==v.current){const W=window.getSelection();let X=0;if(W.rangeCount>0){const J=W.getRangeAt(0),ie=J.cloneRange();ie.selectNodeContents(x.current),ie.setEnd(J.endContainer,J.endOffset),X=ie.toString().length}x.current.innerHTML=t.text||"",v.current=t.text;try{const J=document.createRange(),ie=[],re=document.createTreeWalker(x.current,NodeFilter.SHOW_TEXT,null,!1);let je;for(;je=re.nextNode();)ie.push(je);let Te=0;for(const Ne of ie){const Ie=Ne.textContent.length;if(Te+Ie>=X){J.setStart(Ne,X-Te),J.collapse(!0),W.removeAllRanges(),W.addRange(J);break}Te+=Ie}}catch{x.current.focus()}}},[t.text,s]),y.useEffect(()=>{s&&c?c({editorRef:x,isContentEditable:!0,align:N.current.align||"left",onAlignChange:te}):!s&&c&&c(null)},[s,c,te]),y.useEffect(()=>{s&&x.current&&requestAnimationFrame(()=>{if(!x.current)return;x.current.focus();const W=l!==void 0?$r.get(l):void 0;W!==void 0&&$r.delete(l);const X=window.getSelection();if(W==="start"){const J=document.createRange();J.selectNodeContents(x.current),J.collapse(!0),X.removeAllRanges(),X.addRange(J)}else if(typeof W=="number"){const J=document.createTreeWalker(x.current,NodeFilter.SHOW_TEXT,null);let ie=W,re=!1,je;for(;je=J.nextNode();){const Te=je.textContent.length;if(ie<=Te){const Ne=document.createRange();Ne.setStart(je,ie),Ne.collapse(!0),X.removeAllRanges(),X.addRange(Ne),re=!0;break}ie-=Te}if(!re){const Te=document.createRange();Te.selectNodeContents(x.current),Te.collapse(!1),X.removeAllRanges(),X.addRange(Te)}}else{const J=document.createRange();J.selectNodeContents(x.current),J.collapse(!1),X.removeAllRanges(),X.addRange(J)}})},[s]);const ae=W=>{switch(W){case"h1":return"32px";case"h2":return"28px";case"h3":return"24px";case"h4":return"20px";case"h5":return"18px";case"h6":return"16px";default:return"32px"}},le={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||ae(t.level),fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.3",margin:0,padding:"8px",borderRadius:"4px"},_=_e(le,t.layoutStyles),U=ee(t.text),me=t.text&&G().startsWith("/");if(s)return r.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[r.jsx("div",{ref:x,contentEditable:!0,suppressContentEditableWarning:!0,onInput:ve,onBlur:ve,onKeyDown:se,onPaste:he,style:{..._,width:"100%",outline:"none",minHeight:"1.5em"}}),U&&!me&&r.jsx("div",{style:{position:"absolute",top:_.padding||"8px",left:_.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:_.fontSize,fontWeight:_.fontWeight,lineHeight:_.lineHeight||"1.3"},children:f("Heading")}),$&&r.jsx(zf,{isOpen:$,searchQuery:C,onSelect:Y,onClose:()=>{k(!1),j("")},position:L,context:b})]});const K=t.level||"h1",ne=()=>t.text?r.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}}):r.jsx("span",{style:{color:"#9ca3af"},children:f("Heading")});return r.jsx(K,{style:_,children:ne()})},Px=(t,l={})=>{const i={text:t.text||"",level:t.level||"h2",align:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"32px",fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.2",letterSpacing:t.letterSpacing||"0",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="heading" data-block-id="${s}" data-props='${c}'></div>`},Mx=(t,l={})=>{const i=t.level||"h2",s=t.text||"",c=t.align||"left",d=t.color||"#333333",g=t.fontSize||"24px",m=t.fontWeight||"700";return`<${i} style="text-align: ${c}; color: ${d}; font-size: ${g}; font-weight: ${m}; margin: 0 0 16px 0;">${s}</${i}>`},zx={page:Px,email:Mx},Ox={h1:"32px",h2:"28px",h3:"24px",h4:"20px",h5:"18px",h6:"16px"},Hx=[{name:"level",type:"select",label:f("Heading Level"),section:f("Content"),options:[{value:"h1",label:f("H1 - Main Heading")},{value:"h2",label:f("H2 - Section Heading")},{value:"h3",label:f("H3 - Subsection")},{value:"h4",label:f("H4 - Minor Heading")},{value:"h5",label:f("H5 - Small Heading")},{value:"h6",label:f("H6 - Smallest Heading")}],linkedFields:{fontSize:t=>Ox[t]||"24px"}}],Fx=Me(_x,{block:Dx,save:zx,fields:Hx}),Wx="text",Ux="1.0.0",Vx="Text",Kx="Content",Gx="mdi:format-text",Xx="Add a paragraph of text to your content",Yx=["text","paragraph","content","body"],Qx=["email","page","campaign"],qx={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Jx={content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"},Zx={type:Wx,version:Ux,label:Vx,category:Kx,icon:Gx,description:Xx,keywords:Yx,contexts:Qx,supports:qx,defaultProps:Jx};function ey({props:t,blockId:l,onUpdate:i,isSelected:s,onRegisterTextFormat:c,onInsertBlockAfter:d,onDelete:g,onReplaceBlock:m,onMergeWithPrevious:h,context:b="post"}){const x=y.useRef(null),v=y.useRef(t.content),N=y.useRef(t),S=y.useRef(i),[$,k]=y.useState(!1),[C,j]=y.useState(""),[L,E]=y.useState({top:0,left:0});N.current=t,S.current=i;const A=y.useRef(d);A.current=d;const R=y.useRef(g);R.current=g;const M=y.useRef(m);M.current=m;const P=y.useRef(h);P.current=h;const H=y.useCallback(()=>{const K=window.getSelection();if(!K||!K.isCollapsed||K.rangeCount===0)return!1;const ne=K.getRangeAt(0);if(ne.startOffset!==0)return!1;let W=ne.startContainer;for(;W&&W!==x.current;){if(W.previousSibling)return!1;W=W.parentNode}return W===x.current},[]),G=y.useCallback(()=>x.current&&x.current.textContent||"",[]),V=y.useCallback(()=>x.current?{top:x.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),Y=y.useCallback(K=>{k(!1),j(""),M.current&&M.current(K)},[]),{handleContentChange:O,isEmpty:ee}=il({editorRef:x,contentKey:"content",useInnerHTML:!0,propsRef:N,onUpdateRef:S,lastContentRef:v}),se=y.useCallback(K=>{if($){if(["ArrowDown","ArrowUp","Escape"].includes(K.key))return;if(K.key==="Enter"){K.preventDefault(),K.stopPropagation();return}}if(K.key==="Enter"&&K.shiftKey){K.preventDefault(),K.stopPropagation();const ne=window.getSelection();if(ne&&ne.rangeCount>0){const W=ne.getRangeAt(0);W.deleteContents();const X=document.createElement("br");if(W.insertNode(X),W.setStartAfter(X),W.collapse(!0),!X.nextSibling){const J=document.createElement("br");X.parentNode.appendChild(J)}ne.removeAllRanges(),ne.addRange(W)}O();return}if(K.key==="Enter"&&!K.shiftKey){if(K.preventDefault(),K.stopPropagation(),$)return;if(x.current){const ne=window.getSelection();let W="";if(ne&&ne.rangeCount>0){const J=ne.getRangeAt(0);J.collapse(!0);const ie=document.createRange();ie.setStart(J.startContainer,J.startOffset),ie.setEnd(x.current,x.current.childNodes.length);const re=ie.extractContents(),je=document.createElement("div");je.appendChild(re),W=je.innerHTML,W=W.replace(/^(<br\s*\/?>)+/,"")}const X=x.current.innerHTML;v.current=X,S.current({...N.current,content:X}),A.current&&A.current("text",{content:W})}}if(K.key==="Backspace"){const ne=x.current?.innerHTML||"";ee(ne)?(K.preventDefault(),K.stopPropagation(),R.current&&R.current()):H()&&(K.preventDefault(),K.stopPropagation(),P.current&&P.current(x.current.innerHTML))}K.key==="Escape"&&$&&(K.preventDefault(),k(!1),j(""))},[$,ee,O]),ce=y.useCallback(K=>{const ne=document.createElement("div");return ne.innerHTML=K,ne.querySelectorAll("meta").forEach(re=>re.remove()),ne.querySelectorAll(".Apple-interchange-newline, br.Apple-interchange-newline").forEach(re=>re.remove()),ne.querySelectorAll('.lb-block, [class*="lb-block"]').forEach(re=>{const je=re.parentNode;for(;re.firstChild;)je.insertBefore(re.firstChild,re);je.removeChild(re)}),ne.querySelectorAll("[data-lara-block]").forEach(re=>{re.removeAttribute("data-lara-block"),re.removeAttribute("data-props"),re.removeAttribute("data-block-id")}),ne.innerHTML},[]),he=y.useCallback(K=>{const ne=K.clipboardData?.getData("text/html");if(ne&&(ne.includes("lb-block")||ne.includes("data-lara-block")||ne.includes("<meta")||ne.includes("Apple-interchange-newline"))){K.preventDefault();const X=ce(ne),J=window.getSelection();if(J.rangeCount>0){const ie=J.getRangeAt(0);ie.deleteContents();const re=ie.createContextualFragment(X);ie.insertNode(re),ie.collapse(!1),J.removeAllRanges(),J.addRange(ie)}O()}},[ce,O]),ve=y.useCallback(()=>{O();const K=G();if(K.startsWith("/")){const ne=K.slice(1);j(ne),E(V()),k(!0)}else k(!1),j("")},[O,G,V]),te=y.useCallback(K=>{S.current({...N.current,align:K})},[]);y.useEffect(()=>{s&&x.current&&(x.current.innerHTML===""||x.current.innerHTML==="<br>")&&(x.current.innerHTML=t.content||"",v.current=t.content),s||(k(!1),j(""))},[s]),y.useEffect(()=>{if(s&&x.current&&t.content!==v.current){const K=window.getSelection();let ne=0;if(K.rangeCount>0){const W=K.getRangeAt(0),X=W.cloneRange();X.selectNodeContents(x.current),X.setEnd(W.endContainer,W.endOffset),ne=X.toString().length}x.current.innerHTML=t.content||"",v.current=t.content;try{const W=document.createRange(),X=[],J=document.createTreeWalker(x.current,NodeFilter.SHOW_TEXT,null,!1);let ie;for(;ie=J.nextNode();)X.push(ie);let re=0;for(const je of X){const Te=je.textContent.length;if(re+Te>=ne){W.setStart(je,ne-re),W.collapse(!0),K.removeAllRanges(),K.addRange(W);break}re+=Te}}catch{x.current.focus()}}},[t.content,s]),y.useEffect(()=>{s&&c?c({editorRef:x,isContentEditable:!0,align:N.current.align||"left",onAlignChange:te}):!s&&c&&c(null)},[s,c,te]),y.useEffect(()=>{s&&x.current&&requestAnimationFrame(()=>{if(!x.current)return;x.current.focus();const K=l!==void 0?$r.get(l):void 0;K!==void 0&&$r.delete(l);const ne=window.getSelection();if(K==="start"){const W=document.createRange();W.selectNodeContents(x.current),W.collapse(!0),ne.removeAllRanges(),ne.addRange(W)}else if(typeof K=="number"){const W=document.createTreeWalker(x.current,NodeFilter.SHOW_TEXT,null);let X=K,J=!1,ie;for(;ie=W.nextNode();){const re=ie.textContent.length;if(X<=re){const je=document.createRange();je.setStart(ie,X),je.collapse(!0),ne.removeAllRanges(),ne.addRange(je),J=!0;break}X-=re}if(!J){const re=document.createRange();re.selectNodeContents(x.current),re.collapse(!1),ne.removeAllRanges(),ne.addRange(re)}}else{const W=document.createRange();W.selectNodeContents(x.current),W.collapse(!1),ne.removeAllRanges(),ne.addRange(W)}})},[s]);const ae={textAlign:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"},le=_e(ae,t.layoutStyles),_=ee(t.content),U=t.content&&G().startsWith("/");if(s)return r.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[r.jsx("div",{ref:x,contentEditable:!0,suppressContentEditableWarning:!0,onInput:ve,onBlur:ve,onKeyDown:se,onPaste:he,style:{...le,width:"100%",outline:"none"}}),_&&!U&&r.jsx("div",{style:{position:"absolute",top:le.padding||"8px",left:le.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:le.fontSize||"16px",lineHeight:le.lineHeight||"1.6"},children:f("Type / to choose a block")}),$&&r.jsx(zf,{isOpen:$,searchQuery:C,onSelect:Y,onClose:()=>{k(!1),j("")},position:L,context:b})]});const me=()=>t.content?r.jsx("span",{dangerouslySetInnerHTML:{__html:t.content}}):r.jsx("span",{style:{color:"#9ca3af"},children:f("Type / to choose a block")});return r.jsx("div",{style:le,children:me()})}const ty=(t,l={})=>{const i={content:t.content||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="text" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},ny=(t,l={})=>{const i=t.content||"",s=t.align||"left",c=t.color||"#333333",d=t.fontSize||"16px",g=t.lineHeight||"1.6";return`<div style="text-align: ${s}; color: ${c}; font-size: ${d}; line-height: ${g};">${i}</div>`},ry={page:ty,email:ny},oy=Me(Zx,{block:ey,save:ry}),ly="text-editor",iy="1.0.0",sy="Text Editor",ay="Content",cy="mdi:text-box-edit-outline",uy="Rich text editor with formatting",dy=["text","editor","rich","wysiwyg","formatting"],fy=["email","page","campaign"],gy={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},py={content:"",align:"left",color:"#333333",fontSize:"16px",lineHeight:"1.6"},hy={type:ly,version:iy,label:sy,category:ay,icon:cy,description:uy,keywords:dy,contexts:fy,supports:gy,defaultProps:py},my=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{y.useRef(null);const c=y.useRef(null),[d,g]=y.useState(!1),[m,h]=y.useState(!1),b=y.useRef(t),x=y.useRef(l),v=y.useRef(null);b.current=t,x.current=l,y.useEffect(()=>{if(!i||d||m)return;if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>k(),document.head.appendChild(C)}else k();function k(){!c.current||v.current||(h(!0),window.tinymce.init({target:c.current,inline:!0,menubar:!1,statusbar:!1,toolbar_mode:"floating",toolbar:"bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright | bullist numlist | link | removeformat",plugins:"link lists",placeholder:"Start typing...",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: ${t.fontSize||"16px"};
                        line-height: ${t.lineHeight||"1.6"};
                        color: ${t.color||"#333333"};
                        margin: 0;
                        padding: 0;
                    }
                    p { margin: 0 0 1em 0; }
                    p:last-child { margin-bottom: 0; }
                `,setup:C=>{v.current=C,C.on("init",()=>{g(!0),h(!1),C.setContent(b.current.content||""),C.focus()}),C.on("change keyup",()=>{const j=C.getContent();j!==b.current.content&&x.current({...b.current,content:j})}),C.on("blur",()=>{const j=C.getContent();j!==b.current.content&&x.current({...b.current,content:j})})},toolbar_sticky:!1,ui_mode:"split",quickbars_selection_toolbar:"bold italic underline | forecolor | link",quickbars_insert_toolbar:!1}))}return()=>{if(v.current){const C=v.current.getContent();C!==b.current.content&&x.current({...b.current,content:C}),v.current.destroy(),v.current=null,g(!1),h(!1)}}},[i]),y.useEffect(()=>{if(!i&&v.current){const k=v.current.getContent();k!==b.current.content&&x.current({...b.current,content:k}),v.current.destroy(),v.current=null,g(!1)}},[i]);const N=y.useCallback(k=>{x.current({...b.current,align:k})},[]);y.useEffect(()=>{i&&s?s({editorRef:c,isContentEditable:!0,align:b.current.align||"left",onAlignChange:N,isTinyMCE:!0}):!i&&s&&s(null)},[i,s,N]);const S={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"};if(i)return r.jsxs("div",{"data-text-editing":"true",className:"relative",children:[r.jsx("div",{ref:c,className:"focus-within:ring-2 focus-within:ring-primary rounded",style:{...S,width:"100%",outline:"none",background:"white",cursor:"text"}}),m&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50",children:r.jsx("span",{className:"text-sm text-gray-500",children:"Loading editor..."})})]});const $=()=>{const k=t.content||"<p>Click to edit with rich text editor...</p>";return r.jsx("div",{dangerouslySetInnerHTML:{__html:k}})};return r.jsx("div",{style:S,children:$()})},xy=(t,l={})=>{const s=Xt("text-editor",t),c=[];t.align&&c.push(`text-align: ${t.align}`),t.color&&!t.layoutStyles?.typography?.color&&c.push(`color: ${t.color}`),t.fontSize&&!t.layoutStyles?.typography?.fontSize&&c.push(`font-size: ${t.fontSize}`),t.lineHeight&&!t.layoutStyles?.typography?.lineHeight&&c.push(`line-height: ${t.lineHeight}`);const d=Yt(t,c.join("; "));return`<div class="${s}" style="${d}">${t.content||""}</div>`},yy=(t,l={})=>`<div style="text-align: ${t.align||"left"}; color: ${t.color||"#333333"}; font-size: ${t.fontSize||"16px"}; line-height: ${t.lineHeight||"1.6"};">${t.content||""}</div>`,vy={page:xy,email:yy},by=Me(hy,{block:my,save:vy}),wy="image",ky="1.0.0",Cy="Image",Sy="Content",jy="mdi:image-outline",Ny="Add an image to your content",Ey=["image","picture","photo","media"],$y=["email","page","campaign"],Ty={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ry={src:"",alt:"Image description",width:"100%",height:"auto",customWidth:"",customHeight:"",align:"center",link:""},Ay={type:wy,version:ky,label:Cy,category:Sy,icon:jy,description:Ny,keywords:Ey,contexts:$y,supports:Ty,defaultProps:Ry},Ly=({props:t,onUpdate:l,isSelected:i})=>{const[s,c]=y.useState(!1),g={textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},m=_e(g,t.layoutStyles),h=()=>t.width==="custom"&&t.customWidth?t.customWidth:t.width||"100%",b=()=>t.height==="custom"&&t.customHeight?t.customHeight:t.height||"auto",x=t.width==="custom"&&t.customWidth,v=t.height==="custom"&&t.customHeight,N={maxWidth:h(),width:x?t.customWidth:void 0,height:b(),display:"inline-block",objectFit:x||v?"cover":void 0},S=y.useCallback(async C=>{C.stopPropagation();try{const j=await el.selectImage();j&&l&&l({...t,src:j.url,alt:t.alt||j.name||""})}catch{}},[t,l]),$=y.useCallback(C=>{C.stopPropagation(),l&&l({...t,src:""})},[t,l]),k=i||s;return r.jsx("div",{style:m,children:t.src?r.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[r.jsx("img",{src:t.src,alt:t.alt||"",style:N}),k&&r.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"4px",transition:"opacity 0.2s ease"},children:[r.jsxs("button",{type:"button",onClick:S,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[r.jsx("iconify-icon",{icon:"lucide:image",width:"16",height:"16"}),f("Change")]}),r.jsx("button",{type:"button",onClick:$,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},title:f("Remove image"),children:r.jsx("iconify-icon",{icon:"lucide:trash-2",width:"16",height:"16"})})]})]}):r.jsxs("div",{onClick:S,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{cursor:"pointer"},className:`bg-gray-100 dark:bg-gray-800 border-2 border-dashed ${s||i?"border-primary bg-primary/10 dark:bg-primary/20":"border-gray-300 dark:border-gray-600"} text-gray-500 dark:text-gray-400 p-8 rounded-lg text-center transition-colors`,children:[r.jsx("iconify-icon",{icon:s||i?"lucide:upload":"mdi:image-plus",width:"40",height:"40",class:"mb-2",style:{color:s||i?"var(--color-primary, #635bff)":void 0}}),r.jsx("div",{className:"text-sm font-medium",children:f(s||i?"Click to select image":"Click to add image")}),r.jsx("div",{className:"text-xs mt-1 opacity-70",children:f("or use the properties panel")})]})})},By=(t,l={})=>{const i={src:t.src||"",alt:t.alt||"Image",width:t.width||"100%",height:t.height||"auto",customWidth:t.customWidth||"",customHeight:t.customHeight||"",align:t.align||"center",link:t.link||"",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="image" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Iy=(t,l={})=>{const i=t.src||"",s=t.alt||"Image",c=t.align||"center",d=t.link||"",g=t.width==="custom"&&t.customWidth,m=t.height==="custom"&&t.customHeight,h=g?t.customWidth:t.width||"100%",b=m?t.customHeight:t.height||"auto",x=`max-width: ${h};${g?` width: ${t.customWidth};`:""} height: ${b}; display: block; margin: 0 auto;${b!=="auto"?" object-fit: cover;":""}`,v=`<img src="${i}" alt="${s}" style="${x}" />`;return d?`<a href="${d}" target="_blank" style="display: block; text-align: ${c};">${v}</a>`:`<div style="text-align: ${c};">${v}</div>`},_y={page:By,email:Iy},Dy=[{name:"src",type:"image",label:f("Image"),section:f("Content")},{name:"alt",type:"text",label:f("Alt Text"),placeholder:f("Describe the image..."),section:f("Content")},{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Link")},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")+" (100%)"},{value:"75%",label:f("Three Quarters")+" (75%)"},{value:"50%",label:f("Half")+" (50%)"},{value:"25%",label:f("Quarter")+" (25%)"},{value:"custom",label:f("Custom")}]},{name:"customWidth",type:"text",label:f("Custom Width"),placeholder:f("e.g., 300px"),section:f("Size")},{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"auto",label:f("Auto")},{value:"custom",label:f("Custom")}]},{name:"customHeight",type:"text",label:f("Custom Height"),placeholder:f("e.g., 200px"),section:f("Size")}],Py=Me(Ay,{block:Ly,save:_y,fields:Dy}),My="button",zy="1.0.0",Oy="Button",Hy="Content",Fy="mdi:button-cursor",Wy="Add a call-to-action button",Uy=["button","cta","link","action"],Vy=["email","page","campaign"],Ky={align:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Gy={text:"Click Here",link:"#",backgroundColor:"#635bff",textColor:"#ffffff",borderRadius:"6px",padding:"12px 24px",align:"center",fontSize:"16px",fontWeight:"600"},Xy={type:My,version:zy,label:Oy,category:Hy,icon:Fy,description:Wy,keywords:Uy,contexts:Vy,supports:Ky,defaultProps:Gy},Yy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{const c=y.useRef(null),d=y.useRef(t.text),g=y.useRef(t),m=y.useRef(l);g.current=t,m.current=l;const{handleContentChange:h}=il({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:g,onUpdateRef:m,lastContentRef:d}),b=y.useCallback(()=>{h()},[h]),x=y.useCallback(k=>{m.current({...g.current,align:k})},[]);y.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"Button Text",d.current=t.text)},[i]),y.useEffect(()=>{if(i&&c.current&&t.text!==d.current){const k=window.getSelection();let C=0;if(k.rangeCount>0){const j=k.getRangeAt(0),L=j.cloneRange();L.selectNodeContents(c.current),L.setEnd(j.endContainer,j.endOffset),C=L.toString().length}c.current.innerHTML=t.text||"",d.current=t.text;try{const j=document.createRange(),L=[],E=document.createTreeWalker(c.current,NodeFilter.SHOW_TEXT,null,!1);let A;for(;A=E.nextNode();)L.push(A);let R=0;for(const M of L){const P=M.textContent.length;if(R+P>=C){j.setStart(M,C-R),j.collapse(!0),k.removeAllRanges(),k.addRange(j);break}R+=P}}catch{c.current.focus()}}},[t.text,i]),y.useEffect(()=>{i&&s?s({editorRef:c,isContentEditable:!0,align:g.current.align||"center",onAlignChange:x}):!i&&s&&s(null)},[i,s,x]),y.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const k=document.createRange();k.selectNodeContents(c.current),k.collapse(!1);const C=window.getSelection();C.removeAllRanges(),C.addRange(k)}})},[i]);const v={textAlign:t.align||"center",padding:"10px 8px",borderRadius:"4px"},N=_e(v,t.layoutStyles),S={display:"inline-block",backgroundColor:t.backgroundColor||"#635bff",color:t.textColor||"#ffffff",padding:t.padding||"12px 24px",borderRadius:t.borderRadius||"6px",textDecoration:"none",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",cursor:i?"text":"default",border:"none",outline:"none",minWidth:"80px"};if(i)return r.jsx("div",{"data-text-editing":"true",style:N,children:r.jsx("span",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:b,onBlur:b,onKeyDown:k=>{k.key==="Enter"&&k.preventDefault()},style:S,role:"textbox","aria-label":"Button text"})});const $=()=>{const k=t.text||"Button Text";return/<[^>]+>/.test(k)?r.jsx("span",{dangerouslySetInnerHTML:{__html:k}}):k};return r.jsx("div",{style:N,children:r.jsx("button",{type:"button",style:S,children:$()})})},Qy=(t,l={})=>{const i={text:t.text||"Click Here",link:t.link||"",target:t.target||"_self",align:t.align||"center",backgroundColor:t.backgroundColor||"#635bff",textColor:t.textColor||"#ffffff",borderRadius:t.borderRadius||"6px",padding:t.padding||"12px 24px",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",nofollow:t.nofollow||!1,sponsored:t.sponsored||!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="button" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},qy=(t,l={})=>{const i=t.text||"Click Here",s=t.link||"#",c=t.align||"center",d=t.backgroundColor||"#635bff",g=t.textColor||"#ffffff",m=t.borderRadius||"6px",h=t.padding||"12px 24px",b=t.fontSize||"16px",x=t.fontWeight||"600";return`
        <div style="text-align: ${c}; padding: 10px 0;">
            <a href="${s}" target="_blank" style="display: inline-block; background-color: ${d}; color: ${g}; padding: ${h}; border-radius: ${m}; text-decoration: none; font-size: ${b}; font-weight: ${x};">${i}</a>
        </div>
    `},Jy={page:Qy,email:qy},Zy=[{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Content")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"fontWeight",type:"select",label:f("Font Weight"),section:f("Typography"),options:[{value:"normal",label:f("Normal")},{value:"500",label:f("Medium")},{value:"600",label:f("Semi Bold")},{value:"bold",label:f("Bold")}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"},{value:"9999px",label:f("Pill")}]},{name:"padding",type:"select",label:f("Padding"),section:f("Style"),options:[{value:"8px 16px",label:f("Small")},{value:"12px 24px",label:f("Medium")},{value:"16px 32px",label:f("Large")},{value:"20px 40px",label:f("X-Large")}]}],e0=Me(Xy,{block:Yy,save:Jy,fields:Zy}),t0="divider",n0="1.0.0",r0="Divider",o0="Layout",l0="mdi:minus",i0="Add a horizontal line divider",s0=["divider","line","separator","hr"],a0=["email","page","campaign"],c0={colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},u0={style:"solid",color:"#e5e7eb",thickness:"1px",width:"100%",margin:"20px 0"},d0={type:t0,version:n0,label:r0,category:o0,icon:l0,description:i0,keywords:s0,contexts:a0,supports:c0,defaultProps:u0},f0=({props:t})=>{const i=_e({padding:"8px",borderRadius:"4px"},t.layoutStyles),s={border:"none",borderTop:`${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,width:t.width||"100%",margin:t.margin||"20px 0"};return r.jsx("div",{style:i,children:r.jsx("hr",{style:s})})},g0=(t,l={})=>{const s=Xt("divider",t),c=["border: none",`border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,`width: ${t.width||"100%"}`,`margin: ${t.margin||"20px auto"}`],d=Yt(t,c.join("; "));return`<hr class="${s}" style="${d}" />`},p0=(t,l={})=>`<hr style="border: none; border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}; width: ${t.width||"100%"}; margin: ${t.margin||"20px auto"};" />`,h0={page:g0,email:p0},m0=[{name:"style",type:"select",label:f("Style"),section:f("Appearance"),options:[{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")}]},{name:"color",type:"color",label:f("Color"),section:f("Appearance")},{name:"thickness",type:"select",label:f("Thickness"),section:f("Size"),options:[{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"},{value:"4px",label:"4px"}]},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"}]}],x0=Me(d0,{block:f0,save:h0,fields:m0}),y0="spacer",v0="1.0.0",b0="Spacer",w0="Layout",k0="mdi:arrow-expand-vertical",C0="Add vertical spacing between blocks",S0=["spacer","space","gap","padding"],j0=["email","page","campaign"],N0={spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},E0={height:"40px"},$0={type:y0,version:v0,label:b0,category:w0,icon:k0,description:C0,keywords:S0,contexts:j0,supports:N0,defaultProps:E0},T0=({props:t})=>{const i=_e({outline:"1px dashed #d1d5db",borderRadius:"4px",backgroundColor:"transparent"},t.layoutStyles),s={height:t.height||"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"12px"};return r.jsx("div",{style:i,children:r.jsxs("div",{style:s,children:["Spacer (",t.height||"40px",")"]})})},R0=(t,l={})=>{const i=Xt("spacer",t),s=`height: ${t.height||"20px"}`,c=Yt(t,s);return`<div class="${i}" style="${c}"></div>`},A0=(t,l={})=>Sx(t.height||"20px"),L0={page:R0,email:A0},B0=[{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"10px",label:"10px"},{value:"20px",label:"20px"},{value:"30px",label:"30px"},{value:"40px",label:"40px"},{value:"50px",label:"50px"},{value:"60px",label:"60px"},{value:"80px",label:"80px"},{value:"100px",label:"100px"}]}],I0=Me($0,{block:T0,save:L0,fields:B0}),_0="columns",D0="1.0.0",P0="Columns",M0="Layout",z0="mdi:view-column-outline",O0="Create multi-column layouts",H0=["columns","layout","grid","sections"],F0=["email","page","campaign"],W0={columnCount:!0,align:!1,spacing:!0,nesting:!0,layout:!0,html:!0,duplicate:!0,remove:!0},U0={columns:2,gap:"20px",verticalAlign:"stretch",horizontalAlign:"stretch",stackOnMobile:!0,children:[[],[]]},V0={type:_0,version:D0,label:P0,category:M0,icon:z0,description:O0,keywords:H0,contexts:F0,supports:W0,defaultProps:U0},K0=[{id:"improve",label:f("Improve writing"),icon:"mdi:auto-fix",prompt:"Improve the writing quality of this text while keeping the same meaning. Make it more clear, engaging, and professional."},{id:"fix_grammar",label:f("Fix grammar"),icon:"mdi:spellcheck",prompt:"Fix any grammar, spelling, and punctuation errors in this text. Keep the original meaning and tone."},{id:"make_shorter",label:f("Make shorter"),icon:"mdi:text-short",prompt:"Make this text more concise while keeping the key points. Remove unnecessary words and phrases."},{id:"make_longer",label:f("Make longer"),icon:"mdi:text-long",prompt:"Expand this text with more details and explanations while keeping it relevant and engaging."},{id:"simplify",label:f("Simplify"),icon:"mdi:lightbulb-outline",prompt:"Simplify this text to make it easier to understand. Use simpler words and shorter sentences."},{id:"formal",label:f("Make formal"),icon:"mdi:briefcase-outline",prompt:"Rewrite this text in a more formal, professional tone suitable for business communication."},{id:"casual",label:f("Make casual"),icon:"mdi:emoticon-happy-outline",prompt:"Rewrite this text in a more casual, friendly tone while keeping the message clear."},{id:"translate",label:f("Translate to English"),icon:"mdi:translate",prompt:"Translate this text to English. Keep the original meaning and tone."}];function G0({isOpen:t,onClose:l,selectedText:i,onApply:s,position:c={top:0,left:0}}){const[d,g]=y.useState(!1),[m,h]=y.useState(""),[b,x]=y.useState(""),[v,N]=y.useState(""),[S,$]=y.useState(!1),[k,C]=y.useState(c),j=y.useRef(null),L=y.useRef(null);y.useEffect(()=>{if(!t||!j.current){C(c);return}const H=()=>{const G=j.current;if(!G)return;const V=G.getBoundingClientRect(),Y=window.innerWidth,O=window.innerHeight,ee=16;let se=c.top,ce=c.left;c.top+V.height>O-ee&&(se=Math.max(ee,c.top-V.height-10),se<ee&&(se=ee)),c.left+V.width>Y-ee&&(ce=Math.max(ee,Y-V.width-ee)),ce<ee&&(ce=ee),C({top:se,left:ce})};return requestAnimationFrame(H),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[t,c]),y.useEffect(()=>{const H=G=>{j.current&&!j.current.contains(G.target)&&l()};return t&&document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[t,l]),y.useEffect(()=>{S&&L.current&&L.current.focus()},[S]),y.useEffect(()=>{t||(x(""),N(""),h(""),$(!1))},[t]);const E=async H=>{await R(H.prompt)},A=async()=>{m.trim()&&await R(m)},R=async H=>{if(!i?.trim()){N(f("No text selected"));return}g(!0),N(""),x("");try{const G=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),Y=await(await fetch("/admin/ai/modify-text",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":G,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({text:i,instruction:H})})).json();Y.success?x(Y.data.text||Y.data):N(Y.message||f("Failed to modify text"))}catch(G){N(f("Network error. Please try again.")),console.error("AI Text Assistant Error:",G)}finally{g(!1)}},M=()=>{b&&(s(b),l())};if(!t)return null;const P=()=>{const V=window.innerHeight-k.top-32;return Math.min(500,Math.max(300,V))};return cr.createPortal(r.jsxs("div",{ref:j,className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-gray-200 w-80 overflow-hidden flex flex-col",style:{top:k.top,left:k.left,maxHeight:`${P()}px`},onClick:H=>H.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-primary/10 shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"text-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-800",children:f("AI Assistant")})]}),r.jsx("button",{type:"button",onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"18",height:"18"})})]}),r.jsxs("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:[i&&!b&&r.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded-md border border-gray-200",children:[r.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Selected text"),":"]}),r.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:i})]}),d&&r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-primary"}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:f("Processing...")})]}),v&&!d&&(()=>{const H=v.toLowerCase(),G=H.includes("not configured")||H.includes("api key")||H.includes("contact the administrator");return r.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"18",height:"18",class:"text-red-500 shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:f("Error")}),r.jsx("p",{className:"text-sm text-red-600 break-words",children:v})]})]}),r.jsxs("div",{className:"mt-3 flex gap-2",children:[G&&r.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16"}),f("Go to Settings")]}),r.jsx("button",{type:"button",onClick:()=>N(""),className:`btn-danger ${G?"":"flex-1"}`,children:f("Dismiss")})]})]})})(),b&&!d&&r.jsxs("div",{className:"mb-3",children:[r.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Result"),":"]}),r.jsx("div",{className:"p-2 bg-green-50 rounded-md border border-green-200 mb-3",children:r.jsx("p",{className:"text-sm text-gray-700",children:b})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:M,className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md transition-colors",children:f("Apply")}),r.jsx("button",{type:"button",onClick:()=>{x(""),$(!1)},className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Try again")})]})]}),!d&&!b&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:K0.map(H=>r.jsxs("button",{type:"button",onClick:()=>E(H),className:"flex items-center gap-2 p-2 text-left text-sm text-gray-700 bg-gray-50 hover:bg-primary/10 hover:text-primary rounded-md transition-colors border border-gray-200 hover:border-primary/30",children:[r.jsx("iconify-icon",{icon:H.icon,width:"16",height:"16",class:"text-gray-500"}),r.jsx("span",{className:"truncate",children:H.label})]},H.id))}),r.jsx("div",{className:"border-t border-gray-100 pt-3",children:S?r.jsxs("div",{className:"space-y-2",children:[r.jsx("textarea",{ref:L,value:m,onChange:H=>h(H.target.value),placeholder:f("e.g., Make it sound more exciting..."),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2,onKeyDown:H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),A())}}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:A,disabled:!m.trim(),className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-primary hover:opacity-90 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors",children:f("Apply")}),r.jsx("button",{type:"button",onClick:()=>$(!1),className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Cancel")})]})]}):r.jsxs("button",{type:"button",onClick:()=>$(!0),className:"w-full flex items-center justify-center gap-2 p-2 text-sm text-primary hover:opacity-80 hover:bg-primary/10 rounded-md transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:pencil",width:"16",height:"16"}),f("Custom instruction...")]})})]})]})]}),document.body)}const X0=t=>Qe.get(t),Of=({align:t,onAlignChange:l,showJustify:i=!1})=>{const[s,c]=y.useState(!1),d=y.useRef(null),g=[{value:"left",label:f("Align text left"),icon:"mdi:format-align-left"},{value:"center",label:f("Align text center"),icon:"mdi:format-align-center"},{value:"right",label:f("Align text right"),icon:"mdi:format-align-right"},...i?[{value:"justify",label:f("Justify text"),icon:"mdi:format-align-justify"}]:[]],m=g.find(x=>x.value===t)||g[0];y.useEffect(()=>{const x=v=>{d.current&&!d.current.contains(v.target)&&c(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const h=x=>{l(x),c(!1)};return r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs("button",{type:"button",onClick:()=>c(!s),className:`p-1.5 pb-1 rounded hover:bg-gray-100 transition-colors text-gray-600 flex items-center gap-0.5 ${s?"bg-gray-100":""}`,title:m.label,children:[r.jsx("iconify-icon",{icon:m.icon,width:"16",height:"16"}),r.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-400"})]}),s&&r.jsx("div",{className:"absolute left-0 top-full mt-1 w-44 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map(x=>r.jsxs("button",{type:"button",onClick:()=>h(x.value),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${t===x.value?"text-primary bg-primary/5":"text-gray-700"}`,children:[r.jsx("iconify-icon",{icon:x.icon,width:"16",height:"16",class:t===x.value?"text-primary":"text-gray-500"}),r.jsx("span",{children:x.label})]},x.value))})]})},Y0=({align:t,onAlignChange:l})=>r.jsx(Of,{align:t,onAlignChange:l,showJustify:!1}),Q0=()=>[{id:"highlight",label:f("Highlight"),icon:"mdi:marker",tag:"mark",position:10},{id:"inlineCode",label:f("Inline code"),icon:"mdi:code-tags",tag:"code",position:20},{id:"keyboard",label:f("Keyboard input"),icon:"mdi:keyboard",tag:"kbd",position:30},{id:"strikethrough",label:f("Strikethrough"),icon:"mdi:format-strikethrough",command:"strikeThrough",position:40},{id:"subscript",label:f("Subscript"),icon:"mdi:format-subscript",command:"subscript",position:50},{id:"superscript",label:f("Superscript"),icon:"mdi:format-superscript",command:"superscript",position:60}],q0=({editorRef:t,saveSelection:l,restoreSelection:i})=>{const[s,c]=y.useState(!1),d=y.useRef(null),g=y.useMemo(()=>{const v=Q0();return[...ye.applyFilters(Ce.FILTER_MORE_TEXT_CONTROLS,v)].sort((S,$)=>(S.position||100)-($.position||100))},[]);y.useEffect(()=>{const v=N=>{d.current&&!d.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=(v,N=null)=>{i(),document.execCommand(v,!1,N),t?.current&&t.current.focus()},h=(v,N={})=>{i();const S=window.getSelection();if(!S||S.rangeCount===0)return;const $=S.getRangeAt(0);if($.collapsed||!$.toString())return;const C=document.createElement(v);N.className&&(C.className=N.className),N.style&&Object.assign(C.style,N.style),N.attributes&&Object.entries(N.attributes).forEach(([L,E])=>{C.setAttribute(L,E)});try{$.surroundContents(C)}catch{const E=$.extractContents();C.appendChild(E),$.insertNode(C)}const j=document.createRange();j.setStartAfter(C),j.setEndAfter(C),S.removeAllRanges(),S.addRange(j),t?.current&&t.current.focus()},b=v=>{v.onClick?v.onClick(m,h):v.command?m(v.command,v.commandValue||null):v.tag&&h(v.tag,{className:v.className,style:v.style,attributes:v.attributes}),c(!1)};return r.jsxs("div",{className:"relative",ref:d,children:[r.jsx("button",{type:"button",onMouseDown:l,onClick:()=>c(!s),className:`p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600 ${s?"bg-gray-100":""}`,title:f("More text controls"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"16",height:"16"})}),s&&r.jsx("div",{className:"absolute left-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map((v,N)=>r.jsx("div",{children:v.type==="separator"?r.jsx("div",{className:"border-t border-gray-100 my-1"}):r.jsxs("button",{type:"button",onClick:()=>b(v),className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",disabled:v.disabled,children:[r.jsx("iconify-icon",{icon:v.icon||"mdi:format-text",width:"16",height:"16",class:"text-gray-500"}),r.jsx("span",{children:v.label})]})},v.id||N))})]})},J0=({editorRef:t,align:l,onAlignChange:i,supports:s={},onContentChange:c})=>{const d=s.bold!==!1,g=s.italic!==!1,m=s.underline!==!1,h=s.link===!0,b=s.justify===!0,x=s.clearFormat!==!1,v=s.moreControls!==!1,N=s.aiAssistant!==!1,[S,$]=y.useState(!1),[k,C]=y.useState(""),j=y.useRef(null),L=y.useRef(null),[E,A]=y.useState(!1),[R,M]=y.useState(""),[P,H]=y.useState({top:0,left:0}),G=y.useRef(null);y.useEffect(()=>{S&&j.current&&j.current.focus()},[S]);const V=()=>{const K=window.getSelection();K.rangeCount>0&&(L.current=K.getRangeAt(0).cloneRange())},Y=()=>{if(L.current){const K=window.getSelection();K.removeAllRanges(),K.addRange(L.current)}},O=(K,ne=null)=>{Y(),document.execCommand(K,!1,ne),t?.current&&t.current.focus()},ee=()=>O("bold"),se=()=>O("italic"),ce=()=>O("underline"),he=()=>{V(),window.getSelection().toString().length!==0&&$(!0)},ve=()=>{if(!k.trim()){$(!1);return}Y(),document.execCommand("createLink",!1,k),C(""),$(!1),t?.current&&t.current.focus()},te=K=>{K.key==="Enter"?(K.preventDefault(),ve()):K.key==="Escape"&&($(!1),C(""))},ae=()=>{Y(),document.execCommand("removeFormat",!1,null),document.execCommand("unlink",!1,null),t?.current&&t.current.focus()},le=K=>{K.stopPropagation(),K.preventDefault();const W=window.getSelection()?.toString()?.trim()||"";if(W)V(),M(W);else{const X=t?.current?.innerText||"";M(X)}if(G.current){const X=G.current.getBoundingClientRect(),J=window.innerWidth;let ie=X.left-140;ie<10&&(ie=10),ie+320>J-10&&(ie=J-330),H({top:X.bottom+8,left:ie})}A(!0)},_=y.useCallback(K=>{L.current&&!L.current.collapsed?(Y(),document.execCommand("insertText",!1,K)):t?.current&&(t.current.innerText=K),c&&t?.current&&c(t.current.innerHTML),t?.current&&t.current.focus()},[t,c,Y]),U="p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600",me=d||g||m;return r.jsxs(r.Fragment,{children:[d&&r.jsx("button",{type:"button",onMouseDown:V,onClick:ee,className:U,title:f("Bold"),children:r.jsx("iconify-icon",{icon:"mdi:format-bold",width:"16",height:"16"})}),g&&r.jsx("button",{type:"button",onMouseDown:V,onClick:se,className:U,title:f("Italic"),children:r.jsx("iconify-icon",{icon:"mdi:format-italic",width:"16",height:"16"})}),m&&r.jsx("button",{type:"button",onMouseDown:V,onClick:ce,className:U,title:f("Underline"),children:r.jsx("iconify-icon",{icon:"mdi:format-underline",width:"16",height:"16"})}),me&&r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsx(Of,{align:l,onAlignChange:i,showJustify:b}),h&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:he,className:U,title:f("Insert Link"),children:r.jsx("iconify-icon",{icon:"mdi:link-variant",width:"16",height:"16"})}),S&&r.jsx("div",{className:"absolute left-0 top-full mt-2 z-50",children:r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200",children:[r.jsx("input",{ref:j,type:"url",value:k,onChange:K=>C(K.target.value),onKeyDown:te,placeholder:f("Enter URL..."),className:"w-48 px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:outline-none focus:border-primary"}),r.jsx("button",{type:"button",onClick:ve,className:"p-1 rounded bg-primary text-white hover:bg-primary/80",title:f("Apply"),children:r.jsx("iconify-icon",{icon:"mdi:check",width:"14",height:"14"})}),r.jsx("button",{type:"button",onClick:()=>{$(!1),C("")},className:"p-1 rounded text-gray-400 hover:text-gray-600",title:f("Cancel"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})})]})]}),x&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsx("button",{type:"button",onMouseDown:V,onClick:ae,className:U,title:f("Clear Formatting"),children:r.jsx("iconify-icon",{icon:"mdi:format-clear",width:"16",height:"16"})})]}),N&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),r.jsx("button",{ref:G,type:"button",onClick:le,className:"p-1.5 pb-0 rounded hover:bg-primary/10 transition-colors text-primary hover:opacity-80",title:f("AI Assistant"),children:r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})})]}),v&&r.jsx(q0,{editorRef:t,saveSelection:V,restoreSelection:Y}),E&&r.jsx(G0,{isOpen:E,onClose:()=>A(!1),selectedText:R,onApply:_,position:P})]})},Z0=({columns:t,onColumnsChange:l})=>{const i=[1,2,3,4,5,6];return r.jsx("div",{className:"flex items-center gap-1",children:i.map(s=>r.jsx("button",{type:"button",onClick:()=>l(s),className:`w-6 h-6 flex items-center justify-center rounded text-xs font-medium transition-colors ${parseInt(t)===s?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:`${s} Column${s>1?"s":""}`,children:s},s))})},Pi=({block:t,onMoveUp:l,onMoveDown:i,onDelete:s,onDuplicate:c,canMoveUp:d,canMoveDown:g,textFormatProps:m,alignProps:h,columnsProps:b,dragHandleProps:x,position:v="top"})=>{const[N,S]=y.useState(!1),$=y.useRef(null),k=X0(t.type),C=Mi(t.type),j=C.bold||C.italic||C.underline,L=C.align&&!j,E=C.columnCount===!0,R=["text-editor"].includes(t.type);y.useEffect(()=>{const P=H=>{$.current&&!$.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const M=v==="bottom"?"absolute -bottom-10 left-1/2 -translate-x-1/2":"absolute -top-10 left-1/2 -translate-x-1/2";return r.jsxs("div",{className:`lb-block-toolbar ${M} flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg shadow-md px-0.5 py-0.5 z-50`,onClick:P=>P.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-1 border-r border-gray-200 mr-1",children:[r.jsx("iconify-icon",{icon:k?.icon||"mdi:square-outline",width:"16",height:"16",class:"text-gray-600"}),x&&r.jsx("button",{type:"button",className:"flex justify-center items-center p-1 hover:bg-gray-100 rounded transition-colors cursor-grab active:cursor-grabbing",title:f("Drag"),...x,children:r.jsx("iconify-icon",{icon:"mdi:drag",width:"20",height:"20",class:"text-gray-400"})}),r.jsxs("div",{className:"flex flex-col gap-px",children:[r.jsx("button",{type:"button",onClick:l,disabled:!d,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${d?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move up"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-up",width:"12",height:"12",class:"text-gray-500 block"})}),r.jsx("button",{type:"button",onClick:i,disabled:!g,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${g?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move down"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-500 block"})})]})]}),j&&!R&&m&&r.jsxs(r.Fragment,{children:[r.jsx(J0,{editorRef:m.editorRef,align:m.align,onAlignChange:m.onAlignChange,supports:C}),r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),L&&h&&r.jsxs(r.Fragment,{children:[r.jsx(Y0,{align:h.align,onAlignChange:h.onAlignChange}),r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),E&&b&&r.jsxs(r.Fragment,{children:[r.jsx(Z0,{columns:b.columns,onColumnsChange:b.onColumnsChange}),r.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),r.jsx("button",{type:"button",onClick:c,className:"p-1.5 rounded hover:bg-gray-100 transition-colors",title:f("Duplicate"),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsxs("div",{className:"relative",ref:$,children:[r.jsx("button",{type:"button",onClick:()=>S(!N),className:`p-1.5 rounded transition-colors ${N?"bg-gray-100":"hover:bg-gray-100"}`,title:f("More options"),children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),N&&r.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[r.jsxs("button",{type:"button",onClick:()=>{c(),S(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),f("Duplicate")]}),r.jsxs("button",{type:"button",onClick:()=>{l(),S(!1)},disabled:!d,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${d?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f("Move Up")]}),r.jsxs("button",{type:"button",onClick:()=>{i(),S(!1)},disabled:!g,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${g?"":"opacity-50 cursor-not-allowed"}`,children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),f("Move Down")]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{type:"button",onClick:()=>{s(),S(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f("Delete")]})]})]})]})},ev=({block:t,columnIndex:l,parentId:i,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:h,blockIndex:b,totalBlocks:x})=>{const[v,N]=y.useState(null),[S,$]=y.useState(null),{attributes:k,listeners:C,setNodeRef:j,transform:L,transition:E,isDragging:A}=ec({id:t.id,data:{type:"nested",columnIndex:l,parentId:i}}),R={transform:En.Transform.toString(L),transition:E,opacity:A?.5:1},M=tc(t.type),P=c===t.id,H=b>0,G=b<x-1,V=O=>{N(O?{editorRef:O.editorRef,align:O.align,onAlignChange:O.onAlignChange}:null)},Y=O=>{$(O?{align:O.align,onAlignChange:O.onAlignChange}:null)};return M?r.jsxs("div",{ref:j,style:R,className:`relative group cursor-grab active:cursor-grabbing ${A?"z-50":""}`,onClick:O=>{O.stopPropagation(),s(t.id)},...k,...C,children:[P&&r.jsx(Pi,{block:t,onMoveUp:()=>m(t.id,i,l,"up"),onMoveDown:()=>m(t.id,i,l,"down"),onDelete:()=>g(t.id,i,l),onDuplicate:()=>h(t.id,i,l),canMoveUp:H,canMoveDown:G,textFormatProps:v,alignProps:S}),r.jsx(M,{props:t.props,isSelected:P,onUpdate:O=>d(t.id,O),onRegisterTextFormat:V,onRegisterAlign:Y})]}):r.jsxs("div",{ref:j,style:R,className:"p-2 bg-red-100 text-red-600 rounded text-xs",children:["Unknown: ",t.type]})},tv=({columnIndex:t,parentId:l,blocks:i,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:h})=>{const b=`column-${l}-${t}`,{setNodeRef:x,isOver:v}=ll({id:b,data:{type:"column",columnIndex:t,parentId:l}}),N=i.map(S=>S.id);return r.jsx("div",{ref:x,className:`min-h-[60px] p-2 rounded-lg transition-colors ${v?"bg-primary/10 border-2 border-primary border-dashed":i.length===0?"bg-gray-50 border-2 border-dashed border-gray-300":"bg-gray-50/50"}`,children:r.jsx(Za,{items:N,strategy:Ja,children:i.length>0?r.jsx("div",{className:"space-y-2",children:i.map((S,$)=>r.jsx(ev,{block:S,blockIndex:$,totalBlocks:i.length,columnIndex:t,parentId:l,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:h},S.id))}):r.jsx("div",{className:"flex items-center justify-center h-full min-h-[50px] text-gray-400 text-xs",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{children:f("Drop here")})]})})})})},nv=({props:t,isSelected:l,blockId:i,onSelect:s,selectedBlockId:c,onUpdateNested:d,onDeleteNested:g,onMoveNestedBlock:m,onDuplicateNestedBlock:h})=>{const{columns:b=2,gap:x="20px",children:v=[],verticalAlign:N="stretch",horizontalAlign:S="stretch"}=t,$=Math.min(Math.max(parseInt(b)||2,1),6),k=Array.from({length:$},(M,P)=>v[P]||[]),C={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},j={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},E=_e({padding:"8px 0"},t.layoutStyles),A={display:"flex",flexWrap:"wrap",gap:x,alignItems:C[N]||"stretch",justifyContent:j[S]||"stretch"},R=()=>S==="stretch"?{flex:`1 1 calc(${100/$}% - ${x})`,minWidth:0}:{flex:"0 0 auto",width:`calc(${100/$}% - ${x})`,minWidth:0};return r.jsx("div",{className:"transition-all",style:E,children:r.jsx("div",{style:A,children:k.map((M,P)=>r.jsx("div",{style:R(),children:r.jsx(tv,{columnIndex:P,parentId:i,blocks:M,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:h})},P))})})},rv=({props:t,onUpdate:l})=>{const{columns:i=2,gap:s="20px",verticalAlign:c="stretch",horizontalAlign:d="stretch",stackOnMobile:g=!0}=t,m=k=>{const C=Math.min(Math.max(parseInt(k)||1,1),6),j=t.children||[],L=Array.from({length:C},(E,A)=>j[A]||[]);l({...t,columns:C,children:L})},h=k=>{l({...t,gap:k})},b=k=>{l({...t,verticalAlign:k})},x=k=>{l({...t,horizontalAlign:k})},v=k=>{l({...t,stackOnMobile:k})},N=[{value:"start",label:f("Top"),icon:"align-start-vertical"},{value:"center",label:f("Center"),icon:"align-center-vertical"},{value:"end",label:f("Bottom"),icon:"align-end-vertical"},{value:"stretch",label:f("Stretch"),icon:"align-stretch-vertical"}],S=[{value:"start",label:f("Start"),icon:"align-start"},{value:"center",label:f("Center"),icon:"align-center"},{value:"end",label:f("End"),icon:"align-end"},{value:"stretch",label:f("Stretch"),icon:"align-stretch"},{value:"space-between",label:f("Space Between"),icon:"space-between"},{value:"space-around",label:f("Space Around"),icon:"space-around"}],$=({type:k,isActive:C})=>{const j=C?"currentColor":"#9ca3af";return{"align-start-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),r.jsx("rect",{x:"6",y:"6",width:"4",height:"10",rx:"1"}),r.jsx("rect",{x:"14",y:"6",width:"4",height:"6",rx:"1"})]}),"align-center-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",strokeDasharray:"2 2"}),r.jsx("rect",{x:"6",y:"7",width:"4",height:"10",rx:"1"}),r.jsx("rect",{x:"14",y:"9",width:"4",height:"6",rx:"1"})]}),"align-end-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),r.jsx("rect",{x:"6",y:"8",width:"4",height:"10",rx:"1"}),r.jsx("rect",{x:"14",y:"12",width:"4",height:"6",rx:"1"})]}),"align-stretch-vertical":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),r.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),r.jsx("rect",{x:"6",y:"6",width:"4",height:"12",rx:"1"}),r.jsx("rect",{x:"14",y:"6",width:"4",height:"12",rx:"1"})]}),"align-start":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),r.jsx("rect",{x:"6",y:"6",width:"10",height:"4",rx:"1"}),r.jsx("rect",{x:"6",y:"14",width:"6",height:"4",rx:"1"})]}),"align-center":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeDasharray:"2 2"}),r.jsx("rect",{x:"7",y:"6",width:"10",height:"4",rx:"1"}),r.jsx("rect",{x:"9",y:"14",width:"6",height:"4",rx:"1"})]}),"align-end":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),r.jsx("rect",{x:"8",y:"6",width:"10",height:"4",rx:"1"}),r.jsx("rect",{x:"12",y:"14",width:"6",height:"4",rx:"1"})]}),"align-stretch":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),r.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),r.jsx("rect",{x:"6",y:"6",width:"12",height:"4",rx:"1"}),r.jsx("rect",{x:"6",y:"14",width:"12",height:"4",rx:"1"})]}),"space-between":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),r.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),r.jsx("rect",{x:"5",y:"8",width:"4",height:"8",rx:"1"}),r.jsx("rect",{x:"15",y:"8",width:"4",height:"8",rx:"1"})]}),"space-around":r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:j,strokeWidth:"2",children:[r.jsx("rect",{x:"6",y:"8",width:"4",height:"8",rx:"1"}),r.jsx("rect",{x:"14",y:"8",width:"4",height:"8",rx:"1"})]})}[k]||null};return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Number of Columns")}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(k=>r.jsx("button",{onClick:()=>m(k),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                                ${i===k?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                            `,children:k},k))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gap Between Columns")}),r.jsxs("select",{value:s,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[r.jsx("option",{value:"0px",children:f("None")}),r.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),r.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),r.jsxs("option",{value:"16px",children:[f("Normal")," (16px)"]}),r.jsxs("option",{value:"20px",children:[f("Large")," (20px)"]}),r.jsxs("option",{value:"24px",children:[f("Extra Large")," (24px)"]}),r.jsxs("option",{value:"32px",children:[f("2X Large")," (32px)"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Vertical Alignment")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:N.map(k=>r.jsxs("button",{onClick:()=>b(k.value),title:k.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${c===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[r.jsx($,{type:k.icon,isActive:c===k.value}),r.jsx("span",{className:"text-xs mt-1",children:k.label})]},k.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Horizontal Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.map(k=>r.jsxs("button",{onClick:()=>x(k.value),title:k.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${d===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[r.jsx($,{type:k.icon,isActive:d===k.value}),r.jsx("span",{className:"text-xs mt-1",children:k.label})]},k.value))})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("Stack on Mobile")}),r.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:f("Columns will stack vertically on smaller screens")})]}),r.jsx("button",{onClick:()=>v(!g),className:`
                        relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                        ${g?"bg-primary":"bg-gray-300"}
                    `,children:r.jsx("span",{className:`
                            inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                            ${g?"translate-x-6":"translate-x-1"}
                        `})})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-700",children:[f("Tip"),":"]}),r.jsx("p",{className:"mt-1",children:f("Drag blocks from the sidebar into the column areas to build your layout. Each column can contain multiple blocks.")})]})]})})]})},ov={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},lv={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},iv=(t,l={})=>{const{generateBlockHtml:i}=l,c=Xt("columns",t),d=t.gap||"20px",g=t.columns||2,m=t.verticalAlign||"stretch",h=t.horizontalAlign||"stretch",b=t.stackOnMobile!==!1,x=ov[m]||"stretch",v=lv[h]||"stretch",N=h==="stretch"?`flex: 1 1 calc(${100/g}% - ${d})`:`flex: 0 0 auto; width: calc(${100/g}% - ${d})`,S=(t.children||[]).map(j=>{const L=j.map(E=>i?i(E,l):"").join("");return`<div class="lb-column" style="${N}; min-width: 0;">${L||""}</div>`}).join(""),$=["display: flex","flex-wrap: wrap",`gap: ${d}`,`align-items: ${x}`,`justify-content: ${v}`].join("; "),k=Yt(t,$);return`
        <div class="${c} lb-columns-${g} ${b?"lb-columns-stack-mobile":""}" style="${k}">
            ${S}
        </div>
    `},sv=(t,l={})=>{const{generateBlockHtml:i}=l,s=t.verticalAlign||"stretch",c={start:"top",center:"middle",end:"bottom",stretch:"top"},d=`${100/(t.columns||2)}%`,g=c[s]||"top";return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>${(t.children||[]).map((h,b)=>{const x=h.map(v=>i?i(v,l):"").join("");return`<td style="width: ${d}; vertical-align: ${g}; padding: 0 ${b<(t.columns||2)-1?t.gap||"20px":"0"} 0 0;">${x||"&nbsp;"}</td>`}).join("")}</tr>
        </table>
    `},av={page:iv,email:sv},cv=Me(V0,{block:nv,editor:rv,save:av}),uv="social",dv="1.0.0",fv="Social",gv="Content",pv="mdi:share-variant-outline",hv="Add social media links",mv=["social","facebook","twitter","instagram","linkedin","youtube"],xv=["email","page","campaign"],yv={align:!0,layout:!0,html:!0,duplicate:!0,remove:!0},vv={align:"center",iconSize:"32px",gap:"12px",links:{facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""}},bv={type:uv,version:dv,label:fv,category:gv,icon:pv,description:hv,keywords:mv,contexts:xv,supports:yv,defaultProps:vv},wv=[{key:"facebook",label:"Facebook",icon:"mdi:facebook",color:"#1877f2"},{key:"twitter",label:"Twitter/X",icon:"mdi:twitter",color:"#1da1f2"},{key:"instagram",label:"Instagram",icon:"mdi:instagram",color:"#e4405f"},{key:"linkedin",label:"LinkedIn",icon:"mdi:linkedin",color:"#0a66c2"},{key:"youtube",label:"YouTube",icon:"mdi:youtube",color:"#ff0000"}],kv=({props:t,isSelected:l})=>{const s={textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"center",padding:"10px 8px",borderRadius:"4px"},c=_e(s,t.layoutStyles),d={display:"inline-flex",alignItems:"center",justifyContent:t.align==="left"?"flex-start":t.align==="right"?"flex-end":"center",gap:t.gap||"12px",flexWrap:"wrap"},g=parseInt(t.iconSize)||32,m=Object.entries(t.links||{}).filter(([,h])=>h);return r.jsx("div",{style:c,children:m.length>0?r.jsx("div",{style:d,children:m.map(([h])=>{const b=wv.find(x=>x.key===h);return r.jsx("span",{title:b?.label,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${g}px`,height:`${g}px`,color:b?.color||"#666"},children:r.jsx("iconify-icon",{icon:b?.icon||"mdi:link",width:g,height:g})},h)})}):r.jsxs("div",{className:"text-gray-400 text-sm py-2",children:[r.jsx("iconify-icon",{icon:"mdi:share-variant-outline",width:"24",height:"24",class:"mb-1"}),r.jsx("div",{children:"Add social links in the right panel"})]})})},Cv={facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',instagram:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',youtube:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>'},Sv={facebook:"https://cdn-icons-png.flaticon.com/32/733/733547.png",twitter:"https://cdn-icons-png.flaticon.com/32/733/733579.png",instagram:"https://cdn-icons-png.flaticon.com/32/2111/2111463.png",linkedin:"https://cdn-icons-png.flaticon.com/32/733/733561.png",youtube:"https://cdn-icons-png.flaticon.com/32/733/733646.png"},jv=(t,l={})=>{const s=Xt("social",t),c=t.iconSize||"24px",d=t.gap||"12px",g=t.align||"center",h=`text-align: ${g}; display: flex; justify-content: ${g==="left"?"flex-start":g==="right"?"flex-end":"center"}; gap: ${d}; padding: 10px 0`,b=Yt(t,h),x=Object.entries(t.links||{}).filter(([,v])=>v).map(([v,N])=>`
            <a href="${N}" target="_blank" rel="noopener noreferrer" class="lb-social-link lb-social-${v}" style="display: inline-flex; width: ${c}; height: ${c}; color: inherit;">
                ${Cv[v]||""}
            </a>
        `).join("");return x?`<div class="${s}" style="${b}">${x}</div>`:""},Nv=(t,l={})=>{const i=parseInt(t.iconSize)||32,s=parseInt(t.gap)/2||6,c=Object.entries(t.links||{}).filter(([,d])=>d).map(([d,g])=>`<a href="${g}" target="_blank" style="display: inline-block; margin: 0 ${s}px;"><img src="${Sv[d]}" alt="${d}" width="${i}" height="${i}" style="border: 0;" /></a>`).join("");return c?`<div style="text-align: ${t.align||"center"}; padding: 10px 0;">${c}</div>`:""},Ev={page:jv,email:Nv},$v=[{name:"iconSize",type:"select",label:f("Icon Size"),section:f("Appearance"),options:[{value:"24px",label:f("Small")+" (24px)"},{value:"32px",label:f("Medium")+" (32px)"},{value:"40px",label:f("Large")+" (40px)"},{value:"48px",label:f("X-Large")+" (48px)"}]},{name:"gap",type:"select",label:f("Spacing"),section:f("Appearance"),options:[{value:"8px",label:f("Small")},{value:"12px",label:f("Medium")},{value:"16px",label:f("Large")},{value:"24px",label:f("X-Large")}]},{name:"links.facebook",type:"url",label:f("Facebook URL"),placeholder:"https://facebook.com/...",section:f("Links")},{name:"links.twitter",type:"url",label:f("Twitter/X URL"),placeholder:"https://twitter.com/...",section:f("Links")},{name:"links.instagram",type:"url",label:f("Instagram URL"),placeholder:"https://instagram.com/...",section:f("Links")},{name:"links.linkedin",type:"url",label:f("LinkedIn URL"),placeholder:"https://linkedin.com/...",section:f("Links")},{name:"links.youtube",type:"url",label:f("YouTube URL"),placeholder:"https://youtube.com/...",section:f("Links")}],Tv=Me(bv,{block:kv,save:Ev,fields:$v}),Rv="html",Av="1.0.0",Lv="HTML",Bv="Advanced",Iv="mdi:code-tags",_v="Add custom HTML content",Dv=["html","code","custom","embed"],Pv=["email","page","campaign"],Mv={layout:!0,html:!0,duplicate:!0,remove:!0},zv={code:'<div style="padding: 20px; text-align: center;">Custom HTML content</div>'},Ov={type:Rv,version:Av,label:Lv,category:Bv,icon:Iv,description:_v,keywords:Dv,contexts:Pv,supports:Mv,defaultProps:zv},Hv=({props:t,onUpdate:l})=>{const[i,s]=y.useState(!1),[c,d]=y.useState(!1),g=y.useRef(null),m=y.useRef(null),h=()=>{s(!0)},b=()=>{m.current&&(m.current.destroy(),m.current=null,d(!1)),s(!1)},x=()=>{if(m.current){const $=m.current.getContent();l({...t,code:$})}b()};y.useEffect(()=>{if(!i||!g.current)return;const $=()=>{if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>k(),document.head.appendChild(C)}else k()},k=()=>{!g.current||m.current||window.tinymce.init({target:g.current,height:450,menubar:!1,branding:!1,promotion:!1,plugins:["advlist","autolink","lists","link","image","charmap","anchor","searchreplace","visualblocks","code","insertdatetime","media","table","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image table | removeformat code",toolbar_mode:"wrap",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: 14px;
                        line-height: 1.6;
                        padding: 12px;
                    }
                `,setup:C=>{m.current=C,C.on("init",()=>{d(!0),C.setContent(t.code||"")})},code_dialog_height:400,code_dialog_width:600,ui_options:{z_index:10100}})};return $(),()=>{m.current&&(m.current.destroy(),m.current=null,d(!1))}},[i,t.code]);const N=_e({padding:"8px",borderRadius:"4px",cursor:"pointer",minHeight:"60px"},t.layoutStyles);return r.jsxs("div",{style:N,onDoubleClick:h,children:[r.jsx("div",{dangerouslySetInnerHTML:{__html:t.code||`
        <div style="padding: 24px; padding-top: 10px; text-align: center; color: #9ca3af; background: #f9fafb; border: 2px dashed #e5e7eb; border-radius: 8px;">
            <div style="font-size: 14px; font-weight: 500;">Custom HTML Block</div>
            <div style="font-size: 12px; margin-top: 4px;">Double-click to edit</div>
        </div>
    `}}),i&&r.jsx("style",{children:`
                    .tox-tinymce-aux,
                    .tox .tox-dialog-wrap,
                    .tox .tox-dialog,
                    .tox .tox-dialog-wrap__backdrop,
                    div.tox.tox-silver-sink.tox-tinymce-aux {
                        z-index: 10100 !important;
                    }
                    .tox .tox-dialog-wrap__backdrop {
                        background-color: rgba(0, 0, 0, 0.5) !important;
                    }
                `}),i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:b,children:r.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col mx-4",onClick:$=>$.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("iconify-icon",{icon:"mdi:code-tags",width:"24",height:"24",class:"text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Custom HTML"})]}),r.jsx("button",{type:"button",onClick:b,className:"p-2 rounded-md hover:bg-gray-100 text-gray-500 transition-colors",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),r.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[!c&&r.jsx("div",{className:"flex items-center justify-center h-[450px] bg-gray-50 rounded-md",children:r.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Loading editor..."})]})}),r.jsx("div",{ref:g,className:c?"":"hidden"})]}),r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[r.jsx("p",{className:"text-sm text-gray-500",children:'Use the toolbar above to format content, or click "Code" to edit raw HTML.'}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{type:"button",onClick:b,className:"btn-default",children:"Cancel"}),r.jsx("button",{type:"button",onClick:x,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Fv=(t,l={})=>{const s=Xt("html",t),c=Yt(t);return`<div class="${s}"${c?` style="${c}"`:""}>${t.code||""}</div>`},Wv=(t,l={})=>t.code||"",Uv={page:Fv,email:Wv},Vv=[{name:"code",type:"textarea",label:f("HTML Code"),section:f("Content"),rows:10}],Kv=Me(Ov,{block:Hv,save:Uv,fields:Vv}),Gv="quote",Xv="1.0.0",Yv="Quote",Qv="Content",qv="mdi:format-quote-close",Jv="Add a quote or testimonial with inline editing",Zv=["quote","testimonial","blockquote","citation"],eb=["email","page","campaign"],tb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},nb={text:"This is a quote or testimonial that stands out from the rest of the content.",author:"John Doe",authorTitle:"CEO, Company",borderColor:"#635bff",backgroundColor:"#f8fafc",textColor:"#475569",authorColor:"#1e293b",align:"left"},rb={type:Gv,version:Xv,label:Yv,category:Qv,icon:qv,description:Jv,keywords:Zv,contexts:eb,supports:tb,defaultProps:nb},ob=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{const c=y.useRef(null),d=y.useRef(null),g=y.useRef(null),[m,h]=y.useState("quote"),b=y.useRef(t.text),x=y.useRef(t.author),v=y.useRef(t.authorTitle),N=y.useRef(t),S=y.useRef(l);N.current=t,S.current=l;const $=y.useCallback(()=>{switch(m){case"author":return d;case"title":return g;default:return c}},[m]),k=y.useCallback(()=>{if(c.current){const O=c.current.innerHTML;b.current=O,S.current({...N.current,text:O})}},[]),C=y.useCallback(()=>{if(d.current){const O=d.current.innerHTML;x.current=O,S.current({...N.current,author:O})}},[]),j=y.useCallback(()=>{if(g.current){const O=g.current.innerHTML;v.current=O,S.current({...N.current,authorTitle:O})}},[]),L=y.useCallback(O=>{S.current({...N.current,align:O})},[]);y.useEffect(()=>{i&&(c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",b.current=t.text),d.current&&(d.current.innerHTML===""||d.current.innerHTML==="<br>")&&(d.current.innerHTML=t.author||"",x.current=t.author),g.current&&(g.current.innerHTML===""||g.current.innerHTML==="<br>")&&(g.current.innerHTML=t.authorTitle||"",v.current=t.authorTitle))},[i]),y.useEffect(()=>{i&&c.current&&t.text!==b.current&&(c.current.innerHTML=t.text||"",b.current=t.text)},[t.text,i]),y.useEffect(()=>{i&&d.current&&t.author!==x.current&&(d.current.innerHTML=t.author||"",x.current=t.author)},[t.author,i]),y.useEffect(()=>{i&&g.current&&t.authorTitle!==v.current&&(g.current.innerHTML=t.authorTitle||"",v.current=t.authorTitle)},[t.authorTitle,i]),y.useEffect(()=>{i&&s?s({editorRef:$(),isContentEditable:!0,align:N.current.align||"left",onAlignChange:L}):!i&&s&&s(null)},[i,s,L,m,$]),y.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const O=document.createRange();O.selectNodeContents(c.current),O.collapse(!1);const ee=window.getSelection();ee.removeAllRanges(),ee.addRange(O)}})},[i]);const E={padding:"20px",paddingLeft:"24px",backgroundColor:t.backgroundColor||"#f8fafc",borderLeft:`4px solid ${t.borderColor||"#635bff"}`,textAlign:t.align||"left",borderRadius:"4px"},A=_e(E,t.layoutStyles),R={color:t.textColor||"#475569",fontSize:"16px",fontStyle:"italic",lineHeight:"1.6",margin:"0 0 12px 0",outline:"none",minHeight:"1.5em"},M={color:t.authorColor||"#1e293b",fontSize:"14px",fontWeight:"600",margin:"0 0 4px 0",outline:"none",minHeight:"1.2em"},P={color:t.textColor||"#475569",fontSize:"12px",margin:0,outline:"none",minHeight:"1em"},H=O=>{h(O)},G=()=>{const O=t.text||"Click to add quote...";return r.jsx("span",{dangerouslySetInnerHTML:{__html:`"${O}"`}})},V=()=>{const O=t.author||"";return O?r.jsx("span",{dangerouslySetInnerHTML:{__html:O}}):r.jsx("span",{style:{opacity:.5},children:"Author name"})},Y=()=>{const O=t.authorTitle||"";return O?r.jsx("span",{dangerouslySetInnerHTML:{__html:O}}):r.jsx("span",{style:{opacity:.5},children:"Author title"})};return i?r.jsxs("div",{"data-text-editing":"true",style:A,children:[r.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[r.jsx("span",{style:{...R,position:"absolute",left:0,pointerEvents:"none"},children:'"'}),r.jsx("div",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:k,onBlur:k,onFocus:()=>H("quote"),"data-placeholder":"Enter quote...",style:{...R,paddingLeft:"12px",background:m==="quote"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px"}}),r.jsx("span",{style:{...R,position:"absolute",right:0,bottom:0,pointerEvents:"none"},children:'"'})]}),r.jsxs("div",{children:[r.jsx("div",{ref:d,contentEditable:!0,suppressContentEditableWarning:!0,onInput:C,onBlur:C,onFocus:()=>H("author"),"data-placeholder":"Author name",style:{...M,background:m==="author"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}}),r.jsx("div",{ref:g,contentEditable:!0,suppressContentEditableWarning:!0,onInput:j,onBlur:j,onFocus:()=>H("title"),"data-placeholder":"Author title",style:{...P,background:m==="title"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}})]})]}):r.jsxs("div",{style:A,children:[r.jsx("p",{style:R,children:G()}),r.jsxs("div",{children:[r.jsx("p",{style:M,children:V()}),r.jsx("p",{style:P,children:Y()})]})]})},lb=(t,l={})=>{const i={text:t.text||"",author:t.author||"",authorTitle:t.authorTitle||"",align:t.align||"left",borderColor:t.borderColor||"#635bff",backgroundColor:t.backgroundColor||"#f8fafc",textColor:t.textColor||"#475569",authorColor:t.authorColor||"#1e293b",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="quote" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},ib=(t,l={})=>{const i=t.text||"",s=t.author||"",c=t.authorTitle||"",d=t.align||"left",g=t.borderColor||"#635bff",m=t.backgroundColor||"#f8fafc",h=t.textColor||"#475569",b=t.authorColor||"#1e293b";let x="";s&&(x=`<p style="color: ${b}; font-size: 14px; font-weight: 600; margin: 0;">${s}</p>`);let v="";return c&&(v=`<p style="color: ${h}; font-size: 12px; margin: 0;">${c}</p>`),`
        <div style="padding: 20px; padding-left: 24px; background-color: ${m}; border-left: 4px solid ${g}; text-align: ${d}; border-radius: 4px; margin: 10px 0;">
            <p style="color: ${h}; font-size: 16px; font-style: italic; line-height: 1.6; margin: 0 0 12px 0;">"${i}"</p>
            ${x}
            ${v}
        </div>
    `},sb={page:lb,email:ib},ab=[{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"authorColor",type:"color",label:f("Author Color"),section:f("Style")}],cb=Me(rb,{block:ob,save:sb,fields:ab}),ub="list",db="1.0.0",fb="List",gb="Content",pb="mdi:format-list-bulleted",hb="Add a bullet or numbered list",mb=["list","bullet","number","items","check","checklist"],xb=["email","page","campaign"],yb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},vb={items:["First item","Second item","Third item"],listType:"bullet",color:"#333333",fontSize:"16px",iconColor:"#635bff"},bb={type:ub,version:db,label:fb,category:gb,icon:pb,description:hb,keywords:mb,contexts:xb,supports:yb,defaultProps:vb};function wb({props:t,isSelected:l,onUpdate:i,onRegisterTextFormat:s}){const c=y.useRef(null),d=y.useRef(t),g=y.useRef(i);d.current=t,g.current=i;const m=t.items||["List item"],h=t.listType||"bullet",b=h==="number"?"ol":"ul",x=y.useCallback(()=>{if(!c.current)return;const S=c.current.querySelectorAll(":scope > li"),$=Array.from(S).map(C=>{const j=C.cloneNode(!0);return j.querySelectorAll("ul, ol").forEach(L=>L.remove()),j.innerHTML.trim()}).filter(C=>C&&C!=="<br>"),k=$.length>0?$:[""];JSON.stringify(k)!==JSON.stringify(d.current.items)&&g.current({...d.current,items:k})},[]);y.useEffect(()=>{l&&c.current&&(c.current.innerHTML=m.map(S=>`<li>${S||"<br>"}</li>`).join(""),requestAnimationFrame(()=>{c.current&&c.current.focus()}))},[l]),y.useEffect(()=>{!l&&c.current&&(c.current.innerHTML=m.map(S=>`<li>${S||"<br>"}</li>`).join(""))},[]),y.useEffect(()=>{s&&s(l?{editorRef:c,isContentEditable:!0,align:t.align||"left",onAlignChange:S=>g.current({...d.current,align:S})}:null)},[l,s,t.align]);const v=_e({padding:"8px",borderRadius:"4px"},t.layoutStyles),N={..._e({color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:"1.8",margin:0,textAlign:t.align||"left"},t.layoutStyles),paddingLeft:h==="check"?"0":"24px",listStyleType:h==="bullet"?"disc":h==="number"?"decimal":"none"};return l?r.jsx("div",{style:v,"data-text-editing":"true",children:r.jsx(b,{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:x,onBlur:x,style:{...N,paddingLeft:h==="check"?"8px":"32px",paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",border:"2px solid var(--color-primary, #635bff)",borderRadius:"4px",outline:"none",background:"white",minHeight:"40px"}})}):r.jsx("div",{style:v,children:r.jsx(b,{style:N,suppressContentEditableWarning:!0,ref:c})})}const kb=(t,l={})=>{const i={items:t.items||[],listType:t.listType||"bullet",color:t.color||"#333333",fontSize:t.fontSize||"16px",iconColor:t.iconColor||"#635bff",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="list" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Cb=(t,l={})=>{const i=t.items||[],s=t.listType||"bullet",c=t.color||"#333333",d=t.fontSize||"16px",g=t.iconColor||"#635bff";if(s==="check"){const b=i.map(x=>`<tr><td style="vertical-align: top; padding-right: 8px; color: ${g};">&#10003;</td><td style="color: ${c}; font-size: ${d}; padding-bottom: 8px;">${x}</td></tr>`).join("");return`<table style="color: ${c}; font-size: ${d}; line-height: 1.6;">${b}</table>`}const m=s==="number"?"ol":"ul",h=i.map(b=>`<li style="margin-bottom: 8px;">${b}</li>`).join("");return`<${m} style="color: ${c}; font-size: ${d}; line-height: 1.8; margin: 0; padding-left: 24px;">${h}</${m}>`},Sb={page:kb,email:Cb},jb=[{name:"listType",type:"select",label:f("List Type"),section:f("Content"),options:[{value:"bullet",label:f("Bullet List")},{value:"number",label:f("Numbered List")},{value:"check",label:f("Check List")}]},{name:"color",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Style"),options:[{value:"12px",label:f("Small")+" (12px)"},{value:"14px",label:f("Normal")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Style")}],Nb=Me(bb,{block:wb,save:Sb,fields:jb}),Eb="video",$b="1.0.0",Tb="Video",Rb="Content",Ab="mdi:play-circle-outline",Lb="Add a video with thumbnail",Bb=["video","media","youtube","play","vimeo","thumbnail"],Ib=["email","page","campaign"],_b={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Db={thumbnailUrl:"",videoUrl:"",alt:"Video thumbnail",width:"100%",align:"center",playButtonColor:""},Pb={type:Eb,version:$b,label:Tb,category:Rb,icon:Ab,description:Lb,keywords:Bb,contexts:Ib,supports:_b,defaultProps:Db},Mb=t=>{if(!t)return null;const l=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/];for(const x of l){const v=t.match(x);if(v)return{platform:"youtube",videoId:v[1],embedUrl:`https://www.youtube.com/embed/${v[1]}`,thumbnailUrl:`https://img.youtube.com/vi/${v[1]}/maxresdefault.jpg`}}const i=/(?:vimeo\.com\/)(\d+)/,s=t.match(i);if(s)return{platform:"vimeo",videoId:s[1],embedUrl:`https://player.vimeo.com/video/${s[1]}`,thumbnailUrl:null};const c=/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/,d=t.match(c);if(d)return{platform:"dailymotion",videoId:d[1],embedUrl:`https://www.dailymotion.com/embed/video/${d[1]}`,thumbnailUrl:`https://www.dailymotion.com/thumbnail/video/${d[1]}`};const g=/(?:wistia\.com\/medias\/|wi\.st\/)([a-zA-Z0-9]+)/,m=t.match(g);if(m)return{platform:"wistia",videoId:m[1],embedUrl:`https://fast.wistia.net/embed/iframe/${m[1]}`,thumbnailUrl:null};const h=/(?:loom\.com\/share\/)([a-zA-Z0-9]+)/,b=t.match(h);return b?{platform:"loom",videoId:b[1],embedUrl:`https://www.loom.com/embed/${b[1]}`,thumbnailUrl:null}:null},zb=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Ob=t=>({youtube:"mdi:youtube",vimeo:"mdi:vimeo",dailymotion:"simple-icons:dailymotion",wistia:"mdi:video-box",loom:"mdi:video-outline"})[t]||"mdi:play-circle",Hb=t=>({youtube:"#FF0000",vimeo:"#1AB7EA",dailymotion:"#00AAFF",wistia:"#54BBFF",loom:"#625DF5"})[t]||"#FF0000",Fb='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="600" height="340" viewBox="0 0 600 340"%3E%3Crect fill="%231a1a2e" width="600" height="340"/%3E%3Ctext fill="%23ffffff" font-family="Arial" font-size="24" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EVideo%3C/text%3E%3C/svg%3E',Wb=({props:t,isSelected:l})=>{const[i,s]=y.useState(!1),[c,d]=y.useState(null),g=y.useMemo(()=>Mb(t.videoUrl),[t.videoUrl]),m=y.useMemo(()=>zb(t.videoUrl),[t.videoUrl]);y.useEffect(()=>{if(!m||t.thumbnailUrl||!t.videoUrl){d(null);return}const R=document.createElement("video");return R.crossOrigin="anonymous",R.src=t.videoUrl,R.muted=!0,R.preload="metadata",R.onloadeddata=()=>{R.currentTime=Math.min(1,R.duration*.1)},R.onseeked=()=>{try{const M=document.createElement("canvas");M.width=R.videoWidth||640,M.height=R.videoHeight||360,M.getContext("2d").drawImage(R,0,0,M.width,M.height);const H=M.toDataURL("image/jpeg",.8);d(H)}catch{d(null)}},R.onerror=()=>{d(null)},()=>{R.src=""}},[t.videoUrl,t.thumbnailUrl,m]);const h=t.thumbnailUrl||g?.thumbnailUrl||c,b=i||!h?Fb:h,x=t.playButtonColor||(g?Hb(g.platform):"#FF0000"),N={textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},S=_e(N,t.layoutStyles),$={position:"relative",display:"inline-block",maxWidth:t.width||"100%",width:"100%"},k={width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"68px",height:"68px",backgroundColor:x,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",cursor:"pointer"},j={width:0,height:0,borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderLeft:"20px solid white",marginLeft:"4px"},L={position:"absolute",top:"12px",left:"12px",backgroundColor:"rgba(0,0,0,0.7)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},E=()=>{i||s(!0)};if(y.useEffect(()=>{s(!1)},[h]),!t.videoUrl)return r.jsx("div",{style:S,children:r.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 p-8 rounded text-center",children:[r.jsx("iconify-icon",{icon:"mdi:video-plus",width:"32",height:"32",class:"mb-2"}),r.jsx("div",{className:"text-sm",children:"Add video in the right panel"})]})});const A=m&&!t.thumbnailUrl;return r.jsx("div",{style:S,children:r.jsxs("div",{style:$,children:[A?r.jsx("video",{src:t.videoUrl,controls:!0,style:{width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},preload:"metadata"}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:b,alt:t.alt||"Video thumbnail",style:k,onError:E}),r.jsx("div",{style:C,children:r.jsx("div",{style:j})})]}),g&&r.jsxs("div",{style:L,children:[r.jsx("iconify-icon",{icon:Ob(g.platform),width:"16",height:"16"}),r.jsx("span",{style:{textTransform:"capitalize"},children:g.platform})]}),m&&!A&&r.jsxs("div",{style:L,children:[r.jsx("iconify-icon",{icon:"mdi:video",width:"16",height:"16"}),r.jsx("span",{children:"Video"})]})]})})},Ub=({props:t,onUpdate:l})=>{const i=(g,m)=>{l({...t,[g]:m})},s=async()=>{try{const g=await el.selectImage();g&&i("thumbnailUrl",g.url)}catch{}},c=async()=>{try{const g=await el.selectVideo();g&&i("videoUrl",g.url)}catch{}},d=()=>{i("thumbnailUrl","")};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(Ni,{title:f("Video"),children:[r.jsx(Ei,{children:f("Video URL")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"url",value:t.videoUrl||"",onChange:g=>i("videoUrl",g.target.value),placeholder:"YouTube, Vimeo, or direct URL...",className:"form-control flex-1"}),r.jsx("button",{type:"button",onClick:c,className:"btn-default px-3",title:f("Select from library"),children:r.jsx("iconify-icon",{icon:"lucide:folder-open",width:"16",height:"16"})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:f("YouTube, Vimeo, Dailymotion, Wistia, Loom, or direct files (mp4, webm)")})]}),r.jsxs(Ni,{title:f("Thumbnail"),children:[t.thumbnailUrl?r.jsxs("div",{className:"relative group mb-3",children:[r.jsx("img",{src:t.thumbnailUrl,alt:"Thumbnail",className:"w-full max-h-32 object-contain rounded border border-gray-200 dark:border-gray-700"}),r.jsx("button",{type:"button",onClick:d,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove thumbnail"),children:r.jsx("iconify-icon",{icon:"lucide:x",width:"14",height:"14"})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center p-4 mb-3 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[r.jsx("iconify-icon",{icon:"lucide:image",className:"text-2xl text-gray-400 mb-1"}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f("Auto-generated from video")})]}),r.jsxs("button",{type:"button",onClick:s,className:"btn-default w-full flex items-center justify-center gap-2",children:[r.jsx("iconify-icon",{icon:"lucide:image-plus"}),t.thumbnailUrl?f("Change Thumbnail"):f("Custom Thumbnail")]}),r.jsxs("details",{className:"mt-3",children:[r.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),r.jsx("input",{type:"url",value:t.thumbnailUrl||"",onChange:g=>i("thumbnailUrl",g.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]}),r.jsxs(Ni,{title:f("Accessibility"),children:[r.jsx(Ei,{children:f("Alt Text")}),r.jsx("input",{type:"text",value:t.alt||"",onChange:g=>i("alt",g.target.value),placeholder:"Describe the video...",className:"form-control"})]}),r.jsxs(Ni,{title:f("Appearance"),children:[r.jsx(Ei,{children:f("Width")}),r.jsxs("select",{value:t.width||"100%",onChange:g=>i("width",g.target.value),className:"form-control",children:[r.jsxs("option",{value:"100%",children:[f("Full Width")," (100%)"]}),r.jsxs("option",{value:"75%",children:[f("Three Quarters")," (75%)"]}),r.jsxs("option",{value:"50%",children:[f("Half")," (50%)"]}),r.jsxs("option",{value:"25%",children:[f("Quarter")," (25%)"]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx(Ei,{children:f("Play Button Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:t.playButtonColor||"#FF0000",onChange:g=>i("playButtonColor",g.target.value),className:"w-12 h-9 rounded border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:t.playButtonColor||"",onChange:g=>i("playButtonColor",g.target.value),placeholder:"#FF0000",className:"form-control flex-1"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f("Leave empty for platform default")})]})]})]})},Ni=({title:t,children:l})=>r.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:t}),l]}),Ei=({children:t})=>r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:t}),Hf=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Ff=t=>{if(!t)return null;const l=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/);if(l)return{platform:"youtube",id:l[1],thumbnail:`https://img.youtube.com/vi/${l[1]}/maxresdefault.jpg`,color:"#FF0000",embedUrl:`https://www.youtube.com/embed/${l[1]}?rel=0`};const i=t.match(/vimeo\.com\/(\d+)/);if(i)return{platform:"vimeo",id:i[1],thumbnail:null,color:"#1AB7EA",embedUrl:`https://player.vimeo.com/video/${i[1]}`};const s=t.match(/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/);return s?{platform:"dailymotion",id:s[1],thumbnail:`https://www.dailymotion.com/thumbnail/video/${s[1]}`,color:"#00AAFF",embedUrl:`https://www.dailymotion.com/embed/video/${s[1]}`}:null},Vb=(t,l={})=>{const i="video",s=Hf(t.videoUrl),c=Ff(t.videoUrl),d=t.width||"100%",g=t.thumbnailUrl||t.thumbnail||"",m=t.align||"center",h=m==="left"?"flex-start":m==="right"?"flex-end":"center",b=Xt(i,t),x=c?` lb-video-${c.platform}`:"",v=`display: flex; justify-content: ${h}`,N=Yt(t,v);if(s){if(g){const S=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return`
                <div class="${b}" style="${N}">
                    <div id="${S}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${g}" alt="${t.alt||"Video thumbnail"}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${S}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<video src="${t.videoUrl}" controls autoplay style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;"></video>';
                        });
                    })();
                <\/script>
            `}return`
            <div class="${b}" style="${N}">
                <video src="${t.videoUrl}" controls ${t.autoplay?"autoplay muted":""} ${t.loop?"loop":""} style="max-width: ${d}; width: 100%; height: auto; border-radius: 8px;" preload="metadata">
                    Your browser does not support the video tag.
                </video>
            </div>
        `}if(c?.embedUrl){const S=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return g?`
                <div class="${b}${x}" style="${N}">
                    <div id="${S}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${g}" alt="Video thumbnail" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${S}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<iframe src="${c.embedUrl}&autoplay=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>';
                        });
                    })();
                <\/script>
            `:`
            <div class="${b}${x}" style="${N}">
                <div style="position: relative; max-width: ${d}; width: 100%;">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                        <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>
                    </div>
                </div>
            </div>
        `}return`
        <div class="${b}" style="${N}">
            <a href="${t.videoUrl}" target="_blank" rel="noopener noreferrer" class="lb-video-link">Watch Video</a>
        </div>
    `},Kb=(t,l={})=>{const{previewMode:i=!1}=l,s=Hf(t.videoUrl),c=Ff(t.videoUrl);if(i){if(s&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <video src="${t.videoUrl}" controls style="max-width: ${t.width||"100%"}; width: 100%; height: auto; display: inline-block; border-radius: 8px; background-color: #1a1a2e;" preload="metadata"></video>
                </div>
            `;if(c?.embedUrl&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <div style="position: relative; max-width: ${t.width||"100%"}; width: 100%; display: inline-block;">
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                            <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            `}let d;t.thumbnailUrl?d=t.thumbnailUrl:c?.thumbnail?d=c.thumbnail:s?d="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='340' viewBox='0 0 600 340'%3E%3Crect fill='%231a1a2e' width='600' height='340'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='16' x='50%25' y='60%25' text-anchor='middle'%3EClick to play video%3C/text%3E%3C/svg%3E":d="https://via.placeholder.com/600x340/1a1a2e/ffffff?text=Video";const g=t.playButtonColor||c?.color||(s?"#635bff":"#ff0000"),m=`
        <div style="position: relative; display: inline-block; max-width: ${t.width||"100%"}; width: 100%;">
            <a href="${t.videoUrl}" target="_blank" style="display: block; text-decoration: none;">
                <img src="${d}" alt="${t.alt||"Video thumbnail"}" style="width: 100%; height: auto; display: block; border-radius: 8px; background-color: #1a1a2e;" />
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 68px; background-color: ${g}; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <span style="width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-left: 20px solid white; margin-left: 4px;"></span>
                </div>
            </a>
        </div>
    `;return`<div style="text-align: ${t.align||"center"};">${m}</div>`},Gb={page:Vb,email:Kb},Xb=Me(Pb,{block:Wb,editor:Ub,save:Gb}),Yb="footer",Qb="1.0.0",qb="Footer",Jb="Layout",Zb="mdi:page-layout-footer",e1="Add an email footer with company info",t1=["footer","unsubscribe","company","contact"],n1=["email","campaign"],r1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},o1={companyName:"Your Company Name",address:"123 Street Name, City, Country",phone:"+1 234 567 890",email:"contact@company.com",unsubscribeText:"Unsubscribe from these emails",unsubscribeUrl:"#unsubscribe",copyright:" 2024 Your Company. All rights reserved.",textColor:"#6b7280",linkColor:"#635bff",fontSize:"12px",align:"center"},l1={type:Yb,version:Qb,label:qb,category:Jb,icon:Zb,description:e1,keywords:t1,contexts:n1,supports:r1,defaultProps:o1},i1=({props:t})=>{const l={padding:"24px 16px",textAlign:t.align||"center",borderTop:"1px solid #e5e7eb",borderRadius:"4px"},i=_e(l,t.layoutStyles),s={color:t.textColor||"#6b7280",fontSize:t.fontSize||"12px",lineHeight:"1.6",margin:"0 0 8px 0"},c=_e(s,t.layoutStyles),d={color:t.linkColor||"#635bff",textDecoration:"underline"},g={...c,fontWeight:"600",fontSize:"14px",marginBottom:"12px"};return r.jsxs("div",{style:i,children:[t.companyName&&r.jsx("p",{style:g,children:t.companyName}),t.address&&r.jsx("p",{style:c,children:t.address}),(t.phone||t.email)&&r.jsxs("p",{style:c,children:[t.phone&&r.jsx("span",{children:t.phone}),t.phone&&t.email&&r.jsx("span",{children:" | "}),t.email&&r.jsx("a",{href:`mailto:${t.email}`,style:d,children:t.email})]}),t.unsubscribeText&&r.jsx("p",{style:{...c,marginTop:"16px"},children:r.jsx("a",{href:t.unsubscribeUrl||"#",style:d,children:t.unsubscribeText})}),t.copyright&&r.jsx("p",{style:{...c,marginTop:"12px",fontSize:"11px"},children:t.copyright})]})},s1=(t,l={})=>{const s=Xt("footer",t),c=["padding: 24px 16px",`text-align: ${t.align||"center"}`];t.layoutStyles?.border||c.push("border-top: 1px solid #e5e7eb");const d=Yt(t,c.join("; ")),g=t.layoutStyles?.typography?.color||t.textColor||"#6b7280",m=t.layoutStyles?.typography?.fontSize||t.fontSize||"12px";return`
        <footer class="${s}" style="${d}">
            ${t.companyName?`<p style="color: ${g}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${g}; font-size: ${m}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`
                <p style="color: ${g}; font-size: ${m}; margin: 0 0 8px 0;">
                    ${t.phone||""}
                    ${t.phone&&t.email?" | ":""}
                    ${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"};">${t.email}</a>`:""}
                </p>
            `:""}
            ${t.copyright?`<p style="color: ${g}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </footer>
    `},a1=(t,l={})=>`
        <div style="padding: 24px 16px; text-align: ${t.align||"center"}; border-top: 1px solid #e5e7eb;">
            ${t.companyName?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.phone||""}${t.phone&&t.email?" | ":""}${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.email}</a>`:""}</p>`:""}
            ${t.unsubscribeText?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 16px 0 0 0;"><a href="${t.unsubscribeUrl||"#"}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.unsubscribeText}</a></p>`:""}
            ${t.copyright?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </div>
    `,c1={page:s1,email:a1},u1=[{name:"companyName",type:"text",label:f("Company Name"),section:f("Company Information"),placeholder:f("Your Company Name")},{name:"address",type:"textarea",label:f("Address"),section:f("Company Information"),rows:2,placeholder:"123 Street Name, City, Country"},{name:"phone",type:"text",label:f("Phone"),section:f("Company Information"),placeholder:"+1 234 567 890"},{name:"email",type:"email",label:f("Email"),section:f("Company Information"),placeholder:"contact@company.com"},{name:"unsubscribeText",type:"text",label:f("Unsubscribe Text"),section:f("Unsubscribe Link"),placeholder:f("Unsubscribe from these emails")},{name:"unsubscribeUrl",type:"url",label:f("Unsubscribe URL"),section:f("Unsubscribe Link"),placeholder:"#unsubscribe"},{name:"copyright",type:"text",label:f("Copyright Text"),section:f("Copyright"),placeholder:" 2024 Your Company. All rights reserved."},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],d1=Me(l1,{block:i1,save:c1,fields:u1}),f1="countdown",g1="1.0.0",p1="Countdown",h1="Advanced",m1="mdi:timer-outline",x1="Add a countdown timer",y1=["countdown","timer","deadline","urgency"],v1=["email","page","campaign"],b1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},w1={targetDate:"",targetTime:"23:59",title:"Sale Ends In",backgroundColor:"#1e293b",textColor:"#ffffff",numberColor:"#635bff",align:"center",expiredMessage:"This offer has expired!"},rf={type:f1,version:g1,label:p1,category:h1,icon:m1,description:x1,keywords:y1,contexts:v1,supports:b1,defaultProps:w1},k1=({props:t,isSelected:l})=>{const[i,s]=y.useState({days:0,hours:0,minutes:0,seconds:0}),[c,d]=y.useState(!1),g=Tr(t.layoutStyles||{});y.useEffect(()=>{const L=()=>{const A=`${t.targetDate}T${t.targetTime||"23:59"}:00`,P=new Date(A)-new Date;return P>0?(d(!1),{days:Math.floor(P/864e5),hours:Math.floor(P/36e5%24),minutes:Math.floor(P/1e3/60%60),seconds:Math.floor(P/1e3%60)}):(d(!0),{days:0,hours:0,minutes:0,seconds:0})};s(L());const E=setInterval(()=>{s(L())},1e3);return()=>clearInterval(E)},[t.targetDate,t.targetTime]);const m={padding:"24px",backgroundColor:t.backgroundColor||"#1e293b",borderRadius:"8px",textAlign:g.textAlign||t.align||"center"},h=_e(m,t.layoutStyles),b={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",marginBottom:"16px",margin:"0 0 16px 0"},x={display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},v={backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px 16px",minWidth:"70px"},N={color:t.numberColor||"#635bff",fontSize:"36px",fontWeight:"700",lineHeight:"1",display:"block"},S={color:t.textColor||"#ffffff",fontSize:"11px",marginTop:"4px",textTransform:"uppercase",letterSpacing:"1px",display:"block"},$={color:t.numberColor||"#635bff",fontSize:"28px",fontWeight:"700"},k={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",padding:"20px 0",margin:0},C={marginTop:"12px",padding:"6px 12px",backgroundColor:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"4px",fontSize:"11px",display:"inline-block"},j=[{value:i.days,label:"Days"},{value:i.hours,label:"Hours"},{value:i.minutes,label:"Mins"},{value:i.seconds,label:"Secs"}];return c?r.jsx("div",{style:h,children:r.jsx("p",{style:k,children:t.expiredMessage||"This offer has expired!"})}):r.jsxs("div",{style:h,children:[t.title&&r.jsx("p",{style:b,children:t.title}),r.jsx("div",{style:x,children:j.map((L,E)=>r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsxs("div",{style:v,children:[r.jsx("span",{style:N,children:String(L.value).padStart(2,"0")}),r.jsx("span",{style:S,children:L.label})]}),E<j.length-1&&r.jsx("span",{style:$,children:":"})]},E))}),r.jsx("div",{style:C,children:" Snapshot at send time (won't update live in email)"})]})},C1=(t,l={})=>{const s=Xt("countdown",t),c=`countdown-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,d=t.targetDate||new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],g=t.targetTime||"23:59",m=`${d}T${g}:00`,h=["padding: 24px",`text-align: ${t.align||"center"}`];t.layoutStyles?.background?.color||h.push(`background-color: ${t.backgroundColor||"#1e293b"}`),t.layoutStyles?.border||h.push("border-radius: 8px");const b=Yt(t,h.join("; ")),x=t.layoutStyles?.typography?.color||t.textColor||"#ffffff";return`
        <div class="${s}" id="${c}" data-target="${m}" data-expired-message="${t.expiredMessage||""}" style="${b}">
            ${t.title?`<p style="color: ${x}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <div style="display: flex; justify-content: center; gap: 16px; flex-wrap: wrap;">
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-days" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${x}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-hours" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${x}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-mins" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${x}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-secs" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${x}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                </div>
            </div>
        </div>
        <script>
            (function() {
                const el = document.getElementById('${c}');
                if (!el) return;
                const target = new Date(el.dataset.target);
                const expiredMsg = el.dataset.expiredMessage;
                function update() {
                    const now = new Date();
                    const diff = Math.max(0, target - now);
                    if (diff <= 0 && expiredMsg) {
                        el.innerHTML = '<p style="color: #ffffff; font-size: 18px; font-weight: 600; margin: 0;">' + expiredMsg + '</p>';
                        return;
                    }
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                    const mins = Math.floor((diff / 1000 / 60) % 60);
                    const secs = Math.floor((diff / 1000) % 60);
                    el.querySelector('.lb-countdown-days').textContent = String(days).padStart(2, '0');
                    el.querySelector('.lb-countdown-hours').textContent = String(hours).padStart(2, '0');
                    el.querySelector('.lb-countdown-mins').textContent = String(mins).padStart(2, '0');
                    el.querySelector('.lb-countdown-secs').textContent = String(secs).padStart(2, '0');
                }
                update();
                setInterval(update, 1000);
            })();
        <\/script>
    `},S1=(t,l={})=>{const i=t.targetDate||new Date(Date.now()+6048e5).toISOString().split("T")[0],s=t.targetTime||"23:59",c=`${i}T${s}:00`,d=new Date(c),m=Math.max(0,d-new Date),h=Math.floor(m/(1e3*60*60*24)),b=Math.floor(m/(1e3*60*60)%24),x=Math.floor(m/1e3/60%60),v=Math.floor(m/1e3%60);return m<=0&&t.expiredMessage?`
            <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
                <p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0;">${t.expiredMessage}</p>
            </div>
        `:`
        <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
            ${t.title?`<p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(h).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(b).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(x).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(v).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
    `},j1={page:C1,email:S1},N1=()=>{const t=new Date;return t.setDate(t.getDate()+7),t.toISOString().split("T")[0]},E1={...rf,defaultProps:{...rf.defaultProps,targetDate:N1()}},$1=[{name:"targetDate",type:"date",label:f("Target Date"),section:f("Countdown Settings"),required:!0,help:f("The date when the countdown ends")},{name:"targetTime",type:"time",label:f("Target Time"),section:f("Countdown Settings"),help:f("The time when the countdown ends")},{name:"title",type:"text",label:f("Title"),section:f("Countdown Settings"),placeholder:f("Sale Ends In")},{name:"expiredMessage",type:"text",label:f("Expired Message"),section:f("Countdown Settings"),placeholder:f("This offer has expired!"),help:f("Message to show when countdown expires")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"numberColor",type:"color",label:f("Number Color"),section:f("Colors")},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],T1=Me(E1,{block:k1,save:j1,fields:$1}),R1="table",A1="1.0.0",L1="Table",B1="Advanced",I1="mdi:table",_1="Add a data table",D1=["table","data","grid","rows","columns"],P1=["email","page","campaign"],M1={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},z1={headers:["Product","Qty","Price"],rows:[["Product Name 1","2","$29.99"],["Product Name 2","1","$49.99"]],showHeader:!0,headerBgColor:"#f1f5f9",headerTextColor:"#1e293b",borderColor:"#e2e8f0",cellPadding:"12px",fontSize:"14px"},O1={type:R1,version:A1,label:L1,category:B1,icon:I1,description:_1,keywords:D1,contexts:P1,supports:M1,defaultProps:z1},H1=({props:t})=>{const i=_e({padding:"8px",borderRadius:"4px"},t.layoutStyles),s={width:"100%",borderCollapse:"collapse",fontSize:t.fontSize||"14px"},c=_e(s,t.layoutStyles),d={backgroundColor:t.headerBgColor||"#f1f5f9",color:t.headerTextColor||"#1e293b",padding:t.cellPadding||"12px",textAlign:"left",fontWeight:"600",borderBottom:`2px solid ${t.borderColor||"#e2e8f0"}`},g={padding:t.cellPadding||"12px",borderBottom:`1px solid ${t.borderColor||"#e2e8f0"}`,color:"#374151"},m=t.headers||[],h=t.rows||[];return r.jsx("div",{style:i,children:r.jsxs("table",{style:c,children:[t.showHeader&&m.length>0&&r.jsx("thead",{children:r.jsx("tr",{children:m.map((b,x)=>r.jsx("th",{style:d,children:b},x))})}),r.jsx("tbody",{children:h.map((b,x)=>r.jsx("tr",{children:b.map((v,N)=>r.jsx("td",{style:g,children:v},N))},x))})]})})},F1=({props:t,onUpdate:l})=>{const i=(C,j)=>{l({...t,[C]:j})},s=(C,j)=>{const L=[...t.headers||[]];L[C]=j,i("headers",L)},c=(C,j,L)=>{const E=[...t.rows||[]];E[C]=[...E[C]],E[C][j]=L,i("rows",E)},d=()=>{const C=[...t.headers||[],"New Column"],j=(t.rows||[]).map(L=>[...L,""]);l({...t,headers:C,rows:j})},g=C=>{const j=[...t.headers||[]];j.splice(C,1);const L=(t.rows||[]).map(E=>{const A=[...E];return A.splice(C,1),A});l({...t,headers:j,rows:L})},m=()=>{const C=[...t.rows||[]],j=(t.headers||[]).length;C.push(Array(j).fill("")),i("rows",C)},h=C=>{const j=[...t.rows||[]];j.splice(C,1),i("rows",j)},b={marginBottom:"16px"},x={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},v={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},N={width:"100%",borderCollapse:"collapse",fontSize:"12px",marginBottom:"12px"},S={width:"100%",padding:"6px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px"},k={...{padding:"6px 12px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",backgroundColor:"#ffffff"},color:"#dc2626",borderColor:"#dc2626",padding:"4px 8px"};return r.jsxs("div",{children:[r.jsxs("div",{style:b,children:[r.jsx("div",{style:v,children:f("Table Data")}),r.jsx("div",{style:{marginBottom:"12px"},children:r.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:t.showHeader!==!1,onChange:C=>i("showHeader",C.target.checked),style:{marginRight:"8px"}}),r.jsx("span",{style:x,children:f("Show Header Row")})]})}),r.jsx("div",{style:{overflowX:"auto",marginBottom:"12px"},children:r.jsxs("table",{style:N,children:[t.showHeader!==!1&&r.jsx("thead",{children:r.jsx("tr",{children:(t.headers||[]).map((C,j)=>r.jsxs("th",{style:{padding:"4px",position:"relative"},children:[r.jsx("input",{type:"text",value:C,onChange:L=>s(j,L.target.value),style:S,placeholder:`Column ${j+1}`}),r.jsx("button",{onClick:()=>g(j),style:{...k,marginTop:"4px",width:"100%"},title:"Remove column",children:r.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})]},j))})}),r.jsx("tbody",{children:(t.rows||[]).map((C,j)=>r.jsxs("tr",{children:[C.map((L,E)=>r.jsx("td",{style:{padding:"4px"},children:r.jsx("input",{type:"text",value:L,onChange:A=>c(j,E,A.target.value),style:S,placeholder:`Cell ${j+1}-${E+1}`})},E)),r.jsx("td",{style:{padding:"4px",width:"40px"},children:r.jsx("button",{onClick:()=>h(j),style:k,title:"Remove row",children:r.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})})]},j))})]})}),r.jsxs("div",{style:{display:"flex",gap:"8px"},children:[r.jsxs("button",{onClick:m,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[r.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Row")]}),r.jsxs("button",{onClick:d,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[r.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Column")]})]})]}),r.jsxs("div",{style:b,children:[r.jsx("div",{style:v,children:f("Style")}),r.jsx("label",{style:x,children:f("Font Size")}),r.jsxs("select",{value:t.fontSize||"14px",onChange:C=>i("fontSize",C.target.value),className:"form-control mb-3",children:[r.jsxs("option",{value:"12px",children:[f("Small")," (12px)"]}),r.jsxs("option",{value:"14px",children:[f("Medium")," (14px)"]}),r.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),r.jsxs("option",{value:"18px",children:[f("X-Large")," (18px)"]})]}),r.jsx("label",{style:x,children:f("Cell Padding")}),r.jsxs("select",{value:t.cellPadding||"12px",onChange:C=>i("cellPadding",C.target.value),className:"form-control",children:[r.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),r.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),r.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),r.jsxs("option",{value:"20px",children:[f("X-Large")," (20px)"]})]})]}),r.jsxs("div",{style:b,children:[r.jsx("div",{style:v,children:f("Colors")}),r.jsx("label",{style:x,children:f("Header Background Color")}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[r.jsx("input",{type:"color",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),className:"form-control",style:{flex:1}})]}),r.jsx("label",{style:x,children:f("Header Text Color")}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[r.jsx("input",{type:"color",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),className:"form-control",style:{flex:1}})]}),r.jsx("label",{style:x,children:f("Border Color")}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("input",{type:"color",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),r.jsx("input",{type:"text",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),className:"form-control",style:{flex:1}})]})]})]})},W1=(t,l={})=>{const s=Xt("table",t),c=(t.headers||[]).map(x=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${x}</th>`).join(""),d=t.layoutStyles?.typography?.color||"#374151",g=(t.rows||[]).map(x=>`<tr>${x.map(v=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: ${d};">${v}</td>`).join("")}</tr>`).join(""),m=t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",b=Yt(t,"overflow-x: auto");return`
        <div class="${s}" style="${b}">
            <table class="lb-table-inner" style="width: 100%; font-size: ${m}; border-collapse: collapse;">
                ${t.showHeader&&c?`<thead><tr>${c}</tr></thead>`:""}
                <tbody>${g}</tbody>
            </table>
        </div>
    `},U1=(t,l={})=>{const i=(t.headers||[]).map(c=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${c}</th>`).join(""),s=(t.rows||[]).map(c=>`<tr>${c.map(d=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: #374151;">${d}</td>`).join("")}</tr>`).join("");return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="font-size: ${t.fontSize||"14px"}; border-collapse: collapse;">
            ${t.showHeader&&i?`<thead><tr>${i}</tr></thead>`:""}
            <tbody>${s}</tbody>
        </table>
    `},V1={page:W1,email:U1},K1=Me(O1,{block:H1,editor:F1,save:V1}),G1="code",X1="1.0.0",Y1="Code",Q1="Advanced",q1="mdi:code-braces",J1="Add a code snippet with syntax highlighting",Z1=["code","snippet","programming","syntax","highlight"],ew=["email","page","campaign"],tw={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},nw={code:`<?php
echo "Hello World";
?>`,language:"php",fontSize:"14px",backgroundColor:"#1e1e1e",textColor:"#d4d4d4",borderRadius:"8px"},rw={type:G1,version:X1,label:Y1,category:Q1,icon:q1,description:J1,keywords:Z1,contexts:ew,supports:tw,defaultProps:nw},ow=t=>{const l=document.createElement("div");return l.textContent=t,l.innerHTML},lw=()=>{if(window.Prism)return Promise.resolve();const t=s=>new Promise((c,d)=>{const g=document.createElement("script");g.src=s,g.onload=c,g.onerror=d,document.head.appendChild(g)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(s)}if(!document.querySelector('link[href*="prism-toolbar"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(s)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((s,c)=>s.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},iw=({props:t,onUpdate:l,isSelected:i})=>{const s=y.useRef(null),c=y.useRef(null),d=y.useRef(t.code),g=y.useRef(t),m=y.useRef(l),[h,b]=y.useState(!!window.Prism);g.current=t,m.current=l,y.useEffect(()=>{window.Prism||lw().then(()=>{b(!0)})},[]),y.useEffect(()=>{!i&&h&&c.current&&window.Prism&&setTimeout(()=>{c.current&&window.Prism&&window.Prism.highlightAllUnder(c.current)},0)},[i,h,t.code,t.language]);const{handleContentChange:x}=il({editorRef:s,contentKey:"code",useInnerHTML:!1,propsRef:g,onUpdateRef:m,lastContentRef:d}),v=y.useCallback(()=>{x()},[x]);y.useEffect(()=>{i&&s.current&&s.current.textContent===""&&(s.current.textContent=t.code||"",d.current=t.code)},[i]),y.useEffect(()=>{i&&s.current&&t.code!==d.current&&(s.current.textContent=t.code||"",d.current=t.code)},[t.code,i]),y.useEffect(()=>{i&&s.current&&requestAnimationFrame(()=>{if(s.current){s.current.focus();const C=document.createRange();C.selectNodeContents(s.current),C.collapse(!1);const j=window.getSelection();j.removeAllRanges(),j.addRange(C)}})},[i]);const N=t.language||"php",S={fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:t.fontSize||"14px",lineHeight:"1.5",borderRadius:t.borderRadius||"8px",backgroundColor:"#1e1e1e",overflowX:"auto"},$=_e(S,t.layoutStyles),k=`
        .code-block-preview pre[class*="language-"] {
            margin: 0 !important;
            padding: 16px !important;
            background: #1e1e1e !important;
            border-radius: ${t.borderRadius||"8px"} !important;
            font-size: ${t.fontSize||"14px"} !important;
        }
        .code-block-preview code[class*="language-"] {
            font-size: inherit !important;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
        }
        .code-block-preview .code-toolbar .toolbar {
            opacity: 1;
            top: 8px;
            right: 8px;
        }
        .code-block-preview .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .code-block-preview .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i?r.jsx("div",{"data-text-editing":"true",className:"relative",children:r.jsx("pre",{ref:s,contentEditable:!0,suppressContentEditableWarning:!0,onInput:v,onBlur:v,style:{...$,padding:"16px",color:"#d4d4d4",whiteSpace:"pre-wrap",wordBreak:"break-word",outline:"none",margin:0,minHeight:"60px"}})},"code-editor"):r.jsxs("div",{ref:c,className:"code-block-preview",style:{position:"relative"},children:[r.jsx("style",{children:k}),r.jsx("pre",{className:`language-${N}`,style:{...$,margin:0},children:r.jsx("code",{className:`language-${N}`,dangerouslySetInnerHTML:{__html:ow(t.code||"Click to add code...")}})})]},"code-preview")},sw=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",aw=(t,l={})=>{const i={code:t.code||"",language:t.language||"plaintext",fontSize:t.fontSize||"14px",backgroundColor:t.backgroundColor||"#1e1e1e",textColor:t.textColor||"#d4d4d4",borderRadius:t.borderRadius||"8px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="code" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},cw=(t,l={})=>{const i=sw(t.code||""),s=t.backgroundColor||"#1e1e1e",c=t.textColor||"#d4d4d4",d=t.fontSize||"14px",g=t.borderRadius||"8px";return`
        <div style="background-color: ${s}; border-radius: ${g}; padding: 16px; overflow-x: auto; font-family: monospace; font-size: ${d}; line-height: 1.5; color: ${c};">
            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${i}</pre>
        </div>
    `},uw={page:aw,email:cw},dw=[{name:"language",type:"select",label:f("Language"),section:f("Settings"),options:[{value:"markup",label:"HTML"},{value:"css",label:"CSS"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"jsx",label:"JSX (React)"},{value:"tsx",label:"TSX (React)"},{value:"php",label:"PHP"},{value:"python",label:"Python"},{value:"bash",label:"Bash / Shell"},{value:"sql",label:"SQL"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"scss",label:"SCSS"},{value:"plaintext",label:"Plain Text"}]},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:f("X-Small")+" (12px)"},{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"}]}],fw=Me(rw,{block:iw,save:uw,fields:dw}),gw="preformatted",pw="1.0.0",hw="Preformatted",mw="Content",xw="mdi:format-text-wrapping-wrap",yw="Add preformatted text with monospace font",vw=["preformatted","pre","monospace","fixed","code"],bw=["email","page","campaign"],ww={layout:!0,html:!0,duplicate:!0,remove:!0},kw={text:"Write preformatted text...",backgroundColor:"#f5f5f5",textColor:"#333333",borderColor:"#e0e0e0",borderRadius:"4px"},Cw={type:gw,version:pw,label:hw,category:mw,icon:xw,description:yw,keywords:vw,contexts:bw,supports:ww,defaultProps:kw},Sw=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:s})=>{const c=y.useRef(null),d=y.useRef(t.text),g=y.useRef(t),m=y.useRef(l);g.current=t,m.current=l;const{handleContentChange:h}=il({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:g,onUpdateRef:m,lastContentRef:d}),b=y.useCallback(()=>{h()},[h]),x=y.useCallback(S=>{m.current({...g.current,align:S})},[]);y.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",d.current=t.text)},[i]),y.useEffect(()=>{i&&c.current&&t.text!==d.current&&(c.current.innerHTML=t.text||"",d.current=t.text)},[t.text,i]),y.useEffect(()=>{i&&s?s({editorRef:c,isContentEditable:!0,align:g.current.align||"left",onAlignChange:x}):!i&&s&&s(null)},[i,s,x]),y.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const S=document.createRange();S.selectNodeContents(c.current),S.collapse(!1);const $=window.getSelection();$.removeAllRanges(),$.addRange(S)}})},[i]);const N=_e({fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:"14px",lineHeight:"1.6",padding:"16px",borderRadius:"4px",backgroundColor:"#f5f5f5",color:"#333333",border:"1px solid #e0e0e0",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},t.layoutStyles);return i?r.jsx("div",{"data-text-editing":"true",className:"relative",children:r.jsx("pre",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:b,onBlur:b,style:{...N,border:"2px solid var(--color-primary, #635bff)",outline:"none",margin:0,minHeight:"60px"}})}):r.jsx("pre",{style:{...N,margin:0},dangerouslySetInnerHTML:{__html:t.text||"Write preformatted text..."}})},jw=t=>{const i=Xt("preformatted",t),s=t.text||"",c=["overflow-x: auto","white-space: pre-wrap","word-wrap: break-word"];t.layoutStyles?.typography?.fontFamily||c.push('font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace'),t.layoutStyles?.typography?.fontSize||c.push("font-size: 14px"),t.layoutStyles?.typography?.lineHeight||c.push("line-height: 1.6"),t.layoutStyles?.typography?.color||c.push("color: #333333"),t.layoutStyles?.background?.color||c.push("background-color: #f5f5f5"),t.layoutStyles?.border?.width||c.push("border: 1px solid #e0e0e0"),t.layoutStyles?.border?.radius||c.push("border-radius: 4px"),t.layoutStyles?.spacing?.padding||c.push("padding: 16px");const d=Yt(t,c.join("; "));return`<pre class="${i}" style="margin: 0; ${d}">${s}</pre>`},Nw=t=>{const l=t.text||"",i=t.layoutStyles||{},s=i.background?.color||"#f5f5f5",c=i.typography?.color||"#333333",d=i.typography?.fontSize||"14px",g=i.typography?.lineHeight||"1.6",m=i.spacing?.padding||"16px",h=i.border?.radius||"4px",b=i.border?.width||"1px",x=i.border?.color||"#e0e0e0";return`<pre style="margin: 0; background-color: ${s}; border-radius: ${h}; padding: ${m}; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: ${d}; line-height: ${g}; color: ${c}; border: ${b} solid ${x};">${l}</pre>`},Ew={page:jw,email:Nw},$w=[{name:"borderRadius",type:"text",label:f("Border Radius"),section:f("Style"),placeholder:"4px"},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Colors")}],Tw=Me(Cw,{block:Sw,save:Ew,fields:$w}),Rw="accordion",Aw="1.0.0",Lw="Accordion",Bw="Content",Iw="mdi:arrow-collapse-vertical",_w="Add collapsible accordion sections",Dw=["accordion","collapse","expand","faq"],Pw=["email","page","campaign"],Mw={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},zw={items:[{title:"Accordion Item 1",content:"Content for the first accordion item."},{title:"Accordion Item 2",content:"Content for the second accordion item."}],independentToggle:!1,transitionDuration:200,headerBgColor:"#ffffff",headerBgColorActive:"#f9fafb",headerPadding:"16px",titleColor:"#1f2937",titleFontSize:"16px",titleFontWeight:"600",contentBgColor:"#ffffff",contentColor:"#4b5563",contentFontSize:"14px",contentPadding:"16px",iconColor:"#6b7280",iconPosition:"right",borderColor:"#e5e7eb",borderRadius:"8px"},Ow=[{name:"items",type:"array",label:"Accordion Items"},{name:"independentToggle",type:"boolean",label:"Independent Toggle"},{name:"transitionDuration",type:"number",label:"Transition Duration (ms)"},{name:"headerBgColor",type:"color",label:"Header Background Color"},{name:"headerBgColorActive",type:"color",label:"Header Active Background Color"},{name:"headerPadding",type:"text",label:"Header Padding"},{name:"titleColor",type:"color",label:"Title Color"},{name:"titleFontSize",type:"text",label:"Title Font Size"},{name:"titleFontWeight",type:"select",label:"Title Font Weight",options:[{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi-bold (600)"},{value:"700",label:"Bold (700)"}]},{name:"contentBgColor",type:"color",label:"Content Background Color"},{name:"contentColor",type:"color",label:"Content Color"},{name:"contentFontSize",type:"text",label:"Content Font Size"},{name:"contentPadding",type:"text",label:"Content Padding"},{name:"iconColor",type:"color",label:"Icon Color"},{name:"iconPosition",type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}]},{name:"borderColor",type:"color",label:"Border Color"},{name:"borderRadius",type:"text",label:"Border Radius"}],Hw={type:Rw,version:Aw,label:Lw,category:Bw,icon:Iw,description:_w,keywords:Dw,contexts:Pw,supports:Mw,defaultProps:zw,properties:Ow},Fw=({props:t,isSelected:l,onUpdate:i})=>{const[s,c]=y.useState([0]),[d,g]=y.useState(null),m=y.useRef(null),h=y.useRef(t),b=y.useRef(i);h.current=t,b.current=i;const x=t.items||[{title:"Accordion Item 1",content:"Content for the first accordion item."}],v=V=>{t.independentToggle?c(Y=>Y.includes(V)?Y.filter(O=>O!==V):[...Y,V]):c(Y=>Y.includes(V)?[]:[V])},N=()=>{const V=[...x,{title:"New Item",content:"Content goes here..."}];b.current({...h.current,items:V})},S=(V,Y)=>{if(Y.stopPropagation(),x.length<=1)return;const O=x.filter((ee,se)=>se!==V);b.current({...h.current,items:O}),c(ee=>ee.filter(se=>se!==V).map(se=>se>V?se-1:se))},$=(V,Y,O)=>{O.stopPropagation(),g({index:V,field:Y})},k=y.useCallback(()=>{if(m.current&&d){const V=m.current.innerText,Y=[...h.current.items];Y[d.index]={...Y[d.index],[d.field]:V},b.current({...h.current,items:Y})}},[d]),C=()=>{k(),g(null)},j=V=>{V.key==="Enter"&&d?.field==="title"?(V.preventDefault(),C()):V.key==="Escape"&&g(null)};y.useEffect(()=>{if(d&&m.current){m.current.focus();const V=document.createRange();V.selectNodeContents(m.current),V.collapse(!1);const Y=window.getSelection();Y.removeAllRanges(),Y.addRange(V)}},[d]);const E=_e({padding:"8px",borderRadius:"8px"},t.layoutStyles),A={border:`1px solid ${t.borderColor||"#e5e7eb"}`,borderRadius:t.borderRadius||"8px",overflow:"hidden"},R=V=>({borderBottom:V?"none":`1px solid ${t.borderColor||"#e5e7eb"}`}),M=V=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.headerPadding||"16px",backgroundColor:V?t.headerBgColorActive||t.headerBgColor||"#f9fafb":t.headerBgColor||"#ffffff",cursor:"pointer",transition:"background-color 0.2s",userSelect:"none"}),P={fontWeight:t.titleFontWeight||"600",fontSize:t.titleFontSize||"16px",color:t.titleColor||"#1f2937",margin:0,flex:1},H={padding:t.contentPadding||"16px",backgroundColor:t.contentBgColor||"#ffffff",color:t.contentColor||"#4b5563",fontSize:t.contentFontSize||"14px",lineHeight:"1.6"},G=V=>({color:t.iconColor||"#6b7280",transition:`transform ${t.transitionDuration||200}ms ease`,transform:V?"rotate(180deg)":"rotate(0deg)",flexShrink:0,marginLeft:"12px"});return r.jsxs("div",{style:E,children:[r.jsx("div",{style:A,children:x.map((V,Y)=>{const O=s.includes(Y),ee=Y===x.length-1,se=d?.index===Y&&d?.field==="title",ce=d?.index===Y&&d?.field==="content";return r.jsxs("div",{style:R(ee),children:[r.jsxs("div",{style:M(O),onClick:()=>!d&&v(Y),children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,gap:"8px"},children:[t.iconPosition==="left"&&r.jsx("span",{style:{...G(O),marginLeft:0,marginRight:"12px"},children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l&&se?r.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:j,onClick:he=>he.stopPropagation(),style:{...P,outline:"none",border:"1px solid var(--color-primary, #635bff)",borderRadius:"4px",padding:"4px 8px",backgroundColor:"white"},children:V.title}):r.jsx("h3",{style:P,onDoubleClick:he=>l&&$(Y,"title",he),children:V.title})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l&&x.length>1&&r.jsx("button",{type:"button",onClick:he=>S(Y,he),style:{padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#ef4444",opacity:.7},title:"Delete item",children:r.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})}),t.iconPosition!=="left"&&r.jsx("span",{style:G(O),children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),r.jsx("div",{style:{maxHeight:O?"1000px":"0",overflow:"hidden",transition:`max-height ${t.transitionDuration||200}ms ease-in-out`},children:l&&ce?r.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:he=>he.key==="Escape"&&C(),style:{...H,outline:"none",border:"2px solid var(--color-primary, #635bff)",minHeight:"80px"},children:V.content}):r.jsx("div",{style:H,onDoubleClick:he=>l&&$(Y,"content",he),children:V.content||"Click to add content..."})})]},Y)})}),l&&r.jsxs("button",{type:"button",onClick:N,style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"12px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[r.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),r.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Accordion Item"]}),l&&r.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:"Double-click on title or content to edit"})]})},Ww=({props:t,onUpdate:l})=>{const i=(h,b)=>{l({...t,[h]:b})},s={marginBottom:"16px"},c={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},d={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},g={display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},m={width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"};return r.jsxs("div",{children:[r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Behavior")}),r.jsxs("label",{style:{...c,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[r.jsx("input",{type:"checkbox",checked:t.independentToggle||!1,onChange:h=>i("independentToggle",h.target.checked),style:{cursor:"pointer"}}),r.jsx("span",{children:f("Allow Multiple Items Open")})]}),r.jsxs("div",{style:{marginTop:"12px"},children:[r.jsx("label",{style:c,children:f("Transition Duration (ms)")}),r.jsx("input",{type:"number",value:t.transitionDuration||200,onChange:h=>i("transitionDuration",parseInt(h.target.value)||200),className:"form-control",min:"0",max:"1000",step:"50"})]})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Header Styling")}),r.jsx("label",{style:c,children:f("Background Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.headerBgColor||"#ffffff",onChange:h=>i("headerBgColor",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.headerBgColor||"#ffffff",onChange:h=>i("headerBgColor",h.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),r.jsx("label",{style:c,children:f("Active Background Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.headerBgColorActive||"#f9fafb",onChange:h=>i("headerBgColorActive",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.headerBgColorActive||"#f9fafb",onChange:h=>i("headerBgColorActive",h.target.value),className:"form-control",style:{flex:1},placeholder:"#f9fafb"})]}),r.jsx("label",{style:c,children:f("Padding")}),r.jsx("input",{type:"text",value:t.headerPadding||"16px",onChange:h=>i("headerPadding",h.target.value),className:"form-control",placeholder:"16px"})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Title Styling")}),r.jsx("label",{style:c,children:f("Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.titleColor||"#1f2937",onChange:h=>i("titleColor",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.titleColor||"#1f2937",onChange:h=>i("titleColor",h.target.value),className:"form-control",style:{flex:1},placeholder:"#1f2937"})]}),r.jsx("label",{style:c,children:f("Font Size")}),r.jsxs("select",{value:t.titleFontSize||"16px",onChange:h=>i("titleFontSize",h.target.value),className:"form-control",style:{marginBottom:"12px"},children:[r.jsx("option",{value:"12px",children:"12px"}),r.jsx("option",{value:"14px",children:"14px"}),r.jsx("option",{value:"16px",children:"16px"}),r.jsx("option",{value:"18px",children:"18px"}),r.jsx("option",{value:"20px",children:"20px"}),r.jsx("option",{value:"24px",children:"24px"})]}),r.jsx("label",{style:c,children:f("Font Weight")}),r.jsxs("select",{value:t.titleFontWeight||"600",onChange:h=>i("titleFontWeight",h.target.value),className:"form-control",children:[r.jsxs("option",{value:"400",children:[f("Normal")," (400)"]}),r.jsxs("option",{value:"500",children:[f("Medium")," (500)"]}),r.jsxs("option",{value:"600",children:[f("Semi-bold")," (600)"]}),r.jsxs("option",{value:"700",children:[f("Bold")," (700)"]})]})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Content Styling")}),r.jsx("label",{style:c,children:f("Background Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.contentBgColor||"#ffffff",onChange:h=>i("contentBgColor",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.contentBgColor||"#ffffff",onChange:h=>i("contentBgColor",h.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),r.jsx("label",{style:c,children:f("Text Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.contentColor||"#4b5563",onChange:h=>i("contentColor",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.contentColor||"#4b5563",onChange:h=>i("contentColor",h.target.value),className:"form-control",style:{flex:1},placeholder:"#4b5563"})]}),r.jsx("label",{style:c,children:f("Font Size")}),r.jsxs("select",{value:t.contentFontSize||"14px",onChange:h=>i("contentFontSize",h.target.value),className:"form-control",style:{marginBottom:"12px"},children:[r.jsx("option",{value:"12px",children:"12px"}),r.jsx("option",{value:"14px",children:"14px"}),r.jsx("option",{value:"16px",children:"16px"}),r.jsx("option",{value:"18px",children:"18px"})]}),r.jsx("label",{style:c,children:f("Padding")}),r.jsx("input",{type:"text",value:t.contentPadding||"16px",onChange:h=>i("contentPadding",h.target.value),className:"form-control",placeholder:"16px"})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Icon")}),r.jsx("label",{style:c,children:f("Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.iconColor||"#6b7280",onChange:h=>i("iconColor",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.iconColor||"#6b7280",onChange:h=>i("iconColor",h.target.value),className:"form-control",style:{flex:1},placeholder:"#6b7280"})]}),r.jsx("label",{style:c,children:f("Position")}),r.jsxs("select",{value:t.iconPosition||"right",onChange:h=>i("iconPosition",h.target.value),className:"form-control",children:[r.jsx("option",{value:"left",children:f("Left")}),r.jsx("option",{value:"right",children:f("Right")})]})]}),r.jsxs("div",{style:s,children:[r.jsx("div",{style:d,children:f("Border")}),r.jsx("label",{style:c,children:f("Color")}),r.jsxs("div",{style:g,children:[r.jsx("input",{type:"color",value:t.borderColor||"#e5e7eb",onChange:h=>i("borderColor",h.target.value),style:m}),r.jsx("input",{type:"text",value:t.borderColor||"#e5e7eb",onChange:h=>i("borderColor",h.target.value),className:"form-control",style:{flex:1},placeholder:"#e5e7eb"})]}),r.jsx("label",{style:c,children:f("Border Radius")}),r.jsx("input",{type:"text",value:t.borderRadius||"8px",onChange:h=>i("borderRadius",h.target.value),className:"form-control",placeholder:"8px"})]}),r.jsxs("div",{style:{padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px",fontSize:"12px",color:"#6b7280",lineHeight:"1.5"},children:[r.jsx("strong",{style:{color:"#374151"},children:f("Tip:")})," ",f('Double-click on titles or content in the canvas to edit them directly. Use the "Add Accordion Item" button to add more items.')]})]})},Uw=(t,l={})=>{const s=Xt("accordion",t),c=t.items||[{title:"Accordion Item",content:"Content goes here..."}],d=`accordion-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,g=t.layoutStyles?.border?.color||t.borderColor||"#e5e7eb",m=t.layoutStyles?.border?.radius||t.borderRadius||"8px",h=t.headerBgColor||"#ffffff",b=t.headerBgColorActive||"#f9fafb",x=t.headerPadding||"16px",v=t.layoutStyles?.typography?.color||t.titleColor||"#1f2937",N=t.layoutStyles?.typography?.fontSize||t.titleFontSize||"16px",S=t.layoutStyles?.typography?.fontWeight||t.titleFontWeight||"600",$=t.contentBgColor||"#ffffff",k=t.contentColor||"#4b5563",C=t.contentFontSize||"14px",j=t.contentPadding||"16px",L=t.iconColor||"#6b7280",E=t.iconPosition||"right",A=t.transitionDuration||200,R=t.independentToggle||!1,M=c.map((G,V)=>{const Y=V===c.length-1,O=`${d}-item-${V}`;return`
            <div class="lb-accordion-item" data-index="${V}" style="border-bottom: ${Y?"none":`1px solid ${g}`};">
                <button type="button" class="lb-accordion-header" data-target="${O}" style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: ${x}; background-color: ${h}; border: none; cursor: pointer; text-align: left; transition: background-color 0.2s; flex-direction: ${E==="left"?"row-reverse":"row"};">
                    <span style="font-weight: ${S}; font-size: ${N}; color: ${v}; flex: 1;">${G.title}</span>
                    <span class="lb-accordion-icon" style="color: ${L}; transition: transform ${A}ms ease; ${E==="left"?"margin-right: 12px;":"margin-left: 12px;"}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </span>
                </button>
                <div id="${O}" class="lb-accordion-content" style="max-height: 0; overflow: hidden; transition: max-height ${A}ms ease-in-out;">
                    <div style="padding: ${j}; background-color: ${$}; color: ${k}; font-size: ${C}; line-height: 1.6;">
                        ${G.content}
                    </div>
                </div>
            </div>
        `}).join(""),P=["overflow: hidden"];t.layoutStyles?.border||(P.push(`border: 1px solid ${g}`),P.push(`border-radius: ${m}`));const H=Yt(t,P.join("; "));return`
        <div class="${s}" id="${d}" data-independent="${R}" style="${H}">
            ${M}
        </div>
        <script>
            (function() {
                const accordion = document.getElementById('${d}');
                if (!accordion) return;
                const isIndependent = accordion.dataset.independent === 'true';
                const headers = accordion.querySelectorAll('.lb-accordion-header');

                headers.forEach(header => {
                    header.addEventListener('click', function() {
                        const targetId = this.dataset.target;
                        const content = document.getElementById(targetId);
                        const icon = this.querySelector('.lb-accordion-icon');
                        const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

                        if (!isIndependent) {
                            // Close all other items
                            accordion.querySelectorAll('.lb-accordion-content').forEach(c => {
                                c.style.maxHeight = '0px';
                            });
                            accordion.querySelectorAll('.lb-accordion-icon').forEach(i => {
                                i.style.transform = 'rotate(0deg)';
                            });
                            accordion.querySelectorAll('.lb-accordion-header').forEach(h => {
                                h.style.backgroundColor = '${h}';
                            });
                        }

                        if (isOpen) {
                            content.style.maxHeight = '0px';
                            icon.style.transform = 'rotate(0deg)';
                            this.style.backgroundColor = '${h}';
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(180deg)';
                            this.style.backgroundColor = '${b}';
                        }
                    });
                });

                // Open first item by default
                const firstHeader = headers[0];
                if (firstHeader) {
                    firstHeader.click();
                }
            })();
        <\/script>
    `},Vw=(t,l={})=>{const i=t.items||[{title:"Accordion Item",content:"Content goes here..."}],s=t.borderColor||"#e5e7eb",c=t.borderRadius||"8px",d=t.headerBgColor||"#ffffff",g=t.headerPadding||"16px",m=t.titleColor||"#1f2937",h=t.titleFontSize||"16px",b=t.titleFontWeight||"600",x=t.contentBgColor||"#ffffff",v=t.contentColor||"#4b5563",N=t.contentFontSize||"14px",S=t.contentPadding||"16px",$=t.iconColor||"#6b7280",k=i.map((C,j)=>`
            <div style="border-bottom: ${j===i.length-1?"none":`1px solid ${s}`};">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: ${g}; background-color: ${d};">
                    <span style="font-weight: ${b}; font-size: ${h}; color: ${m};">${C.title}</span>
                    <span style="color: ${$}; font-size: 12px;">&#9660;</span>
                </div>
                <div style="padding: ${S}; background-color: ${x}; color: ${v}; font-size: ${N}; line-height: 1.6;">
                    ${C.content}
                </div>
            </div>
        `).join("");return`
        <div style="border: 1px solid ${s}; border-radius: ${c}; overflow: hidden;">
            ${k}
        </div>
    `},Kw={page:Uw,email:Vw},Gw=Me(Hw,{block:Fw,editor:Ww,save:Kw}),Xw="toc",Yw="1.0.0",Qw="Table of Contents",qw="Content",Jw="mdi:table-of-contents",Zw="Auto-generated table of contents from headings",ek=["toc","table of contents","navigation","headings","index"],tk=["page"],nk={colors:!0,align:!1,layout:!0,html:!0,duplicate:!0,remove:!0},rk={title:"Table of Contents",showTitle:!0,minLevel:"h1",maxLevel:"h4",listStyle:"bullet",backgroundColor:"#f8fafc",borderColor:"#e2e8f0",titleColor:"#1e293b",linkColor:"#3b82f6"},ok={type:Xw,version:Yw,label:Qw,category:qw,icon:Jw,description:Zw,keywords:ek,contexts:tk,supports:nk,defaultProps:rk},lk=(t,l,i)=>{const s=[],c=d=>{if(Array.isArray(d))for(const g of d){if(g.type==="heading"&&g.props?.text){const m=g.props.level||"h2",h=parseInt(m.replace("h",""),10);if(h>=l&&h<=i){let b=g.props.text,x;do x=b,b=b.replace(/<[^>]*>/g,"");while(b!==x);b.trim()&&s.push({id:g.id,level:h,text:b.trim()})}}if(g.props?.children&&Array.isArray(g.props.children))for(const m of g.props.children)Array.isArray(m)&&c(m)}};return c(t),s};function ik({props:t,isSelected:l}){const{title:i=f("Table of Contents"),showTitle:s=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:g="bullet",backgroundColor:m="#f8fafc",borderColor:h="#e2e8f0",titleColor:b="#1e293b",linkColor:x="#635bff",layoutStyles:v}=t,{state:N}=Ui(),S=N.blocks,$=parseInt(c.replace("h",""),10),k=parseInt(d.replace("h",""),10),C=y.useMemo(()=>lk(S,$,k),[S,$,k]),j=_e({backgroundColor:m,border:`1px solid ${h}`,borderRadius:"8px",padding:"16px 20px"},v),L={color:b,fontSize:"18px",fontWeight:"600",marginBottom:"12px",margin:0,paddingBottom:"8px",borderBottom:`1px solid ${h}`},E={margin:0,padding:0,listStyle:g==="none"?"none":g==="number"?"decimal":"disc",paddingLeft:g==="none"?"0":"20px"},A=P=>({marginLeft:`${(P-$)*16}px`,marginBottom:"6px",lineHeight:"1.6"}),R={color:x,textDecoration:"none"},M=g==="number"?"ol":"ul";return r.jsxs("div",{style:j,children:[s&&r.jsx("h4",{style:L,children:i}),r.jsx("nav",{children:r.jsx(M,{style:E,children:C.length===0?r.jsx("li",{style:{color:"#94a3b8",fontStyle:"italic"},children:f("No headings found.")}):C.map(P=>r.jsx("li",{style:A(P.level),children:r.jsx("span",{style:R,children:P.text})},P.id))})})]})}const Wf=t=>Array.isArray(t)?t.map(l=>{const i={type:l.type,id:l.id};return l.type==="heading"&&l.props&&(i.props={text:l.props.text,level:l.props.level}),l.props?.children&&Array.isArray(l.props.children)&&(i.props=i.props||{},i.props.children=l.props.children.map(s=>Array.isArray(s)?Wf(s):s)),i}):[],sk=(t,l={})=>{const{title:i="Table of Contents",showTitle:s=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:g="bullet",backgroundColor:m="#f8fafc",borderColor:h="#e2e8f0",titleColor:b="#1e293b",linkColor:x="#635bff"}=t,v=Wf(l.allBlocks||[]),N={title:i,showTitle:s,minLevel:c,maxLevel:d,listStyle:g,backgroundColor:m,borderColor:h,titleColor:b,linkColor:x,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||"",_allBlocks:v};return`<div data-lara-block="toc" data-props='${JSON.stringify(N).replace(/'/g,"&#39;")}'></div>`},ak=()=>null,ck={page:sk,email:ak},uk=[{name:"title",type:"text",label:f("Title"),section:f("Content"),placeholder:f("Table of Contents")},{name:"showTitle",type:"toggle",label:f("Show Title"),section:f("Content")},{name:"minLevel",type:"select",label:f("Minimum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"maxLevel",type:"select",label:f("Maximum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"listStyle",type:"select",label:f("List Style"),section:f("Style"),options:[{value:"bullet",label:f("Bullet")},{value:"number",label:f("Numbered")},{value:"none",label:f("None")}]},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"titleColor",type:"color",label:f("Title Color"),section:f("Style")},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],dk=Me(ok,{block:ik,save:ck,fields:uk}),fk="time-to-read",gk="1.0.0",pk="Time to Read",hk="Content",mk="mdi:clock-outline",xk="Display estimated reading time for the content",yk=["time","read","reading","minutes","duration","estimate"],vk=["page"],bk={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},wk={wordsPerMinute:200,displayAsRange:!0,prefix:"",suffix:"",align:"left",color:"#666666",fontSize:"14px",iconColor:"#666666",showIcon:!0},kk={type:fk,version:gk,label:pk,category:hk,icon:mk,description:xk,keywords:yk,contexts:vk,supports:bk,defaultProps:wk},Ck=({props:t})=>{const i={display:"flex",alignItems:"center",gap:"6px",textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"left",justifyContent:t.align==="center"?"center":t.align==="right"?"flex-end":"flex-start"},s=_e(i,t.layoutStyles),c={color:t.layoutStyles?.typography?.color||t.color||"#666666",fontSize:t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",lineHeight:"1.4"},d={color:t.iconColor||t.color||"#666666",width:"16px",height:"16px",flexShrink:0},g=()=>{const m=t.prefix||"",h=t.suffix||"";return t.displayAsRange?`${m}1-2 minutes${h}`:`${m}2 minutes${h}`};return r.jsxs("div",{style:s,children:[t.showIcon&&r.jsxs("svg",{style:d,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("polyline",{points:"12 6 12 12 16 14"})]}),r.jsx("span",{style:c,children:g()})]})},Sk=(t,l={})=>{const i={wordsPerMinute:t.wordsPerMinute||200,displayAsRange:t.displayAsRange!==!1,prefix:t.prefix||"",suffix:t.suffix||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"14px",iconColor:t.iconColor||"#666666",showIcon:t.showIcon!==!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="time-to-read" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},jk=(t,l={})=>"",Nk={page:Sk,email:jk},Ek=[{name:"displayAsRange",type:"toggle",label:f("Display as range"),section:f("Settings"),help:f('Show reading time as a range (e.g., "1-2 minutes" instead of "2 minutes")')},{name:"wordsPerMinute",type:"number",label:f("Words per minute"),section:f("Settings"),help:f("Average reading speed (default: 200 WPM)"),min:100,max:400,step:10},{name:"showIcon",type:"toggle",label:f("Show clock icon"),section:f("Settings")},{name:"prefix",type:"text",label:f("Prefix text"),section:f("Labels"),placeholder:f('e.g., "Reading time: "')},{name:"suffix",type:"text",label:f("Suffix text"),section:f("Labels"),placeholder:f('e.g., " read"')},{name:"color",type:"color",label:f("Text Color"),section:f("Colors")},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Colors")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"}]},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],$k=Me(kk,{block:Ck,save:Nk,fields:Ek}),Tk="markdown",Rk="1.1.0",Ak="Markdown",Lk="Advanced",Bk="mdi:language-markdown",Ik="Write markdown directly or fetch from external URLs (GitHub, GitLab, etc.)",_k=["markdown","md","github","documentation","external","url","content","write"],Dk=["page"],Pk={layout:!0,html:!1,duplicate:!0,remove:!0},Mk={sourceType:"content",content:"",url:"",showSource:!0,cacheEnabled:!0},zk={type:Tk,version:Rk,label:Ak,category:Lk,icon:Bk,description:Ik,keywords:_k,contexts:Dk,supports:Pk,defaultProps:Mk},Ok=()=>{if(window.Prism)return Promise.resolve();const t=s=>new Promise((c,d)=>{const g=document.createElement("script");g.src=s,g.onload=c,g.onerror=d,document.head.appendChild(g)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(s)}if(!document.querySelector('link[href*="prism-toolbar"]')){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(s)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((s,c)=>s.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},Hk=({props:t,onUpdate:l,isSelected:i})=>{const[s,c]=y.useState(!1),[d,g]=y.useState(null),[m,h]=y.useState(""),[b,x]=y.useState(!1),[v,N]=y.useState(!1),[S,$]=y.useState(""),k=y.useRef(""),C=y.useRef(""),j=y.useRef(null),L=y.useRef(null);y.useRef(t.content);const E=t.sourceType||"content",A=y.useCallback(async()=>{const O=E==="content"?t.content:S;if(O)try{await navigator.clipboard.writeText(O),N(!0),setTimeout(()=>N(!1),2e3)}catch(ee){console.error("Failed to copy:",ee)}},[E,t.content,S]);y.useEffect(()=>{m&&j.current&&(E==="url"||!i)&&Ok().then(()=>{setTimeout(()=>{window.Prism&&j.current&&window.Prism.highlightAllUnder(j.current)},0)})},[m,i,E]);const R=y.useCallback(async O=>{if(!O){h("");return}c(!0),g(null);try{const ee=await fetch("/api/admin/builder/markdown/convert",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({content:O})}),se=await ee.json();if(!ee.ok||!se.success)throw new Error(se.error||"Failed to convert markdown");h(se.html),C.current=O}catch(ee){g(ee.message),h("")}finally{c(!1)}},[]),M=y.useCallback(async(O,ee=!1)=>{if(!O){h(""),g(null);return}c(!0),g(null);try{const se=await fetch("/api/admin/builder/markdown/fetch",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({url:O,refresh:ee})}),ce=await se.json();if(!se.ok||!ce.success)throw new Error(ce.error||"Failed to fetch markdown");h(ce.html),x(ce.cached||!1),$(ce.markdown||""),k.current=O}catch(se){g(se.message),h("")}finally{c(!1)}},[]);y.useEffect(()=>{E==="url"&&t.url&&t.url!==k.current?M(t.url,!1):E==="content"&&t.content&&t.content!==C.current&&R(t.content)},[E,t.url,t.content,M,R]),y.useEffect(()=>{!i&&E==="content"&&t.content&&t.content!==C.current&&R(t.content)},[i,E,t.content,R]);const P=y.useCallback(O=>{const ee=O.target.value;l({...t,content:ee})},[t,l]);y.useEffect(()=>{i&&E==="content"&&L.current&&L.current.focus()},[i,E]);const H=()=>{E==="url"&&t.url&&M(t.url,!0)},V=_e({borderRadius:"4px",minHeight:"100px"},t.layoutStyles),Y=`
        .markdown-content {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #1f2937;
        }
        .markdown-content h1 { font-size: 2em; font-weight: 700; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h2 { font-size: 1.5em; font-weight: 600; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h3 { font-size: 1.25em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content h4 { font-size: 1em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content p { margin: 0 0 1em; }
        .markdown-content ul { margin: 0 0 1em; padding-left: 2em; list-style-type: disc; }
        .markdown-content ol { margin: 0 0 1em; padding-left: 2em; list-style-type: decimal; }
        .markdown-content li { margin: 0.25em 0; display: list-item; }
        .markdown-content code { background: #f3f4f6; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.875em; font-family: ui-monospace, monospace; color: #e83e8c; }
        .markdown-content pre[class*="language-"] { background: #1e1e1e; padding: 1em !important; border-radius: 8px; overflow-x: auto; margin: 0 0 1em; }
        .markdown-content pre code { display: block; background: transparent !important; font-size: 0.875em; line-height: 1.5; }
        .markdown-content blockquote { border-left: 4px solid #6366f1; padding-left: 1em; margin: 0 0 1em; color: #6b7280; font-style: italic; }
        .markdown-content a { color: #6366f1; text-decoration: underline; }
        .markdown-content a:hover { color: #4f46e5; }
        .markdown-content table { border-collapse: collapse; width: 100%; margin: 0 0 1em; }
        .markdown-content th, .markdown-content td { border: 1px solid #e5e7eb; padding: 0.5em 1em; text-align: left; }
        .markdown-content th { background: #f9fafb; font-weight: 600; }
        .markdown-content hr { border: none; border-top: 1px solid #e5e7eb; margin: 2em 0; }
        .markdown-content img { max-width: 100%; height: auto; border-radius: 8px; }
        .markdown-content input[type="checkbox"] { margin-right: 0.5em; }

        /* Copy button styling for Prism */
        .markdown-content .code-toolbar .toolbar { opacity: 1; }
        .markdown-content .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .markdown-content .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i&&E==="content"?r.jsx("div",{style:V,"data-text-editing":"true",children:r.jsx("textarea",{ref:L,value:t.content||"",onChange:P,placeholder:`# Hello World

Write your **markdown** content here...

- Item 1
- Item 2

\`\`\`php
echo 'Hello';
\`\`\``,className:"w-full px-4 py-3 border-0 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",style:{minHeight:"200px",resize:"vertical",lineHeight:"1.6"}})}):r.jsxs("div",{style:V,children:[r.jsx("style",{children:Y}),s&&r.jsx("div",{className:"p-6 text-center",children:r.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[r.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:E==="url"?"Fetching markdown...":"Converting markdown..."})]})}),d&&!s&&r.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[r.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"20",height:"20"}),r.jsx("span",{className:"text-sm font-medium",children:"Error loading markdown"})]}),r.jsx("p",{className:"text-xs text-red-500 mt-1",children:d}),E==="url"&&r.jsx("button",{type:"button",onClick:H,className:"mt-2 text-xs text-red-600 underline hover:text-red-700",children:"Try again"})]}),!s&&!d&&m&&r.jsxs("div",{className:"relative",children:[i&&(t.content||S)&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsxs("button",{type:"button",onClick:A,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-all ${v?"bg-green-100 text-green-700 border border-green-200":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,title:"Copy raw markdown",children:[r.jsx("iconify-icon",{icon:v?"mdi:check":"mdi:content-copy",width:"14",height:"14"}),v?"Copied!":"Copy Markdown"]})}),t.showSource&&E==="url"&&t.url&&r.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-gray-500 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md",children:[r.jsxs("div",{className:"flex items-center gap-2 truncate",children:[r.jsx("iconify-icon",{icon:"mdi:link-variant",width:"14",height:"14"}),r.jsx("span",{className:"truncate",title:t.url,children:t.url})]}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-2",children:[b&&r.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[r.jsx("iconify-icon",{icon:"mdi:cached",width:"14",height:"14"}),"cached"]}),r.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),H()},className:"text-gray-500 hover:text-gray-700 p-1",title:"Refresh content",children:r.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),r.jsx("div",{ref:j,className:"markdown-content",dangerouslySetInnerHTML:{__html:m}},i?"selected":"preview")]}),!s&&!d&&!m&&r.jsxs("div",{className:"p-6 text-center text-gray-400 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[r.jsx("iconify-icon",{icon:"mdi:language-markdown",width:"48",height:"48",class:"mb-2 opacity-50"}),r.jsx("div",{className:"text-sm font-medium",children:"Markdown Block"}),r.jsx("div",{className:"text-xs mt-1",children:E==="content"?"Click to start writing markdown":"Enter a markdown URL in the sidebar"})]})]})},Fk=(t,l={})=>{const i={sourceType:t.sourceType||"content",content:t.content||"",url:t.url||"",showSource:t.showSource!==!1,cacheEnabled:t.cacheEnabled!==!1,layoutStyles:t.layoutStyles||{}};return`<div data-lara-block="markdown" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Wk=(t,l={})=>`<div style="padding: 16px; background: #f3f4f6; border-radius: 8px; text-align: center; color: #6b7280; font-size: 14px;">
        <p style="margin: 0;">Markdown content is not supported in emails.</p>
        <p style="margin: 8px 0 0; font-size: 12px;">Please use other block types for email templates.</p>
    </div>`,Uk={page:Fk,email:Wk},Vk=[{name:"sourceType",type:"select",label:f("Source Type"),section:f("Content"),options:[{value:"content",label:f("Write Content")},{value:"url",label:f("From URL")}]},{name:"url",type:"text",label:f("Markdown URL"),section:f("Content"),placeholder:"https://github.com/user/repo/blob/main/README.md",description:f("Enter a URL to a markdown file (GitHub, GitLab, Bitbucket, or direct .md URL)"),condition:t=>t.sourceType==="url"},{name:"showSource",type:"toggle",label:f("Show Source URL"),section:f("Settings"),defaultValue:!0,condition:t=>t.sourceType==="url"},{name:"cacheEnabled",type:"toggle",label:f("Enable Caching"),section:f("Settings"),defaultValue:!0,description:f("Cache the markdown content to improve performance"),condition:t=>t.sourceType==="url"}],Kk=Me(zk,{block:Hk,save:Uk,fields:Vk}),Gk="section",Xk="1.0.0",Yk="Section",Qk="Layout",qk="mdi:card-outline",Jk="Full-width section container with gradient background support",Zk=["section","container","wrapper","hero","banner","full-width"],eC=["page"],tC={align:!1,spacing:!0,nesting:!0,layout:!0,html:!0,duplicate:!0,remove:!0},nC={fullWidth:!0,containerMaxWidth:"1280px",contentAlign:"center",backgroundType:"solid",backgroundColor:"#ffffff",gradientFrom:"#f9fafb",gradientTo:"#f3f4f6",gradientDirection:"to-br",children:[[]]},rC={type:Gk,version:Xk,label:Yk,category:Qk,icon:qk,description:Jk,keywords:Zk,contexts:eC,supports:tC,defaultProps:nC},oC=({block:t,parentId:l,onSelect:i,selectedBlockId:s,onUpdate:c,onDelete:d,onMoveNested:g,onDuplicateNested:m,blockIndex:h,totalBlocks:b,onUpdateNested:x,onDeleteNested:v,onMoveNestedBlock:N,onDuplicateNestedBlock:S})=>{const[$,k]=y.useState(null),[C,j]=y.useState(null),{attributes:L,listeners:E,setNodeRef:A,transform:R,transition:M,isDragging:P}=ec({id:t.id,data:{type:"nested",columnIndex:0,parentId:l}}),H={transform:En.Transform.toString(R),transition:M,opacity:P?.5:1},G=tc(t.type),V=s===t.id,Y=h>0,O=h<b-1,ee=ce=>{k(ce?{editorRef:ce.editorRef,align:ce.align,onAlignChange:ce.onAlignChange}:null)},se=ce=>{j(ce?{align:ce.align,onAlignChange:ce.onAlignChange}:null)};return G?r.jsxs("div",{ref:A,style:H,className:`relative group cursor-grab active:cursor-grabbing ${P?"z-50":""}`,onClick:ce=>{ce.stopPropagation(),i(t.id)},...L,...E,children:[V&&r.jsx(Pi,{block:t,onMoveUp:()=>g(t.id,l,0,"up"),onMoveDown:()=>g(t.id,l,0,"down"),onDelete:()=>d(t.id,l,0),onDuplicate:()=>m(t.id,l,0),canMoveUp:Y,canMoveDown:O,textFormatProps:$,alignProps:C}),r.jsx(G,{props:t.props,isSelected:V,onUpdate:ce=>c(t.id,ce),onRegisterTextFormat:ee,onRegisterAlign:se,...Mi(t.type).nesting||Mi(t.type).columnCount?{blockId:t.id,onSelect:i,selectedBlockId:s,onUpdateNested:x||c,onDeleteNested:v||d,onMoveNestedBlock:N||g,onDuplicateNestedBlock:S||m}:{}})]}):r.jsxs("div",{ref:A,style:H,className:"p-2 bg-red-100 text-red-600 rounded text-xs",children:["Unknown: ",t.type]})},lC=({parentId:t,blocks:l,onSelect:i,selectedBlockId:s,onUpdate:c,onDelete:d,onMoveNested:g,onDuplicateNested:m,onUpdateNested:h,onDeleteNested:b,onMoveNestedBlock:x,onDuplicateNestedBlock:v})=>{const N=`section-${t}`,{setNodeRef:S,isOver:$}=ll({id:N,data:{type:"column",columnIndex:0,parentId:t}}),k=l.map(C=>C.id);return r.jsx("div",{ref:S,className:`min-h-[80px] p-4 rounded-lg transition-colors ${$?"bg-primary/10 border-2 border-primary border-dashed":l.length===0?"bg-gray-50/50 border-2 border-dashed border-gray-300":""}`,children:r.jsx(Za,{items:k,strategy:Ja,children:l.length>0?r.jsx("div",{className:"space-y-3",children:l.map((C,j)=>r.jsx(oC,{block:C,blockIndex:j,totalBlocks:l.length,parentId:t,onSelect:i,selectedBlockId:s,onUpdate:c,onDelete:d,onMoveNested:g,onDuplicateNested:m,onUpdateNested:h,onDeleteNested:b,onMoveNestedBlock:x,onDuplicateNestedBlock:v},C.id))}):r.jsx("div",{className:"flex items-center justify-center h-full min-h-[60px] text-gray-400 text-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"mx-auto h-6 w-6 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{children:f("Drop blocks here")})]})})})})},iC=({props:t,isSelected:l,blockId:i,onSelect:s,selectedBlockId:c,onUpdateNested:d,onDeleteNested:g,onMoveNestedBlock:m,onDuplicateNestedBlock:h})=>{const{fullWidth:b=!0,containerMaxWidth:x="1280px",contentAlign:v="center",backgroundType:N="solid",backgroundColor:S="#ffffff",gradientFrom:$="#f9fafb",gradientTo:k="#f3f4f6",gradientDirection:C="to-br",children:j=[[]]}=t,A={background:N==="gradient"?N==="gradient"?`linear-gradient(${{"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"}[C]||"to bottom right"}, ${$}, ${k})`:S:S,padding:t.layoutStyles?.padding?void 0:"48px 16px",...t.layoutStyles?.padding&&{paddingTop:t.layoutStyles.padding.top||"48px",paddingRight:t.layoutStyles.padding.right||"16px",paddingBottom:t.layoutStyles.padding.bottom||"48px",paddingLeft:t.layoutStyles.padding.left||"16px"}},R={maxWidth:b?x:"100%",margin:v==="center"?"0 auto":void 0,marginLeft:v==="left"?"0":void 0,marginRight:v==="right"?"0":void 0,width:"100%"},M=Array.isArray(j[0])?j[0]:[];return r.jsx("div",{className:`transition-all rounded-lg ${l?"ring-2 ring-primary ring-offset-2":""}`,style:A,children:r.jsx("div",{style:R,children:r.jsx(lC,{parentId:i,blocks:M,onSelect:s,selectedBlockId:c,onUpdate:d,onDelete:g,onMoveNested:m,onDuplicateNested:h,onUpdateNested:d,onDeleteNested:g,onMoveNestedBlock:m,onDuplicateNestedBlock:h})})})},sC=({props:t,onUpdate:l})=>{const{fullWidth:i=!0,containerMaxWidth:s="1280px",contentAlign:c="center",backgroundType:d="solid",backgroundColor:g="#ffffff",gradientFrom:m="#f9fafb",gradientTo:h="#f3f4f6",gradientDirection:b="to-br"}=t,x=(S,$)=>{l({...t,[S]:$})},v=[{value:"to-t",label:f("To Top")},{value:"to-tr",label:f("To Top Right")},{value:"to-r",label:f("To Right")},{value:"to-br",label:f("To Bottom Right")},{value:"to-b",label:f("To Bottom")},{value:"to-bl",label:f("To Bottom Left")},{value:"to-l",label:f("To Left")},{value:"to-tl",label:f("To Top Left")}],N=[{value:"640px",label:"sm (640px)"},{value:"768px",label:"md (768px)"},{value:"1024px",label:"lg (1024px)"},{value:"1280px",label:"xl (1280px)"},{value:"1536px",label:"2xl (1536px)"},{value:"100%",label:f("Full")}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Type")}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>x("backgroundType","solid"),className:`
                            px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                            ${d==="solid"?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                        `,children:f("Solid Color")}),r.jsx("button",{onClick:()=>x("backgroundType","gradient"),className:`
                            px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                            ${d==="gradient"?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                        `,children:f("Gradient")})]})]}),d==="solid"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:g,onChange:S=>x("backgroundColor",S.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:g,onChange:S=>x("backgroundColor",S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#ffffff"})]})]}),d==="gradient"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gradient From")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:m,onChange:S=>x("gradientFrom",S.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:m,onChange:S=>x("gradientFrom",S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#f9fafb"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gradient To")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:h,onChange:S=>x("gradientTo",S.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:h,onChange:S=>x("gradientTo",S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"#f3f4f6"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gradient Direction")}),r.jsx("select",{value:b,onChange:S=>x("gradientDirection",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:v.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Preview")}),r.jsx("div",{className:"h-16 rounded-lg border border-gray-200",style:{background:`linear-gradient(${b==="to-br"?"to bottom right":b==="to-b"?"to bottom":b==="to-r"?"to right":b==="to-tr"?"to top right":b==="to-t"?"to top":b==="to-tl"?"to top left":b==="to-l"?"to left":"to bottom left"}, ${m}, ${h})`}})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Container Settings")}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("Contained Content")}),r.jsx("p",{className:"text-xs text-gray-500",children:f("Limit content width with a max-width container")})]}),r.jsx("button",{onClick:()=>x("fullWidth",!i),className:`
                            relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                            ${i?"bg-primary":"bg-gray-300"}
                        `,children:r.jsx("span",{className:`
                                inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                                ${i?"translate-x-6":"translate-x-1"}
                            `})})]}),i&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Container Max Width")}),r.jsx("select",{value:s,onChange:S=>x("containerMaxWidth",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:N.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Content Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(S=>r.jsx("button",{onClick:()=>x("contentAlign",S),className:`
                                    px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                    ${c===S?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                                `,children:f(S.charAt(0).toUpperCase()+S.slice(1))},S))})]})]}),r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[r.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-gray-700",children:[f("Tip"),":"]}),r.jsx("p",{className:"mt-1",children:f("Use sections to create full-width backgrounds with gradient colors. Drag blocks inside the section to build your content.")})]})]})})]})},aC={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},cC=(t,l={})=>{const{generateBlockHtml:i}=l,c=Xt("section",t),{fullWidth:d=!0,containerMaxWidth:g="1280px",contentAlign:m="center",backgroundType:h="solid",backgroundColor:b="#ffffff",gradientFrom:x="#f9fafb",gradientTo:v="#f3f4f6",gradientDirection:N="to-br",children:S=[]}=t;let $="";h==="gradient"?$=`background: linear-gradient(${aC[N]||"to bottom right"}, ${x}, ${v})`:$=`background-color: ${b}`;const k=m==="center"?"margin: 0 auto":m==="left"?"margin-left: 0":"margin-right: 0",C="padding: 48px 16px",L=(S[0]||[]).map(M=>i?i(M,l):"").join(""),E=[$,C].filter(Boolean).join("; "),A=Yt(t,E),R=d?`max-width: ${g}; ${k}; width: 100%`:"width: 100%";return`
        <section class="${c}" style="${A}">
            <div class="lb-section-container" style="${R}">
                ${L}
            </div>
        </section>
    `},uC=(t,l={})=>{const{generateBlockHtml:i}=l,{backgroundType:s="solid",backgroundColor:c="#ffffff",gradientFrom:d="#f9fafb",gradientTo:g="#f3f4f6",children:m=[]}=t,h=s==="gradient"?d:c,x=(m[0]||[]).map(v=>i?i(v,l):"").join("");return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: ${h};">
            <tr>
                <td style="padding: 32px 16px;">
                    ${x}
                </td>
            </tr>
        </table>
    `},dC={page:cC,email:uC},fC=Me(rC,{block:iC,editor:sC,save:dC}),gC="icon",pC="1.0.0",hC="Icon",mC="Content",xC="mdi:emoticon-outline",yC="Display icons from the Iconify library",vC=["icon","iconify","symbol","emoji","graphic"],bC=["page","email"],wC={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},kC={icon:"lucide:star",size:"48px",color:"#3b82f6",align:"center",backgroundColor:"",backgroundShape:"none",backgroundPadding:"16px"},CC={type:gC,version:pC,label:hC,category:mC,icon:xC,description:yC,keywords:vC,contexts:bC,supports:wC,defaultProps:kC},SC=({props:t,isSelected:l,onRegisterAlign:i})=>{const{icon:s="lucide:star",size:c="48px",color:d="#3b82f6",align:g="center",backgroundColor:m="",backgroundShape:h="none",backgroundPadding:b="16px"}=t,x=y.useRef(i);x.current=i,y.useEffect(()=>(l&&x.current&&x.current({align:g,onAlignChange:()=>{}}),()=>{x.current&&x.current(null)}),[l,g]);const v={left:"flex-start",center:"center",right:"flex-end"},N=()=>{if(!m||h==="none")return{};const j={backgroundColor:m,padding:b,display:"inline-flex",alignItems:"center",justifyContent:"center"};switch(h){case"circle":return{...j,borderRadius:"50%"};case"rounded":return{...j,borderRadius:"12px"};case"square":return{...j,borderRadius:"0"};default:return j}},S={display:"flex",justifyContent:v[g]||"center",padding:"8px 0"},$=_e(S,t.layoutStyles),k=N(),C=m&&h!=="none";return r.jsx("div",{className:`transition-all ${l?"ring-2 ring-primary ring-offset-2 rounded":""}`,style:$,children:C?r.jsx("div",{style:k,children:r.jsx("iconify-icon",{icon:s,width:c,height:c,style:{color:d}})}):r.jsx("iconify-icon",{icon:s,width:c,height:c,style:{color:d}})})},jC=[{icon:"lucide:star",label:"Star"},{icon:"lucide:heart",label:"Heart"},{icon:"lucide:check",label:"Check"},{icon:"lucide:x",label:"X"},{icon:"lucide:plus",label:"Plus"},{icon:"lucide:minus",label:"Minus"},{icon:"lucide:arrow-right",label:"Arrow Right"},{icon:"lucide:arrow-left",label:"Arrow Left"},{icon:"lucide:chevron-right",label:"Chevron Right"},{icon:"lucide:chevron-down",label:"Chevron Down"},{icon:"lucide:user",label:"User"},{icon:"lucide:users",label:"Users"},{icon:"lucide:mail",label:"Mail"},{icon:"lucide:phone",label:"Phone"},{icon:"lucide:home",label:"Home"},{icon:"lucide:settings",label:"Settings"},{icon:"lucide:search",label:"Search"},{icon:"lucide:menu",label:"Menu"},{icon:"lucide:target",label:"Target"},{icon:"lucide:lightbulb",label:"Lightbulb"},{icon:"lucide:zap",label:"Zap"},{icon:"lucide:shield",label:"Shield"},{icon:"lucide:globe",label:"Globe"},{icon:"lucide:rocket",label:"Rocket"}],NC=({props:t,onUpdate:l})=>{const{icon:i="lucide:star",size:s="48px",color:c="#3b82f6",align:d="center",backgroundColor:g="",backgroundShape:m="none",backgroundPadding:h="16px"}=t,[b,x]=y.useState(i),v=(k,C)=>{l({...t,[k]:C})},N=()=>{v("icon",b)},S=[{value:"24px",label:"XS"},{value:"32px",label:"SM"},{value:"48px",label:"MD"},{value:"64px",label:"LG"},{value:"80px",label:"XL"},{value:"96px",label:"2XL"}],$=[{value:"8px",label:"XS"},{value:"12px",label:"SM"},{value:"16px",label:"MD"},{value:"20px",label:"LG"},{value:"24px",label:"XL"}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon")}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{type:"text",value:b,onChange:k=>x(k.target.value),onKeyDown:k=>k.key==="Enter"&&N(),placeholder:"lucide:icon-name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary focus:border-transparent"}),r.jsx("button",{onClick:N,className:"px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90",children:f("Apply")})]}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:jC.map(k=>r.jsx("button",{onClick:()=>{v("icon",k.icon),x(k.icon)},title:k.label,className:`
                                p-2 rounded-lg border-2 transition-all flex items-center justify-center
                                ${i===k.icon?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"}
                            `,children:r.jsx("iconify-icon",{icon:k.icon,width:"20",height:"20"})},k.icon))}),r.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:[f("Browse more icons at")," ",r.jsx("a",{href:"https://icon-sets.iconify.design/",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Iconify"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Size")}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:S.map(k=>r.jsx("button",{onClick:()=>v("size",k.value),className:`
                                px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                ${s===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:k.label},k.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:c,onChange:k=>v("color",k.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:c,onChange:k=>v("color",k.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(k=>r.jsx("button",{onClick:()=>v("align",k),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                ${d===k?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:f(k.charAt(0).toUpperCase()+k.slice(1))},k))})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Background")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Shape")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"none",label:f("None")},{value:"circle",label:f("Circle")},{value:"rounded",label:f("Rounded")},{value:"square",label:f("Square")}].map(k=>r.jsx("button",{onClick:()=>v("backgroundShape",k.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${m===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:k.label},k.value))})]}),m!=="none"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:g||"#e5e7eb",onChange:k=>v("backgroundColor",k.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:g,onChange:k=>v("backgroundColor",k.target.value),placeholder:"#e5e7eb",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Padding")}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:$.map(k=>r.jsx("button",{onClick:()=>v("backgroundPadding",k.value),className:`
                                            px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                            ${h===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                        `,children:k.label},k.value))})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Preview")}),r.jsx("div",{className:"flex justify-center p-4 bg-gray-50 rounded-lg",children:m!=="none"&&g?r.jsx("div",{style:{backgroundColor:g,padding:h,borderRadius:m==="circle"?"50%":m==="rounded"?"12px":"0",display:"inline-flex"},children:r.jsx("iconify-icon",{icon:i,width:s,height:s,style:{color:c}})}):r.jsx("iconify-icon",{icon:i,width:s,height:s,style:{color:c}})})]})]})},EC=(t,l={})=>{const i={icon:t.icon||"lucide:star",size:t.size||"48px",color:t.color||"#3b82f6",align:t.align||"center",backgroundColor:t.backgroundColor||"",backgroundShape:t.backgroundShape||"none",backgroundPadding:t.backgroundPadding||"16px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="icon" data-block-id="${s}" data-props='${c}'></div>`},$C=(t,l={})=>{const{icon:i="lucide:star",size:s="48px",color:c="#3b82f6",align:d="center",backgroundColor:g="",backgroundShape:m="none",backgroundPadding:h="16px"}=t,x={left:"left",center:"center",right:"right"}[d]||"center",v=i.split(":"),N=v[0]||"lucide",S=v[1]||"star",$=`https://api.iconify.design/${N}/${S}.svg?color=${encodeURIComponent(c)}`,k=parseInt(s)||48;let C=`<img src="${$}" width="${k}" height="${k}" alt="" style="display: inline-block; vertical-align: middle;" />`;if(g&&m!=="none"){const j=m==="circle"?"50%":m==="rounded"?"12px":"0",L=parseInt(h)||16;C=`
            <div style="display: inline-block; background-color: ${g}; padding: ${L}px; border-radius: ${j};">
                ${C}
            </div>
        `}return`
        <div style="text-align: ${x}; padding: 8px 0;">
            ${C}
        </div>
    `},TC={page:EC,email:$C},RC=Me(CC,{block:SC,editor:NC,save:TC}),AC="feature-box",LC="1.0.0",BC="Feature Box",IC="Content",_C="mdi:card-text-outline",DC="Icon with title and description - perfect for features, values, and services",PC=["feature","box","card","icon","service","value","benefit"],MC=["page","email"],zC={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},OC={icon:"lucide:star",iconSize:"32px",iconColor:"#3b82f6",iconBackgroundColor:"#dbeafe",iconBackgroundShape:"circle",title:"Feature Title",titleColor:"#111827",titleSize:"18px",description:"A brief description of this feature or benefit.",descriptionColor:"#6b7280",descriptionSize:"14px",align:"center",gap:"16px"},HC={type:AC,version:LC,label:BC,category:IC,icon:_C,description:DC,keywords:PC,contexts:MC,supports:zC,defaultProps:OC},FC=({props:t,isSelected:l,onUpdate:i,onRegisterAlign:s})=>{const{icon:c="lucide:star",iconSize:d="32px",iconColor:g="#3b82f6",iconBackgroundColor:m="#dbeafe",iconBackgroundShape:h="circle",title:b="Feature Title",titleColor:x="#111827",titleSize:v="18px",description:N="A brief description of this feature or benefit.",descriptionColor:S="#6b7280",descriptionSize:$="14px",align:k="center",gap:C="16px"}=t,j=y.useRef(null),L=y.useRef(null),[E,A]=y.useState(!1),[R,M]=y.useState(!1),P=y.useRef(s);P.current=s,y.useEffect(()=>(l&&P.current&&P.current({align:k,onAlignChange:()=>{}}),()=>{P.current&&P.current(null)}),[l,k]);const H={left:"flex-start",center:"center",right:"flex-end"},G={left:"left",center:"center",right:"right"},V=()=>{if(!m||h==="none")return{};const he={backgroundColor:m,padding:"16px",display:"inline-flex",alignItems:"center",justifyContent:"center",marginBottom:C};switch(h){case"circle":return{...he,borderRadius:"50%"};case"rounded":return{...he,borderRadius:"12px"};case"square":return{...he,borderRadius:"0"};default:return he}},Y={display:"flex",flexDirection:"column",alignItems:H[k]||"center",textAlign:G[k]||"center",padding:"16px"},O=_e(Y,t.layoutStyles),ee=he=>{i({...t,title:he.target.innerText})},se=he=>{i({...t,description:he.target.innerText})},ce=m&&h!=="none";return r.jsxs("div",{className:`transition-all rounded-lg ${l?"ring-2 ring-primary ring-offset-2":""}`,style:O,children:[ce?r.jsx("div",{style:V(),children:r.jsx("iconify-icon",{icon:c,width:d,height:d,style:{color:g}})}):r.jsx("div",{style:{marginBottom:C},children:r.jsx("iconify-icon",{icon:c,width:d,height:d,style:{color:g}})}),r.jsx("h3",{ref:j,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>A(!0),onBlur:he=>{A(!1),ee(he)},onKeyDown:he=>{he.key==="Enter"&&(he.preventDefault(),he.target.blur())},style:{color:x,fontSize:v,fontWeight:"600",margin:0,marginBottom:"8px",outline:"none",cursor:l?"text":"default"},className:E?"bg-blue-50/50 rounded px-1":"",children:b}),r.jsx("p",{ref:L,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>M(!0),onBlur:he=>{M(!1),se(he)},style:{color:S,fontSize:$,margin:0,lineHeight:"1.5",outline:"none",cursor:l?"text":"default"},className:R?"bg-blue-50/50 rounded px-1":"",children:N})]})},WC=[{icon:"lucide:lightbulb",label:"Lightbulb"},{icon:"lucide:heart",label:"Heart"},{icon:"lucide:users",label:"Users"},{icon:"lucide:shield",label:"Shield"},{icon:"lucide:zap",label:"Zap"},{icon:"lucide:target",label:"Target"},{icon:"lucide:rocket",label:"Rocket"},{icon:"lucide:star",label:"Star"},{icon:"lucide:check-circle",label:"Check Circle"},{icon:"lucide:award",label:"Award"},{icon:"lucide:globe",label:"Globe"},{icon:"lucide:settings",label:"Settings"}],UC=({props:t,onUpdate:l})=>{const{icon:i="lucide:star",iconSize:s="32px",iconColor:c="#3b82f6",iconBackgroundColor:d="#dbeafe",iconBackgroundShape:g="circle",title:m="Feature Title",titleColor:h="#111827",titleSize:b="18px",description:x="A brief description of this feature or benefit.",descriptionColor:v="#6b7280",descriptionSize:N="14px",align:S="center",gap:$="16px"}=t,[k,C]=y.useState(i),j=(R,M)=>{l({...t,[R]:M})},L=()=>{j("icon",k)},E=[{value:"24px",label:"SM"},{value:"32px",label:"MD"},{value:"40px",label:"LG"},{value:"48px",label:"XL"}],A=[{value:"14px",label:"SM"},{value:"16px",label:"MD"},{value:"18px",label:"LG"},{value:"20px",label:"XL"}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon")}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("input",{type:"text",value:k,onChange:R=>C(R.target.value),onKeyDown:R=>R.key==="Enter"&&L(),placeholder:"lucide:icon-name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.jsx("button",{onClick:L,className:"px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90",children:f("Apply")})]}),r.jsx("div",{className:"grid grid-cols-6 gap-2",children:WC.map(R=>r.jsx("button",{onClick:()=>{j("icon",R.icon),C(R.icon)},title:R.label,className:`
                                p-2 rounded-lg border-2 transition-all flex items-center justify-center
                                ${i===R.icon?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"}
                            `,children:r.jsx("iconify-icon",{icon:R.icon,width:"20",height:"20"})},R.icon))})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Icon Style")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Size")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map(R=>r.jsx("button",{onClick:()=>j("iconSize",R.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${s===R.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:R.label},R.value))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:c,onChange:R=>j("iconColor",R.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:c,onChange:R=>j("iconColor",R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Icon Background")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:"none",label:f("None")},{value:"circle",label:f("Circle")},{value:"rounded",label:f("Rounded")},{value:"square",label:f("Square")}].map(R=>r.jsx("button",{onClick:()=>j("iconBackgroundShape",R.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${g===R.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:R.label},R.value))})]}),g!=="none"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Background Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:d||"#dbeafe",onChange:R=>j("iconBackgroundColor",R.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:d,onChange:R=>j("iconBackgroundColor",R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Text Style")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Title")}),r.jsx("input",{type:"text",value:m,onChange:R=>j("title",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Title Color")}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("input",{type:"color",value:h,onChange:R=>j("titleColor",R.target.value),className:"h-8 w-10 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:h,onChange:R=>j("titleColor",R.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Title Size")}),r.jsx("select",{value:b,onChange:R=>j("titleSize",R.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:A.map(R=>r.jsxs("option",{value:R.value,children:[R.label," (",R.value,")"]},R.value))})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Description")}),r.jsx("textarea",{value:x,onChange:R=>j("description",R.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Description Color")}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("input",{type:"color",value:v,onChange:R=>j("descriptionColor",R.target.value),className:"h-8 w-10 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:v,onChange:R=>j("descriptionColor",R.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-xs"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Description Size")}),r.jsx("select",{value:N,onChange:R=>j("descriptionSize",R.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded text-sm",children:[{value:"12px",label:"XS"},{value:"14px",label:"SM"},{value:"16px",label:"MD"}].map(R=>r.jsxs("option",{value:R.value,children:[R.label," (",R.value,")"]},R.value))})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map(R=>r.jsx("button",{onClick:()=>j("align",R),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                ${S===R?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:f(R.charAt(0).toUpperCase()+R.slice(1))},R))})]})]})},VC=(t,l={})=>{const i={icon:t.icon||"lucide:star",iconSize:t.iconSize||"32px",iconColor:t.iconColor||"#3b82f6",iconBackgroundColor:t.iconBackgroundColor||"#dbeafe",iconBackgroundShape:t.iconBackgroundShape||"circle",title:t.title||"Feature Title",titleColor:t.titleColor||"#111827",titleSize:t.titleSize||"18px",description:t.description||"",descriptionColor:t.descriptionColor||"#6b7280",descriptionSize:t.descriptionSize||"14px",align:t.align||"center",gap:t.gap||"16px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="feature-box" data-block-id="${s}" data-props='${c}'></div>`},KC=(t,l={})=>{const{icon:i="lucide:star",iconSize:s="32px",iconColor:c="#3b82f6",iconBackgroundColor:d="#dbeafe",iconBackgroundShape:g="circle",title:m="Feature Title",titleColor:h="#111827",titleSize:b="18px",description:x="",descriptionColor:v="#6b7280",descriptionSize:N="14px",align:S="center"}=t,k={left:"left",center:"center",right:"right"}[S]||"center",C=i.split(":"),j=C[0]||"lucide",L=C[1]||"star",E=`https://api.iconify.design/${j}/${L}.svg?color=${encodeURIComponent(c)}`,A=parseInt(s)||32;let R=`<img src="${E}" width="${A}" height="${A}" alt="" style="display: inline-block;" />`;return d&&g!=="none"&&(R=`
            <div style="display: inline-block; background-color: ${d}; padding: 16px; border-radius: ${g==="circle"?"50%":g==="rounded"?"12px":"0"};">
                ${R}
            </div>
        `),`
        <div style="text-align: ${k}; padding: 16px;">
            <div style="margin-bottom: 16px;">
                ${R}
            </div>
            <h3 style="color: ${h}; font-size: ${b}; font-weight: 600; margin: 0 0 8px 0;">
                ${m}
            </h3>
            <p style="color: ${v}; font-size: ${N}; margin: 0; line-height: 1.5;">
                ${x}
            </p>
        </div>
    `},GC={page:VC,email:KC},XC=Me(HC,{block:FC,editor:UC,save:GC}),YC="stats-item",QC="1.0.0",qC="Stats Item",JC="Content",ZC="mdi:chart-bar",e2="Display a statistic with a large value and label",t2=["stats","counter","number","metric","statistic","count"],n2=["page","email"],r2={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},o2={value:"100+",valueColor:"#3b82f6",valueSize:"48px",label:"Happy Customers",labelColor:"#6b7280",labelSize:"14px",align:"center",prefix:"",suffix:""},l2={type:YC,version:QC,label:qC,category:JC,icon:ZC,description:e2,keywords:t2,contexts:n2,supports:r2,defaultProps:o2},i2=({props:t,isSelected:l,onUpdate:i,onRegisterAlign:s})=>{const{value:c="100+",valueColor:d="#3b82f6",valueSize:g="48px",label:m="Happy Customers",labelColor:h="#6b7280",labelSize:b="14px",align:x="center",prefix:v="",suffix:N=""}=t,S=y.useRef(null),$=y.useRef(null),[k,C]=y.useState(!1),[j,L]=y.useState(!1),E=y.useRef(s);E.current=s,y.useEffect(()=>(l&&E.current&&E.current({align:x,onAlignChange:()=>{}}),()=>{E.current&&E.current(null)}),[l,x]);const R={textAlign:{left:"left",center:"center",right:"right"}[x]||"center",padding:"16px"},M=_e(R,t.layoutStyles),P=G=>{i({...t,label:G.target.innerText})},H=`${v}${c}${N}`;return r.jsxs("div",{className:`transition-all rounded-lg ${l?"ring-2 ring-primary ring-offset-2":""}`,style:M,children:[r.jsx("div",{ref:S,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>C(!0),onBlur:G=>{C(!1);let V=G.target.innerText;v&&V.startsWith(v)&&(V=V.substring(v.length)),N&&V.endsWith(N)&&(V=V.substring(0,V.length-N.length)),i({...t,value:V})},onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),G.target.blur())},style:{color:d,fontSize:g,fontWeight:"bold",lineHeight:"1.2",marginBottom:"8px",outline:"none",cursor:l?"text":"default"},className:k?"bg-blue-50/50 rounded px-1 inline-block":"",children:H}),r.jsx("div",{ref:$,contentEditable:l,suppressContentEditableWarning:!0,onClick:()=>L(!0),onBlur:G=>{L(!1),P(G)},onKeyDown:G=>{G.key==="Enter"&&(G.preventDefault(),G.target.blur())},style:{color:h,fontSize:b,outline:"none",cursor:l?"text":"default"},className:j?"bg-blue-50/50 rounded px-1 inline-block":"",children:m})]})},s2=({props:t,onUpdate:l})=>{const{value:i="100+",valueColor:s="#3b82f6",valueSize:c="48px",label:d="Happy Customers",labelColor:g="#6b7280",labelSize:m="14px",align:h="center",prefix:b="",suffix:x=""}=t,v=($,k)=>{l({...t,[$]:k})},N=[{value:"32px",label:"SM"},{value:"40px",label:"MD"},{value:"48px",label:"LG"},{value:"56px",label:"XL"},{value:"64px",label:"2XL"}],S=[{value:"12px",label:"XS"},{value:"14px",label:"SM"},{value:"16px",label:"MD"},{value:"18px",label:"LG"}];return r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Value")}),r.jsx("input",{type:"text",value:i,onChange:$=>v("value",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"100+"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Prefix")}),r.jsx("input",{type:"text",value:b,onChange:$=>v("prefix",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"$"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Suffix")}),r.jsx("input",{type:"text",value:x,onChange:$=>v("suffix",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"%"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Value Style")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Value Size")}),r.jsx("div",{className:"grid grid-cols-5 gap-2",children:N.map($=>r.jsx("button",{onClick:()=>v("valueSize",$.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${c===$.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:$.label},$.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Value Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:s,onChange:$=>v("valueColor",$.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:s,onChange:$=>v("valueColor",$.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:f("Label")}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Label Text")}),r.jsx("input",{type:"text",value:d,onChange:$=>v("label",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Happy Customers"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Label Size")}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:S.map($=>r.jsx("button",{onClick:()=>v("labelSize",$.value),className:`
                                    px-2 py-2 text-xs font-medium rounded-lg border-2 transition-all
                                    ${m===$.value?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                                `,children:$.label},$.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Label Color")}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"color",value:g,onChange:$=>v("labelColor",$.target.value),className:"h-10 w-12 border border-gray-300 rounded cursor-pointer"}),r.jsx("input",{type:"text",value:g,onChange:$=>v("labelColor",$.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-5",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Alignment")}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["left","center","right"].map($=>r.jsx("button",{onClick:()=>v("align",$),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all capitalize
                                ${h===$?"border-primary bg-primary/10 text-primary":"border-gray-200 text-gray-700 hover:border-gray-300"}
                            `,children:f($.charAt(0).toUpperCase()+$.slice(1))},$))})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Preview")}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[r.jsxs("div",{style:{color:s,fontSize:c,fontWeight:"bold",lineHeight:"1.2",marginBottom:"4px"},children:[b,i,x]}),r.jsx("div",{style:{color:g,fontSize:m},children:d})]})]})]})},a2=(t,l={})=>{const i={value:t.value||"100+",valueColor:t.valueColor||"#3b82f6",valueSize:t.valueSize||"48px",label:t.label||"Happy Customers",labelColor:t.labelColor||"#6b7280",labelSize:t.labelSize||"14px",align:t.align||"center",prefix:t.prefix||"",suffix:t.suffix||"",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},s=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="stats-item" data-block-id="${s}" data-props='${c}'></div>`},c2=(t,l={})=>{const{value:i="100+",valueColor:s="#3b82f6",valueSize:c="48px",label:d="Happy Customers",labelColor:g="#6b7280",labelSize:m="14px",align:h="center",prefix:b="",suffix:x=""}=t,v=`${b}${i}${x}`;return`
        <div style="text-align: ${h}; padding: 16px;">
            <div style="color: ${s}; font-size: ${c}; font-weight: bold; line-height: 1.2; margin-bottom: 8px;">
                ${v}
            </div>
            <div style="color: ${g}; font-size: ${m};">
                ${d}
            </div>
        </div>
    `},u2={page:a2,email:c2},d2=Me(l2,{block:i2,editor:s2,save:u2}),Uf=[Fx,oy,by,Py,e0,x0,I0,cv,Tv,Kv,cb,Nb,Xb,d1,T1,K1,fw,Tw,Gw,dk,$k,Kk,fC,RC,XC,d2],Vf=Uf.reduce((t,l)=>(l&&l.type&&(t[l.type]=l),t),{}),f2=t=>Vf[t]?.block||null,Mi=t=>{const l=Vf[t];if(l?.supports)return l.supports;if(typeof window<"u"&&window.LaraBuilderBlockRegistry){const i=window.LaraBuilderBlockRegistry.get(t);if(i?.supports)return i.supports}return{}},_2=t=>{Uf.forEach((l,i)=>{if(!l||!l.type){console.warn(`[BlockLoader] Skipping invalid block at index ${i}:`,l);return}t.register(l)})},tc=t=>{const l=Qe.getComponent(t);return l||f2(t)},g2=t=>t?`lb-${t.toLowerCase()}`:"lb-block",p2=(t,l={},i="")=>{const s=["lb-block",g2(t)];return l.customClass&&s.push(l.customClass),i&&s.push(i),s.filter(Boolean).join(" ")},of=({id:t,isFirst:l=!1})=>{const{setNodeRef:i,isOver:s}=ll({id:t,data:{type:"dropzone",position:t}});return r.jsx("div",{ref:i,className:`transition-all duration-200 ${s?"h-16 bg-primary/10 border-2 border-dashed border-primary rounded-lg my-2 flex items-center justify-center":l?"h-0":"h-1"}`,children:s&&r.jsx("span",{className:"text-primary text-sm font-medium",children:f("Drop here")})})},h2=({block:t,selectedBlockId:l,onSelect:i,onUpdate:s,onDelete:c,onDeleteNested:d,onMoveBlock:g,onDuplicateBlock:m,onMoveNestedBlock:h,onDuplicateNestedBlock:b,onInsertBlockAfter:x,onReplaceBlock:v,onMergeBlockWithPrevious:N,totalBlocks:S,blockIndex:$,context:k})=>{const[C,j]=y.useState(null),[L,E]=y.useState(!1),A=y.useRef(null),R=y.useRef(null),M=y.useRef(t.props);M.current=t.props;const{attributes:P,listeners:H,setNodeRef:G,setActivatorNodeRef:V,transform:Y,transition:O,isDragging:ee}=ec({id:t.id}),se=y.useCallback(Ee=>{(!Ee.inputType||Ee.inputType.startsWith("insert")||Ee.inputType.startsWith("delete"))&&(E(!0),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{E(!1)},1500))},[]);y.useEffect(()=>{const Ee=R.current;if(Ee)return Ee.addEventListener("input",se),()=>{Ee.removeEventListener("input",se),A.current&&clearTimeout(A.current)}},[se]);const ce={transform:En.Transform.toString(Y),transition:O,opacity:ee?.5:1},he=p2(t.type,t.props),ve=tc(t.type),te=l===t.id,ae=Mi(t.type),le=ae.bold||ae.italic||ae.underline,_=ae.align&&!le,U=ae.columnCount===!0,me=ae.nesting===!0||U,ne=["text-editor"].includes(t.type),W=ne,X=_?{align:t.props?.align||"center",onAlignChange:Ee=>s(t.id,{...t.props,align:Ee})}:null,J=U?{columns:t.props?.columns||1,onColumnsChange:Ee=>{const Tt=parseInt(t.props?.columns)||1;let Rt=[...t.props?.children||[[]]];if(Ee>Tt)for(let et=Tt;et<Ee;et++)Rt.push([]);else Ee<Tt&&(Rt=Rt.slice(0,Ee));s(t.id,{...t.props,columns:Ee,children:Rt})}}:null,ie={ref:V,...H};if(!ve)return r.jsxs("div",{ref:G,style:ce,className:"p-4 bg-red-100 text-red-600 rounded",children:["Unknown block type: ",t.type]});const re=$>0,je=$<S-1,Ne=te&&(le||ne)?"cursor-text":"cursor-grab active:cursor-grabbing",Ie=te&&!L&&!ee,$t=Ee=>{G(Ee),R.current=Ee};return r.jsxs("div",{ref:$t,style:ce,className:`${he} relative group ${Ne} ${ee?"z-50":""} ${te?"lb-block-selected":""}`,"data-block-type":t.type,onClick:Ee=>{Ee.stopPropagation(),i(t.id)},...P,children:[Ie&&!W&&r.jsx(Pi,{block:t,onMoveUp:()=>g(t.id,"up"),onMoveDown:()=>g(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:re,canMoveDown:je,textFormatProps:C,alignProps:X,columnsProps:J,dragHandleProps:ie}),r.jsx(ve,{props:t.props,blockId:t.id,isSelected:te,onUpdate:Ee=>s(t.id,Ee),onInsertBlockAfter:x?(Ee,Tt)=>x(t.id,Ee,Tt):void 0,onMergeWithPrevious:N?Ee=>N(t.id,Ee):void 0,...le?{onRegisterTextFormat:j,onDelete:()=>c(t.id),onReplaceBlock:v?Ee=>v(t.id,Ee):void 0,context:k}:{},...me?{blockId:t.id,onSelect:i,selectedBlockId:l,onUpdateNested:s,onDeleteNested:d,onMoveNestedBlock:h,onDuplicateNestedBlock:b}:{}}),Ie&&W&&r.jsx(Pi,{block:t,onMoveUp:()=>g(t.id,"up"),onMoveDown:()=>g(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:re,canMoveDown:je,textFormatProps:C,alignProps:X,columnsProps:J,dragHandleProps:ie,position:"bottom"})]})},m2=({blocks:t,selectedBlockId:l,onSelect:i,onUpdate:s,onDelete:c,onDeleteNested:d,onMoveBlock:g,onDuplicateBlock:m,onMoveNestedBlock:h,onDuplicateNestedBlock:b,onInsertBlockAfter:x,onReplaceBlock:v,onMergeBlockWithPrevious:N,canvasSettings:S,previewMode:$="desktop",context:k="post"})=>{const{setNodeRef:C,isOver:j}=ll({id:"canvas"}),L=t.map(H=>H.id),E=Tr(S?.layoutStyles||{}),R={width:(()=>{switch($){case"mobile":return"375px";case"tablet":return"768px";default:return S?.width||"700px"}})(),contentPadding:S?.contentPadding||"32px",contentMargin:S?.contentMargin||"40px"},M={backgroundColor:"#f3f4f6",padding:R.contentMargin},P={backgroundColor:E.backgroundColor||"#ffffff",fontFamily:E.fontFamily||"Arial, sans-serif",fontSize:E.fontSize,fontWeight:E.fontWeight,lineHeight:E.lineHeight,color:E.color,textAlign:E.textAlign,backgroundImage:E.backgroundImage,backgroundSize:E.backgroundSize,backgroundPosition:E.backgroundPosition,backgroundRepeat:E.backgroundRepeat,borderTopWidth:E.borderTopWidth,borderRightWidth:E.borderRightWidth,borderBottomWidth:E.borderBottomWidth,borderLeftWidth:E.borderLeftWidth,borderStyle:E.borderStyle||"solid",borderColor:E.borderColor,borderTopLeftRadius:E.borderTopLeftRadius||"8px",borderTopRightRadius:E.borderTopRightRadius||"8px",borderBottomLeftRadius:E.borderBottomLeftRadius||"8px",borderBottomRightRadius:E.borderBottomRightRadius||"8px",boxShadow:E.boxShadow||"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",marginTop:E.marginTop,marginRight:E.marginRight,marginBottom:E.marginBottom,marginLeft:E.marginLeft,paddingTop:E.paddingTop,paddingRight:E.paddingRight,paddingBottom:E.paddingBottom,paddingLeft:E.paddingLeft};return r.jsx("div",{className:"flex-1 overflow-auto",style:M,onClick:()=>i(null),children:r.jsx("div",{className:"mx-auto",style:{maxWidth:R.width},children:r.jsx("div",{ref:C,className:`min-h-[400px] transition-colors ${j?"ring-2 ring-primary ring-offset-2":""}`,style:P,children:r.jsx("div",{style:{padding:R.contentPadding},children:r.jsx(Za,{items:L,strategy:Ja,children:t.length>0?r.jsxs("div",{children:[r.jsx(of,{id:"dropzone-0",isFirst:!0}),t.map((H,G)=>r.jsxs("div",{children:[r.jsx(h2,{block:H,blockIndex:G,totalBlocks:t.length,selectedBlockId:l,onSelect:i,onUpdate:s,onDelete:c,onDeleteNested:d,onMoveBlock:g,onDuplicateBlock:m,onMoveNestedBlock:h,onDuplicateNestedBlock:b,onInsertBlockAfter:x,onReplaceBlock:v,onMergeBlockWithPrevious:N,context:k}),r.jsx(of,{id:`dropzone-${G+1}`})]},H.id))]}):r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${j?"border-primary bg-primary/10":"border-gray-300"}`,children:[r.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:f("Drag blocks here to start building")}),r.jsx("p",{className:"mt-1 text-gray-400 text-sm",children:f("or click blocks on the left to add them")})]})})})})})})},x2=({selectedBlock:t,onUpdate:l,onImageUpload:i,onVideoUpload:s,canvasSettings:c,onCanvasSettingsUpdate:d})=>{const g=S=>{d({...c,layoutStyles:S})};if(!t)return r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f("Email Settings")})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Email Width")}),r.jsxs("select",{value:c?.width||"700px",onChange:S=>d({...c,width:S.target.value}),className:"form-control",children:[r.jsxs("option",{value:"500px",children:["500px (",f("Narrow"),")"]}),r.jsxs("option",{value:"600px",children:["600px (",f("Standard"),")"]}),r.jsxs("option",{value:"700px",children:["700px (",f("Wide"),")"]}),r.jsxs("option",{value:"800px",children:["800px (",f("Extra Wide"),")"]})]})]}),r.jsx(ji,{layoutStyles:c?.layoutStyles||{},onUpdate:g,onImageUpload:i,defaultCollapsed:!1}),r.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:r.jsx("p",{className:"text-xs text-gray-400 text-center",children:f("Click the block to edit")})})]});const m=Qe.get(t.type),h=t.props||{},b=S=>{l(t.id,{...h,layoutStyles:S})},x=m?.label||t.type,v=m?.editor,N=m?.fields;return v?r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(x)})}),r.jsx(v,{props:h,onUpdate:S=>l(t.id,S),onImageUpload:i,onVideoUpload:s}),r.jsx(ji,{layoutStyles:h.layoutStyles||{},onUpdate:b,onImageUpload:i,defaultCollapsed:!0,customCSS:h.customCSS||"",customClass:h.customClass||"",onCustomCSSChange:S=>l(t.id,{...h,customCSS:S}),onCustomClassChange:S=>l(t.id,{...h,customClass:S})})]}):N&&N.length>0?r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(x)})}),r.jsx(lx,{fields:N,blockProps:h,onUpdate:S=>l(t.id,S)}),r.jsx(ji,{layoutStyles:h.layoutStyles||{},onUpdate:b,onImageUpload:i,defaultCollapsed:!0,customCSS:h.customCSS||"",customClass:h.customClass||"",onCustomCSSChange:S=>l(t.id,{...h,customCSS:S}),onCustomClassChange:S=>l(t.id,{...h,customClass:S})})]}):r.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[r.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:r.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(x)})}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:f("Click the block to edit it directly.")}),r.jsx(ji,{layoutStyles:h.layoutStyles||{},onUpdate:b,onImageUpload:i,defaultCollapsed:!0,customCSS:h.customCSS||"",customClass:h.customClass||"",onCustomCSSChange:S=>l(t.id,{...h,customCSS:S}),onCustomClassChange:S=>l(t.id,{...h,customClass:S})})]})},y2=({toast:t,onClose:l})=>{if(y.useEffect(()=>{if(t){const c=setTimeout(()=>{l()},4e3);return()=>clearTimeout(c)}},[t,l]),!t)return null;const i=t.variant==="success"?"bg-green-500":t.variant==="error"?"bg-red-500":t.variant==="warning"?"bg-yellow-500":"bg-blue-500",s=t.variant==="success"?"mdi:check-circle":t.variant==="error"?"mdi:alert-circle":t.variant==="warning"?"mdi:alert":"mdi:information";return r.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-slide-in-right",children:r.jsxs("div",{className:`${i} text-white px-4 py-3 rounded-lg shadow-lg flex items-start gap-3 max-w-sm`,children:[r.jsx("iconify-icon",{icon:s,width:"20",height:"20",class:"flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-sm",children:t.title}),t.message&&r.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:t.message})]}),r.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})})},v2=({html:t,onHtmlChange:l,canvasSettings:i,onExitCodeEditor:s})=>{const[c,d]=y.useState(t),g=y.useRef(null),[m,h]=y.useState(1);y.useEffect(()=>{d(t)},[t]),y.useEffect(()=>{const $=(c||"").split(`
`).length;h(Math.max($,20))},[c]);const b=$=>{const k=$.target.value;d(k)},x=()=>{l(c)},v=$=>{if($.key==="Tab"){$.preventDefault();const k=$.target.selectionStart,C=$.target.selectionEnd,j=c.substring(0,k)+"    "+c.substring(C);d(j),setTimeout(()=>{$.target.selectionStart=$.target.selectionEnd=k+4},0)}},N=()=>{try{let $=c.replace(/></g,`>
<`).replace(/\n\s*\n/g,`
`),k=0;$=$.split(`
`).map(j=>{if(j=j.trim(),!j)return"";j.match(/^<\//)&&(k=Math.max(0,k-1));const L="    ".repeat(k)+j;return j.match(/^<[^/!][^>]*[^/]>$/)&&!j.match(/^<(br|hr|img|input|meta|link)/i)&&k++,L}).join(`
`),d($),l($)}catch($){console.error("Error formatting HTML:",$)}},S={width:i?.width||"700px",backgroundColor:i?.backgroundColor||"#f3f4f6",contentBackgroundColor:i?.contentBackgroundColor||"#ffffff",contentPadding:i?.contentPadding||"32px",contentMargin:i?.contentMargin||"40px",contentBorderRadius:i?.contentBorderRadius||"8px"};return r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white border-b border-gray-200 flex-shrink-0",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Editing code"}),r.jsx("button",{onClick:s,className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Exit code editor"})]}),r.jsx("div",{className:"flex-1 overflow-auto",style:{backgroundColor:S.backgroundColor,padding:S.contentMargin},children:r.jsx("div",{className:"mx-auto",style:{maxWidth:S.width},children:r.jsxs("div",{className:"shadow-lg",style:{backgroundColor:S.contentBackgroundColor,borderRadius:S.contentBorderRadius},children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"HTML Code Editor"})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Format HTML",children:[r.jsx("iconify-icon",{icon:"mdi:auto-fix",width:"14",height:"14"}),"Format"]})})]}),r.jsxs("div",{className:"flex min-h-[500px]",children:[r.jsx("div",{className:"flex-shrink-0 bg-gray-50 border-r border-gray-200 text-right select-none",children:r.jsx("div",{className:"py-4 px-2",children:Array.from({length:m},($,k)=>r.jsx("div",{className:"text-xs text-gray-400 leading-6 pr-2",style:{fontFamily:"ui-monospace, monospace"},children:k+1},k))})}),r.jsx("div",{className:"flex-1 relative",children:r.jsx("textarea",{ref:g,value:c,onChange:b,onBlur:x,onKeyDown:v,className:"w-full h-full min-h-[500px] p-4 text-sm leading-6 text-gray-800 bg-transparent resize-none focus:outline-none",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace',tabSize:4},spellCheck:!1,placeholder:"<!-- Paste or write your HTML here -->"})})]}),r.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[c.length," characters  ",(c||"").split(`
`).length," lines"]}),r.jsx("span",{className:"text-xs text-gray-400",children:"Press Tab for indent  Changes save on blur"})]})]})})})]})},b2=({editorMode:t,onEditorModeChange:l,onCopyAllBlocks:i,onPasteBlocks:s})=>{const[c,d]=y.useState(!1),[g,m]=y.useState(!1),h=y.useRef(null);y.useEffect(()=>{const v=N=>{h.current&&!h.current.contains(N.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const b=async()=>{try{await i(),m(!0),setTimeout(()=>m(!1),2e3)}catch(v){console.error("Failed to copy blocks:",v)}},x=async()=>{try{const v=await navigator.clipboard.readText();v&&s(v)}catch(v){console.error("Failed to paste:",v)}d(!1)};return r.jsxs("div",{className:"relative",ref:h,children:[r.jsx("button",{onClick:()=>d(!c),className:`p-1.5 pb-0 rounded-md transition-colors ${c?"bg-gray-100 text-gray-900":"hover:bg-gray-100 text-gray-600"}`,title:"Options",children:r.jsx("iconify-icon",{icon:"mdi:dots-vertical",width:"20",height:"20"})}),c&&r.jsxs("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 py-1 overflow-hidden",children:[r.jsx("div",{className:"px-3 py-2 border-b border-gray-100",children:r.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Editor"})}),r.jsxs("button",{onClick:()=>{l("visual"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("iconify-icon",{icon:"mdi:eye-outline",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Visual editor"})]}),t==="visual"&&r.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),r.jsxs("button",{onClick:()=>{l("code"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Code editor"})]}),t==="code"&&r.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),r.jsx("div",{className:"px-3 py-2 border-t border-b border-gray-100 mt-1",children:r.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Tools"})}),r.jsxs("button",{onClick:b,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[r.jsx("iconify-icon",{icon:g?"mdi:check":"mdi:content-copy",width:"18",height:"18",class:g?"text-green-500":"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:`text-sm ${g?"text-green-600":"text-gray-700"}`,children:g?"Copied!":"Copy all blocks"})]}),r.jsxs("button",{onClick:x,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[r.jsx("iconify-icon",{icon:"mdi:content-paste",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Paste blocks"})]})]})]})};function w2({isOpen:t,onClose:l,onInsertContent:i,isPostContext:s=!1,setTitle:c,setExcerpt:d}){const[g,m]=y.useState(""),[h,b]=y.useState({}),[x,v]=y.useState(""),[N,S]=y.useState(!1),[$,k]=y.useState(""),[C,j]=y.useState(!1),[L,E]=y.useState(!0),[A,R]=y.useState(null),[M,P]=y.useState("");y.useEffect(()=>{t&&H()},[t]);const H=async()=>{E(!0);try{const O=await fetch("/admin/ai/providers",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!O.ok)throw new Error("Failed to fetch providers");const ee=await O.json();ee.success&&(b(ee.data.providers||{}),v(ee.data.default_provider||""),S(ee.data.is_configured||!1),m(ee.data.default_provider||""))}catch(O){console.error("Error fetching AI providers:",O),P(f("Failed to load AI providers"))}finally{E(!1)}},G=async()=>{if(!$.trim()){P(f("Please enter a prompt to generate content."));return}if(!g){P(f("Please select an AI provider or configure from AI Integrations settings."));return}j(!0),P(""),R(null);try{const O=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),se=await(await fetch("/admin/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":O,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({prompt:$,provider:g,content_type:"post_content"})})).json();if(se.success){let ce=se.data;if(typeof ce=="string")try{ce=JSON.parse(ce)}catch(he){console.warn("Failed to parse AI response as JSON:",he)}R(ce)}else P(se.message||f("Failed to generate content"))}catch(O){P(f("Network error. Please try again.")),console.error("AI Generation Error:",O)}finally{j(!1)}},V=y.useCallback(()=>{if(A){if(s&&c&&A.title&&c(A.title),s&&d&&A.excerpt&&d(A.excerpt),A.content&&i){const O=[];if(A.title&&!s){const se=Qe.createInstance("heading",{content:A.title,level:"h1",align:"left"});se&&O.push(se)}const ee=A.content;if(ee.includes("<")&&ee.includes(">")){const se=Qe.createInstance("text-editor",{content:ee});se&&O.push(se)}else ee.split(/\n\n+/).map(ce=>ce.trim()).filter(ce=>ce.length>0).forEach(ce=>{const he=ce.replace(/\n/g,"<br>"),ve=Qe.createInstance("text",{content:he,align:"left"});ve&&O.push(ve)});O.length>0&&i(O)}Y()}},[A,s,c,d,i]),Y=()=>{k(""),R(null),P(""),l()};return t?r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 p-4 backdrop-blur-sm",onClick:O=>{O.target===O.currentTarget&&Y()},children:r.jsxs("div",{className:"flex max-w-2xl w-full max-h-[95vh] flex-col overflow-hidden rounded-lg border border-gray-200 bg-white text-gray-900 shadow-2xl",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white",style:{backgroundColor:"var(--color-primary, #635bff)"},children:r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("AI Content Generator")})]}),r.jsx("button",{type:"button",onClick:Y,className:"text-gray-400 hover:text-gray-600 transition-colors",title:f("Close"),children:r.jsx("iconify-icon",{icon:"mdi:close",width:"24",height:"24"})})]}),r.jsx("div",{className:"px-6 pb-6 space-y-4 flex-1 overflow-y-auto",children:L?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-gray-400"}),r.jsx("span",{className:"ml-2 text-gray-500",children:f("Loading providers...")})]}):N?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"ai_provider",className:"block text-sm font-medium text-gray-700",children:f("AI Provider")}),r.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:text-primary/80 hover:underline flex items-center",title:f("Configure AI Settings"),children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"12",height:"12",class:"mr-1"}),f("Settings")]})]}),r.jsxs("select",{id:"ai_provider",value:g,onChange:O=>m(O.target.value),className:"form-control",children:[r.jsx("option",{value:"",disabled:!0,children:f("Select AI Provider")}),Object.entries(h).map(([O,ee])=>r.jsx("option",{value:O,children:ee},O))]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"ai_prompt",className:"block text-sm font-medium text-gray-700",children:f("Describe your content")}),r.jsx("textarea",{id:"ai_prompt",value:$,onChange:O=>k(O.target.value),rows:4,placeholder:f("Example: Write a blog post about the benefits of AI in modern web development, focusing on productivity and user experience..."),className:"form-control-textarea w-full",maxLength:1e3}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[r.jsx("span",{children:f("Be specific about your content requirements")}),r.jsxs("span",{children:[$.length,"/1000"]})]})]}),r.jsx("div",{className:"flex justify-center pt-2",children:r.jsx("button",{type:"button",onClick:G,disabled:!$.trim()||C,className:"inline-flex items-center px-6 py-2.5 text-sm font-medium text-white hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:"var(--color-primary, #635bff)"},children:C?r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin mr-2"}),f("Generating...")]}):r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"mr-2"}),f("Generate Content")]})})}),A&&r.jsxs("div",{className:"mt-6 space-y-4 border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f("Generated Content Preview")}),A.title&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Title")}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:A.title})]}),A.excerpt&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Excerpt")}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:A.excerpt})]}),A.content&&r.jsxs("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Content")}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm max-h-32 overflow-y-auto",dangerouslySetInnerHTML:{__html:A.content.replace(/\n/g,"<br>")}})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:f("Cancel")}),r.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-md transition-all duration-200",children:f("Insert Content")})]})]}),M&&r.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:r.jsx("p",{className:"text-sm text-red-700",children:M})})]}):r.jsxs("div",{className:"py-8 text-center",children:[r.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",width:"48",height:"48",class:"text-amber-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:f("No AI providers configured. Please configure an AI provider in settings.")}),r.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16",class:"mr-2"}),f("Go to Settings")]})]})})]})}):null}function k2({listUrl:t,isFormDirty:l,labels:i,isPostContext:s,isEmailContext:c,templateData:d,postData:g,postTypeModel:m,canUndo:h,canRedo:b,undo:x,redo:v,title:N,setTitle:S,excerpt:$,setExcerpt:k,templateName:C,setTemplateName:j,saving:L,onSave:E,editorMode:A,onEditorModeChange:R,onCopyAllBlocks:M,onPasteBlocks:P,onInsertAIContent:H}){const[G,V]=y.useState(!1),Y=()=>c?"lucide:mail":s&&m?.icon||"lucide:file-text";return r.jsxs("header",{className:"bg-white border-b border-gray-200 px-2 sm:px-4 py-2 sm:py-3 flex items-center justify-between shadow-sm flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[t&&r.jsx("a",{href:t,onClick:O=>{l&&(window.confirm(f("You have unsaved changes. Are you sure you want to leave?"))||O.preventDefault())},className:"inline-flex items-center justify-center w-9 h-9 rounded-lg border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 hover:text-gray-700 transition-colors",title:f("Go back"),children:r.jsx("iconify-icon",{icon:Y(),width:"20",height:"20"})}),r.jsx("iconify-icon",{icon:"lucide:chevron-right",width:"16",height:"16",class:"text-gray-400"}),r.jsxs("h1",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:[d?.uuid||g?.id?f("Edit"):f("Create"),r.jsxs("span",{className:"hidden sm:inline",children:[" ",m?.label_singular||i.title.split(" ")[0]]})]}),r.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[r.jsx("button",{onClick:x,disabled:!h,className:`p-1.5 pb-0 rounded-md transition-colors ${h?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Undo (Ctrl+Z)"),children:r.jsx("iconify-icon",{icon:"mdi:undo",width:"18",height:"18"})}),r.jsx("button",{onClick:v,disabled:!b,className:`p-1.5 pb-0 rounded-md transition-colors ${b?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Redo (Ctrl+Shift+Z)"),children:r.jsx("iconify-icon",{icon:"mdi:redo",width:"18",height:"18"})})]}),l&&r.jsxs("span",{className:"text-xs text-orange-600 bg-orange-50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md font-medium",children:[r.jsx("span",{className:"hidden sm:inline",children:f("Unsaved changes")}),r.jsx("span",{className:"sm:hidden",children:"*"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s&&r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>V(!0),className:"inline-flex items-center justify-center w-8 h-8 text-white rounded-md transition-all duration-200 shadow-sm hover:shadow-md hover:opacity-90",style:{backgroundColor:"var(--color-primary, #635bff)"},title:f("Generate content with AI"),children:r.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),r.jsx("input",{type:"text",value:N,onChange:O=>S(O.target.value),placeholder:f(":type title...").replace(":type",m?.label_singular||"Post"),className:"form-control w-64"})]}),c&&r.jsx("div",{className:"hidden md:flex items-center gap-2",children:r.jsx("input",{type:"text",value:C,onChange:O=>j(O.target.value),placeholder:f("Template name..."),className:"form-control w-64"})}),r.jsx("button",{onClick:E,disabled:L,className:`gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 ${L?"btn-default cursor-not-allowed":"btn-primary"}`,children:L?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{className:"hidden sm:inline",children:f("Saving...")})]}):r.jsxs(r.Fragment,{children:[r.jsx("iconify-icon",{icon:"mdi:content-save",class:"h-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:i.saveText})]})}),r.jsx(b2,{editorMode:A,onEditorModeChange:R,onCopyAllBlocks:M,onPasteBlocks:P})]}),r.jsx(w2,{isOpen:G,onClose:()=>V(!1),onInsertContent:H,isPostContext:s,setTitle:S,setExcerpt:k})]})}const C2=({block:t,onAddBlock:l})=>{const[i,s]=y.useState(!1),c=y.useRef(null),{attributes:d,listeners:g,setNodeRef:m,transform:h,isDragging:b}=$f({id:`palette-${t.type}`,data:{type:"palette",blockType:t.type}}),x={transform:h?`translate3d(${h.x}px, ${h.y}px, 0)`:void 0,opacity:b?.5:1},v=$=>{c.current={x:$.clientX,y:$.clientY},s(!1)},N=$=>{if(c.current){const k=Math.abs($.clientX-c.current.x),C=Math.abs($.clientY-c.current.y);(k>5||C>5)&&s(!0)}},S=$=>{$.stopPropagation(),!i&&l&&l(t.type),c.current=null};return r.jsxs("div",{ref:m,style:x,...g,...d,onMouseDown:v,onMouseMove:N,onClick:S,className:"flex flex-col items-center justify-center p-2 bg-white border border-gray-200 rounded-lg cursor-grab hover:border-primary hover:bg-primary/10 transition-colors active:cursor-grabbing",title:f(t.label),children:[r.jsx("iconify-icon",{icon:t.icon,width:"24",height:"24",class:"text-primary"}),r.jsx("span",{className:"text-[10px] text-gray-600 font-medium mt-1 text-center leading-tight",children:f(t.label)})]})},Kf=({onAddBlock:t,context:l=null})=>{const[i,s]=y.useState(""),[c,d]=y.useState(0);y.useEffect(()=>{const x=()=>{d(v=>v+1)};return ye.addAction(Ce.ACTION_BLOCK_REGISTERED,x),()=>{ye.removeAction(Ce.ACTION_BLOCK_REGISTERED,x)}},[]);const g=y.useMemo(()=>l?Qe.getBlocksForContext(l):Qe.getAll(),[l,c]),m=y.useMemo(()=>{const x=new Set(g.map(v=>v.category));return Array.from(x)},[g]),h=y.useMemo(()=>{if(!i.trim())return g;const x=i.toLowerCase().trim();return g.filter(v=>v.label.toLowerCase().includes(x)||v.type.toLowerCase().includes(x)||v.category.toLowerCase().includes(x))},[g,i]),b=y.useMemo(()=>{if(!i.trim())return m;const x=new Set(h.map(v=>v.category));return m.filter(v=>x.has(v))},[m,h,i]);return r.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[r.jsx("div",{className:"mb-3 shrink-0",children:r.jsxs("div",{className:"relative m-0.5",children:[r.jsx("iconify-icon",{icon:"mdi:magnify",width:"18",height:"18",class:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",value:i,onChange:x=>s(x.target.value),placeholder:f("Search blocks..."),className:"form-control pl-9 pr-8 w-full"}),i&&r.jsx("button",{onClick:()=>s(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:b.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx("iconify-icon",{icon:"mdi:package-variant",width:"32",height:"32",class:"mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:f("No blocks found")})]}):b.map(x=>{const v=h.filter(N=>N.category===x);return v.length===0?null:r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-2 px-1",children:f(x)}),r.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:v.map(N=>r.jsx(C2,{block:N,onAddBlock:t},N.type))})]},x)})})]})};function S2({collapsed:t,setCollapsed:l,onAddBlock:i,context:s}){return t?r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Blocks"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"20",height:"20"})}),r.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-primary/10 text-primary",title:f("Show Blocks"),children:r.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"})})]}):r.jsxs("div",{className:"flex flex-col h-full p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),r.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Blocks"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18",height:"18"})})]}),r.jsx(Kf,{onAddBlock:i,context:s})]})}function j2({collapsed:t,setCollapsed:l,PropertiesPanel:i,propertiesPanelProps:s}){return t?r.jsxs("div",{className:"flex flex-col items-center py-4",children:[r.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Properties"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"20",height:"20"})}),r.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-gray-50 text-gray-600",title:f("Show Properties"),children:r.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"})})]}):r.jsxs("div",{className:"flex flex-col h-full pt-4 pr-4 pb-4 pl-2 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4 pl-2",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),r.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Properties"),children:r.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"18",height:"18"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto pl-2",children:r.jsx(i,{...s})})]})}function N2({isOpen:t,onClose:l,onAddBlock:i,context:s}){return t?r.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),r.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-white shadow-xl flex flex-col animate-slide-in-left",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),r.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),r.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:r.jsx(Kf,{onAddBlock:c=>{i(c),l()},context:s})})]})]}):null}function E2({isOpen:t,onClose:l,context:i,isEmailContext:s,isPostContext:c,templateName:d,setTemplateName:g,templateSubject:m,setTemplateSubject:h,title:b,setTitle:x,postTypeModel:v,PropertiesPanel:N,propertiesPanelProps:S}){return t?r.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),r.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 bg-white shadow-xl flex flex-col animate-slide-in-right",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),r.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:r.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),r.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[s&&r.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Template Details")}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Name")}),r.jsx("input",{type:"text",value:d,onChange:$=>g($.target.value),placeholder:f("Template name..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]}),i==="email"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Subject")}),r.jsx("input",{type:"text",value:m,onChange:$=>h($.target.value),placeholder:f("Email subject..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]})]})]}),c&&r.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Title")}),r.jsx("input",{type:"text",value:b,onChange:$=>x($.target.value),placeholder:f(":type title...").replace(":type",v?.label_singular||"Post"),className:"form-control w-full"})]}),r.jsx(N,{...S})]})]})]}):null}function $2({onOpenLeftDrawer:t,onOpenRightDrawer:l}){return r.jsxs("div",{className:"lg:hidden fixed bottom-4 left-4 right-4 z-40 flex justify-between pointer-events-none",children:[r.jsxs("button",{onClick:t,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg shadow-lg hover:bg-primary/90 transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"}),r.jsx("span",{className:"text-sm font-medium",children:f("Blocks")})]}),r.jsxs("button",{onClick:l,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-gray-700 text-white rounded-lg shadow-lg hover:bg-gray-800 transition-colors",children:[r.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"}),r.jsx("span",{className:"text-sm font-medium",children:f("Properties")})]})]})}function T2({onSave:t,onImageUpload:l,onVideoUpload:i,listUrl:s,showHeader:c=!0,templateData:d,postData:g,taxonomies:m,selectedTerms:h,parentPosts:b,postType:x,postTypeModel:v,statuses:N,PropertiesPanelComponent:S}){const{state:$,actions:k,canUndo:C,canRedo:j,undo:L,redo:E,getHtml:A,getSaveData:R,context:M}=Ui(),{blocks:P,selectedBlockId:H,canvasSettings:G,isDirty:V}=$;Em({enableKeyboardShortcuts:!0});const{addBlockAfterSelected:Y}=Tm(),O=M==="email"||M==="campaign",ee=M==="page"||M==="post",{templateName:se,templateSubject:ce,templateStatus:he,templateDirty:ve,setTemplateName:te,setTemplateSubject:ae,setTemplateStatus:le,markEmailSaved:_}=Rm({templateData:d,isEmailContext:O}),{title:U,slug:me,status:K,excerpt:ne,publishedAt:W,parentId:X,selectedTerms:J,featuredImage:ie,removeFeaturedImage:re,postDirty:je,setTitle:Te,setSlug:Ne,setStatus:Ie,setExcerpt:$t,setPublishedAt:Ee,setParentId:Tt,setSelectedTerms:zn,setFeaturedImage:Rt,setRemoveFeaturedImage:et,generateSlug:zt,markPostSaved:xn}=Am({postData:g,initialSelectedTerms:h,isPostContext:ee}),{findBlock:ur,handleUpdateBlock:On,handleDeleteBlock:Rr,handleDeleteNestedBlock:Ar,handleMoveBlock:Qt,handleMoveNestedBlock:Ot,handleDuplicateBlock:yn,handleDuplicateNestedBlock:vn,handleAddBlock:pt,handleInsertBlockAfter:Lr,handleReplaceBlock:Br,handleMergeBlockWithPrevious:Ir}=Lm({blocks:P,actions:k,addBlockAfterSelected:Y}),{activeId:$n,handleDragStart:Hn,handleDragEnd:dr,customCollisionDetection:Fn}=Bm({blocks:P,actions:k}),fr=th(eh(Ya,{activationConstraint:{distance:8}})),gr=ur(H),[bn,De]=y.useState(!1),[it,tt]=y.useState(null),[Ht,st]=y.useState(!1),[at,ht]=y.useState(!1),[qt,ze]=y.useState(!1),[St,ct]=y.useState(!1),[Je,At]=y.useState("visual"),[mt,xt]=y.useState(""),[Jt,pr]=y.useState("desktop"),Lt=y.useCallback((fe,Oe,We)=>{tt({variant:fe,title:Oe,message:We})},[]),uo=V||ve||je;y.useEffect(()=>{const fe=Oe=>{if(uo)return Oe.preventDefault(),Oe.returnValue="",""};return window.addEventListener("beforeunload",fe),()=>window.removeEventListener("beforeunload",fe)},[uo]),y.useEffect(()=>{const fe=Oe=>{if(!H)return;const We=document.activeElement;if(We?.tagName==="INPUT"||We?.tagName==="TEXTAREA"||We?.isContentEditable||We?.closest('[contenteditable="true"]')||We?.closest(".ProseMirror")||We?.closest(".ql-editor")||We?.closest('[data-text-editing="true"]'))return;let Wt=!1,wn=null,kn=null,an=P.findIndex(nt=>nt.id===H);if(an===-1)for(const nt of P){if(nt.type==="columns"&&nt.props.children)for(let Rn=0;Rn<nt.props.children.length;Rn++){const pl=nt.props.children[Rn].findIndex(Ki=>Ki.id===H);if(pl!==-1){Wt=!0,wn=nt.id,kn=Rn,an=pl;break}}if(Wt)break}if((Oe.key==="Backspace"||Oe.key==="Delete")&&(Oe.preventDefault(),Wt&&wn!==null&&kn!==null?k.deleteNestedBlock(wn,kn,H):k.deleteBlock(H)),Oe.key==="Enter"&&(Oe.preventDefault(),Qe.get("text"))){const Rn=Qe.createInstance("text",{content:""});Wt&&wn!==null&&kn!==null?k.addNestedBlock(wn,kn,Rn,an+1):k.addBlock(Rn,an+1)}};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[H,P,k]);const Tn=y.useCallback(fe=>{if(fe==="code"&&Je==="visual"){const Oe=A();xt(Oe)}else fe==="visual"&&Je==="code"&&(mt.trim()||k.setBlocks([]));At(fe)},[Je,A,mt,k]),sl=y.useCallback(()=>{mt.trim()||k.setBlocks([]),At("visual")},[mt,k]),al=y.useCallback(async()=>{const fe=JSON.stringify(P,null,2);await navigator.clipboard.writeText(fe),Lt("success",f("Copied!"),f("All blocks copied to clipboard"))},[P,Lt]),Vi=y.useCallback(fe=>{try{const Oe=JSON.parse(fe);Array.isArray(Oe)&&(Oe.forEach(We=>{if(We.type){const Ft=Qe.createInstance(We.type,We.props);Ft&&k.addBlock(Ft)}}),Lt("success",f("Pasted!"),f(":count blocks pasted").replace(":count",Oe.length)))}catch{if(Je==="code")xt(fe),Lt("success",f("Pasted!"),f("HTML content pasted"));else{const We=Qe.createInstance("html",{code:fe});We&&(k.addBlock(We),Lt("success",f("Pasted!"),f("HTML block created")))}}},[k,Je,Lt]),cl=y.useCallback(fe=>{!Array.isArray(fe)||fe.length===0||(fe.forEach(Oe=>{Oe&&k.addBlock(Oe)}),Lt("success",f("AI Content Inserted"),f(":count blocks added").replace(":count",fe.length)))},[k,Lt]),ul=y.useCallback(fe=>{xt(fe)},[]),dl=async()=>{if(O&&!se.trim()){Lt("error",f("Validation Error"),f("Template name is required"));return}if(ee&&!U.trim()){Lt("error",f("Validation Error"),f("Title is required"));return}ye.doAction(Ce.ACTION_BEFORE_SAVE,$),De(!0);try{const fe=Je==="code"?mt:A(),Oe=R();let We={};if(O)We={name:se,subject:ce||se,is_active:he,body_html:fe,design_json:Oe};else if(ee){const wn={};Object.entries(J).forEach(([kn,an])=>{wn[`taxonomy_${kn}`]=an}),We={title:U,slug:me||void 0,status:K,excerpt:ne,content:fe,design_json:Oe,published_at:K==="scheduled"?W:void 0,parent_id:X||void 0,featured_image:ie||void 0,remove_featured_image:re,...wn}}const Ft=await t(We);k.markSaved(),O?_():ee&&xn();const Wt=!!(d?.uuid||g?.id);Lt("success",f(Wt?"Saved":"Created"),Ft?.message||f(Wt?"Saved successfully!":"Created successfully!")),ye.doAction(Ce.ACTION_AFTER_SAVE,Ft),Wt||(Ft?.id&&s?setTimeout(()=>{window.location.href=`${s.replace(/\/$/,"")}/${Ft.id}/edit`},500):Ft?.redirect&&setTimeout(()=>{window.location.href=Ft.redirect},500))}catch(fe){Lt("error",f("Save Failed"),fe.message||f("Failed to save")),ye.doAction(Ce.ACTION_SAVE_ERROR,fe)}finally{De(!1)}},fl=y.useMemo(()=>{const fe={email:{title:f("Email Builder"),backText:f("Back to Templates"),saveText:f("Save")},page:{title:f("Page Builder"),backText:v?.label?f("Back to :type").replace(":type",v.label):f("Back to Posts"),saveText:g?.id?f("Update"):f("Publish")},post:{title:f("Post Builder"),backText:v?.label?f("Back to :type").replace(":type",v.label):f("Back to Posts"),saveText:g?.id?f("Update"):f("Publish")},campaign:{title:f("Campaign Editor"),backText:f("Back to Campaign"),saveText:f("Save")}};return ye.applyFilters(`${Ce.FILTER_CONFIG}.${M}`,fe[M]||fe.email)},[M,v,g]),gl=S||x2,_r={selectedBlock:gr,onUpdate:On,onImageUpload:l,onVideoUpload:i,canvasSettings:G,onCanvasSettingsUpdate:k.updateCanvasSettings};return O?Object.assign(_r,{templateName:se,setTemplateName:te,templateSubject:ce,setTemplateSubject:ae,templateStatus:he,setTemplateStatus:le,context:M}):ee&&Object.assign(_r,{title:U,setTitle:Te,slug:me,setSlug:Ne,generateSlug:zt,status:K,setStatus:Ie,excerpt:ne,setExcerpt:$t,publishedAt:W,setPublishedAt:Ee,parentId:X,setParentId:Tt,selectedTerms:J,setSelectedTerms:zn,featuredImage:ie,setFeaturedImage:Rt,removeFeaturedImage:re,setRemoveFeaturedImage:et,taxonomies:m,parentPosts:b,postTypeModel:v,statuses:N,postData:g,postType:x}),r.jsxs(nm,{sensors:fr,collisionDetection:Fn,onDragStart:Hn,onDragEnd:dr,children:[r.jsx("style",{children:`
                @keyframes slideInLeft {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                @keyframes slideInRight {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
                .animate-slide-in-left {
                    animation: slideInLeft 0.2s ease-out forwards;
                }
                .animate-slide-in-right {
                    animation: slideInRight 0.2s ease-out forwards;
                }
            `}),r.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[c&&r.jsx("div",{onClick:()=>k.selectBlock(null),children:r.jsx(k2,{listUrl:s,isFormDirty:uo,labels:fl,isPostContext:ee,isEmailContext:O,templateData:d,postData:g,postTypeModel:v,canUndo:C,canRedo:j,undo:L,redo:E,title:U,setTitle:Te,excerpt:ne,setExcerpt:$t,templateName:se,setTemplateName:te,saving:bn,onSave:dl,editorMode:Je,onEditorModeChange:Tn,onCopyAllBlocks:al,onPasteBlocks:Vi,onInsertAIContent:cl})}),r.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[r.jsx($2,{onOpenLeftDrawer:()=>st(!0),onOpenRightDrawer:()=>ht(!0)}),r.jsx("div",{className:`hidden lg:flex bg-white border-r border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${qt?"w-12":"w-64"}`,onClick:()=>k.selectBlock(null),children:r.jsx(S2,{collapsed:qt,setCollapsed:ze,onAddBlock:pt,context:M})}),r.jsx(N2,{isOpen:Ht,onClose:()=>st(!1),onAddBlock:pt,context:M}),Je==="visual"?r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"flex items-center justify-center gap-1 py-2 px-4 bg-gray-100 border-b border-gray-200",onClick:()=>k.selectBlock(null),children:r.jsx("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-gray-200 p-0.5",children:["desktop","tablet","mobile"].map(fe=>r.jsxs("button",{type:"button",onClick:()=>pr(fe),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${Jt===fe?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,title:f(`${fe.charAt(0).toUpperCase()+fe.slice(1)} Preview`),children:[r.jsx("iconify-icon",{icon:`mdi:${fe==="desktop"?"monitor":fe==="tablet"?"tablet":"cellphone"}`,width:"16",height:"16"}),r.jsx("span",{className:"hidden sm:inline",children:f(fe.charAt(0).toUpperCase()+fe.slice(1))})]},fe))})}),r.jsx(m2,{blocks:P,selectedBlockId:H,onSelect:k.selectBlock,onUpdate:On,onDelete:Rr,onDeleteNested:Ar,onMoveBlock:Qt,onDuplicateBlock:yn,onMoveNestedBlock:Ot,onDuplicateNestedBlock:vn,onInsertBlockAfter:Lr,onReplaceBlock:Br,onMergeBlockWithPrevious:Ir,canvasSettings:G,previewMode:Jt,context:M})]}):r.jsx(v2,{html:mt,onHtmlChange:ul,canvasSettings:G,onExitCodeEditor:sl}),r.jsx("div",{className:`hidden lg:flex bg-white border-l border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${St?"w-12":"w-80"}`,children:r.jsx(j2,{collapsed:St,setCollapsed:ct,PropertiesPanel:gl,propertiesPanelProps:_r})}),r.jsx(E2,{isOpen:at,onClose:()=>ht(!1),context:M,isEmailContext:O,isPostContext:ee,templateName:se,setTemplateName:te,templateSubject:ce,setTemplateSubject:ae,title:U,setTitle:Te,postTypeModel:v,PropertiesPanel:gl,propertiesPanelProps:_r})]})]}),r.jsx(vm,{children:$n&&$n.toString().startsWith("palette-")&&r.jsx("div",{className:"p-4 bg-white border-2 border-primary rounded-lg shadow-lg opacity-80",children:r.jsx("span",{className:"text-sm font-medium",children:Qe.get($n.replace("palette-",""))?.label})})}),r.jsx(y2,{toast:it,onClose:()=>tt(null)})]})}function D2({context:t="post",initialData:l=null,onSave:i,onImageUpload:s,onVideoUpload:c,listUrl:d,config:g={},showHeader:m=!0,templateData:h,postData:b=null,taxonomies:x=[],selectedTerms:v={},parentPosts:N={},postType:S="post",postTypeModel:$={},statuses:k={},PropertiesPanelComponent:C}){return y.useEffect(()=>{ye.doAction(Ce.ACTION_INIT,{context:t,initialData:l})},[]),r.jsx(Nm,{context:t,initialData:l,config:g,children:r.jsx(T2,{onSave:i,onImageUpload:s,onVideoUpload:c,listUrl:d,showHeader:m,templateData:h,postData:b,taxonomies:x,selectedTerms:v,parentPosts:N,postType:S,postTypeModel:$,statuses:k,PropertiesPanelComponent:C})})}class Gf{constructor(l){this.context=l}getDefaultSettings(){return{}}generateHtml(l,i={}){const s={...this.getDefaultSettings(),...i};ye.doAction(Ce.ACTION_HTML_BEFORE_GENERATE,l,s,this.context);const c=l.map(g=>this.generateBlockHtml(g,{settings:s,allBlocks:l})).join("");let d=this.wrapOutput(c,s);return d=ye.applyFilters(Ce.FILTER_HTML_GENERATED,d,l,s,this.context),ye.doAction(Ce.ACTION_HTML_AFTER_GENERATE,d,l,s,this.context),d}generateBlockHtml(l,i={}){throw new Error("generateBlockHtml must be implemented by subclass")}wrapOutput(l,i){return l}isBlockSupported(l){return!0}getPreviewStyles(){return""}}class Xf extends Gf{constructor(){super("email")}getDefaultSettings(){return{width:"700px",backgroundColor:"#f3f4f6",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",contentBackgroundColor:"#ffffff",contentBackgroundImage:"",contentBackgroundSize:"cover",contentBackgroundPosition:"center",contentBackgroundRepeat:"no-repeat",contentPadding:"32px",contentMargin:"40px",contentBorderWidth:"0px",contentBorderColor:"#e5e7eb",contentBorderRadius:"8px",fontFamily:"Arial, sans-serif"}}generateBlockHtml(l,i={}){const{type:s,props:c}=l,d=c?.layoutStyles,g={...i,generateBlockHtml:(h,b)=>this.generateBlockHtml(h,b)},m=Qe.get(s);if(m?.save?.email){let h=m.save.email(c,g);return h=this._wrapWithLayoutStyles(h,d),h=ye.applyFilters(Ma(Ce.FILTER_HTML_BLOCK,s),h,c,g),h=ye.applyFilters(`builder.email.block.${s}`,h,c,g),h}return console.warn(`[EmailAdapter] No HTML generator found for block type: ${s}`),""}_wrapWithLayoutStyles(l,i){const s=Di(i);return s?`<table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td style="${s}">${l}</td></tr></table>`:l}wrapOutput(l,i){const s=i.width||"600px",c=i.contentPadding||"40px",d=i.contentMargin||"40px",g=i.layoutStyles?.background||{},m=i.layoutStyles?.border||{},h=i.layoutStyles?.boxShadow||{};let b="background-color: #f4f4f4;",x=`background-color: ${g.color||"#ffffff"};`;g.image&&(x+=` background-image: url('${g.image}'); background-size: ${g.size||"cover"}; background-position: ${g.position||"center"}; background-repeat: ${g.repeat||"no-repeat"};`);const v=m.width?.top||"0px",N=m.color||"#e5e7eb",S=v!=="0px"?`border: ${v} ${m.style||"solid"} ${N};`:"",$=m.radius?.topLeft||"8px";let k="";return h.blur&&h.blur!=="0px"&&(k=`box-shadow: ${h.inset?"inset ":""}${h.x||"0px"} ${h.y||"0px"} ${h.blur||"0px"} ${h.spread||"0px"} ${h.color||"rgba(0, 0, 0, 0.1)"};`),`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Email</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; ${b}">
    <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="${b}">
        <tr>
            <td align="center" style="padding: ${d} 20px;">
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="max-width: ${s}; ${x} border-radius: ${$}; ${S} ${k}">
                    <tr>
                        <td style="padding: ${c};">
                            ${l}
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
        `.trim()}}class R2 extends Gf{constructor(){super("page")}getDefaultSettings(){return{width:"100%",maxWidth:"1200px",backgroundColor:"#ffffff",contentPadding:"24px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",lineHeight:"1.6",textColor:"#1f2937"}}generateBlockHtml(l,i={}){const{type:s,props:c,id:d}=l,g={...i,blockId:d,generateBlockHtml:(b,x)=>this.generateBlockHtml(b,{...x,allBlocks:i.allBlocks})},m=Qe.get(s);if(m?.save?.page){let b=m.save.page(c,g);return b=ye.applyFilters(Ma(Ce.FILTER_HTML_BLOCK,s),b,c,g),b=ye.applyFilters(`builder.page.block.${s}`,b,c,g),b}let h=this._generateFallbackBlockHtml(l,g);return h=ye.applyFilters(Ma(Ce.FILTER_HTML_BLOCK,s),h,c,g),h=ye.applyFilters(`builder.page.block.${s}`,h,c,g),h}_wrapWithLayoutStyles(l,i,s=""){const d=[Di(i),s].filter(Boolean).join("; ");return d?`<div class="lb-layout-wrapper" style="${d}">${l}</div>`:l}_generateFallbackBlockHtml(l,i={}){const{type:s,props:c}=l;return s==="section"?this._generateSectionHtml(c,i):(console.warn(`[WebAdapter] No HTML generator found for block type: ${s}`),"")}_generateSectionHtml(l,i){const s=`lb-block lb-section${l.customClass?` ${l.customClass}`:""}`,c=Di(l?.layoutStyles),d=l?.customCSS||"",g=[`padding: ${l.padding||"40px 20px"}`];l.layoutStyles?.background?.color||g.push(`background-color: ${l.backgroundColor||"transparent"}`),l.backgroundImage&&!l.layoutStyles?.background?.image&&(g.push(`background-image: url('${l.backgroundImage}')`),g.push(`background-size: ${l.backgroundSize||"cover"}`),g.push(`background-position: ${l.backgroundPosition||"center"}`));const m=[c,g.join("; "),d].filter(Boolean).join("; "),h=(l.children||[]).map(b=>this.generateBlockHtml(b,i)).join("");return`
            <section class="${s}" style="${m}">
                <div style="max-width: ${l.maxWidth||"1200px"}; margin: 0 auto;">
                    ${h}
                </div>
            </section>
        `}wrapOutput(l,i){return`<div class="lb-content">${l}</div>`}generateStandalonePage(l,i={}){const s={...this.getDefaultSettings(),...i},c=l.map(N=>this.generateBlockHtml(N,{settings:s})).join(""),d=s.fontFamily||'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',g=s.fontSize||"16px",m=s.lineHeight||"1.6",h=s.textColor||"#1f2937",b=s.backgroundColor||"#ffffff",x=s.maxWidth||"1200px",v=s.contentPadding||"24px";return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            padding: 0;
            font-family: ${d};
            font-size: ${g};
            line-height: ${m};
            color: ${h};
            background-color: ${b};
        }
        img { max-width: 100%; height: auto; }
        a { color: inherit; }
        .lb-content {
            max-width: ${x};
            margin: 0 auto;
            padding: ${v};
        }
        .lb-heading { margin: 0 0 16px 0; }
        .lb-text { margin: 0 0 16px 0; }
        .lb-image-wrapper { margin: 0 0 16px 0; }
        .lb-button:hover { opacity: 0.9; }
        .lb-columns { margin: 0 0 16px 0; }
        @media (max-width: 768px) {
            .lb-columns { flex-direction: column; }
            .lb-column { flex: none !important; width: 100% !important; }
        }
    </style>
</head>
<body>
    <div class="lb-content">
        ${c}
    </div>
</body>
</html>
        `.trim()}getPreviewStyles(){return`
            .lb-heading { margin: 0 0 16px 0; }
            .lb-text { margin: 0 0 16px 0; }
            .lb-image-wrapper { margin: 0 0 16px 0; }
            .lb-button:hover { opacity: 0.9; }
            .lb-columns { margin: 0 0 16px 0; }
        `}}io.register("email",new Xf);io.register("page",new R2);io.register("campaign",new Xf);export{ji as L,x2 as P,L2 as R,f as _,B2 as a,A2 as b,I2 as c,D2 as d,Qe as e,y as f,Im as i,r as j,el as m,_2 as r};
